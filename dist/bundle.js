!function(r){var n={};function t(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return r[e].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=r,t.c=n,t.d=function(r,n,e){t.o(r,n)||Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:e})},t.r=function(r){Object.defineProperty(r,"__esModule",{value:!0})},t.n=function(r){var n=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(n,"a",n),n},t.o=function(r,n){return Object.prototype.hasOwnProperty.call(r,n)},t.p="",t(t.s=24)}([function(r,n,t){var e,i,a={},o=(e=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=e.apply(this,arguments)),i}),l=function(r){var n={};return function(r){if("function"==typeof r)return r();if(void 0===n[r]){var t=function(r){return document.querySelector(r)}.call(this,r);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(r){t=null}n[r]=t}return n[r]}}(),s=null,c=0,p=[],u=t(8);function d(r,n){for(var t=0;t<r.length;t++){var e=r[t],i=a[e.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](e.parts[o]);for(;o<e.parts.length;o++)i.parts.push(g(e.parts[o],n))}else{var l=[];for(o=0;o<e.parts.length;o++)l.push(g(e.parts[o],n));a[e.id]={id:e.id,refs:1,parts:l}}}}function f(r,n){for(var t=[],e={},i=0;i<r.length;i++){var a=r[i],o=n.base?a[0]+n.base:a[0],l={css:a[1],media:a[2],sourceMap:a[3]};e[o]?e[o].parts.push(l):t.push(e[o]={id:o,parts:[l]})}return t}function h(r,n){var t=l(r.insertInto);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var e=p[p.length-1];if("top"===r.insertAt)e?e.nextSibling?t.insertBefore(n,e.nextSibling):t.appendChild(n):t.insertBefore(n,t.firstChild),p.push(n);else if("bottom"===r.insertAt)t.appendChild(n);else{if("object"!=typeof r.insertAt||!r.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=l(r.insertInto+" "+r.insertAt.before);t.insertBefore(n,i)}}function m(r){if(null===r.parentNode)return!1;r.parentNode.removeChild(r);var n=p.indexOf(r);n>=0&&p.splice(n,1)}function b(r){var n=document.createElement("style");return r.attrs.type="text/css",y(n,r.attrs),h(r,n),n}function y(r,n){Object.keys(n).forEach(function(t){r.setAttribute(t,n[t])})}function g(r,n){var t,e,i,a;if(n.transform&&r.css){if(!(a=n.transform(r.css)))return function(){};r.css=a}if(n.singleton){var o=c++;t=s||(s=b(n)),e=w.bind(null,t,o,!1),i=w.bind(null,t,o,!0)}else r.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(t=function(r){var n=document.createElement("link");return r.attrs.type="text/css",r.attrs.rel="stylesheet",y(n,r.attrs),h(r,n),n}(n),e=function(r,n,t){var e=t.css,i=t.sourceMap,a=void 0===n.convertToAbsoluteUrls&&i;(n.convertToAbsoluteUrls||a)&&(e=u(e));i&&(e+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var o=new Blob([e],{type:"text/css"}),l=r.href;r.href=URL.createObjectURL(o),l&&URL.revokeObjectURL(l)}.bind(null,t,n),i=function(){m(t),t.href&&URL.revokeObjectURL(t.href)}):(t=b(n),e=function(r,n){var t=n.css,e=n.media;e&&r.setAttribute("media",e);if(r.styleSheet)r.styleSheet.cssText=t;else{for(;r.firstChild;)r.removeChild(r.firstChild);r.appendChild(document.createTextNode(t))}}.bind(null,t),i=function(){m(t)});return e(r),function(n){if(n){if(n.css===r.css&&n.media===r.media&&n.sourceMap===r.sourceMap)return;e(r=n)}else i()}}r.exports=function(r,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(n=n||{}).attrs="object"==typeof n.attrs?n.attrs:{},n.singleton||"boolean"==typeof n.singleton||(n.singleton=o()),n.insertInto||(n.insertInto="head"),n.insertAt||(n.insertAt="bottom");var t=f(r,n);return d(t,n),function(r){for(var e=[],i=0;i<t.length;i++){var o=t[i];(l=a[o.id]).refs--,e.push(l)}r&&d(f(r,n),n);for(i=0;i<e.length;i++){var l;if(0===(l=e[i]).refs){for(var s=0;s<l.parts.length;s++)l.parts[s]();delete a[l.id]}}}};var v,x=(v=[],function(r,n){return v[r]=n,v.filter(Boolean).join("\n")});function w(r,n,t,e){var i=t?"":e.css;if(r.styleSheet)r.styleSheet.cssText=x(n,i);else{var a=document.createTextNode(i),o=r.childNodes;o[n]&&r.removeChild(o[n]),o.length?r.insertBefore(a,o[n]):r.appendChild(a)}}},function(r,n){r.exports=function(r){var n=[];return n.toString=function(){return this.map(function(n){var t=function(r,n){var t=r[1]||"",e=r[3];if(!e)return t;if(n&&"function"==typeof btoa){var i=(o=e,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),a=e.sources.map(function(r){return"/*# sourceURL="+e.sourceRoot+r+" */"});return[t].concat(a).concat([i]).join("\n")}var o;return[t].join("\n")}(n,r);return n[2]?"@media "+n[2]+"{"+t+"}":t}).join("")},n.i=function(r,t){"string"==typeof r&&(r=[[null,r,""]]);for(var e={},i=0;i<this.length;i++){var a=this[i][0];"number"==typeof a&&(e[a]=!0)}for(i=0;i<r.length;i++){var o=r[i];"number"==typeof o[0]&&e[o[0]]||(t&&!o[2]?o[2]=t:t&&(o[2]="("+o[2]+") and ("+t+")"),n.push(o))}},n}},function(r,n,t){(r.exports=t(1)(!1)).push([r.i,"*, *::before, *::after {\r\n    box-sizing: border-box;\r\n    margin: 0;\r\n    padding:0;\r\n}\r\nbody {\r\n    font-family: 'Athiti', sans-serif;\r\n    background-color: #fafafa;\r\n}\r\nhtml {\r\n    \r\n    font-size: 62.5%;\r\n}",""])},function(r,n,t){var e=t(2);"string"==typeof e&&(e=[[r.i,e,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};t(0)(e,i);e.locals&&(r.exports=e.locals)},function(r,n,t){(r.exports=t(1)(!1)).push([r.i,".app-footer {\r\n    display: flex;\r\n    height: 20rem;\r\n    background-color: inherit;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.footer-container {\r\n    flex-basis: 50%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n}\r\n\r\n\r\n.footer-copyright {\r\n    font-size: 2.5rem;\r\n    letter-spacing: .2rem;\r\n    font-weight: 600;\r\n    color: #10b295;\r\n}",""])},function(r,n,t){var e=t(4);"string"==typeof e&&(e=[[r.i,e,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};t(0)(e,i);e.locals&&(r.exports=e.locals)},function(r,n){r.exports='<div class="app-footer">\r\n    <div class="footer-container">\r\n        \r\n            <h2 class="footer-copyright">Made by Anatolii Yatsenko &copy; 2018</h2>\r\n        \r\n    </div>\r\n</div>'},function(r,n,t){angular.module("pubgApp").component("appFooter",{template:t(6),controller:function(){}}),t(5)},function(r,n){r.exports=function(r){var n="undefined"!=typeof window&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!r||"string"!=typeof r)return r;var t=n.protocol+"//"+n.host,e=t+n.pathname.replace(/\/[^\/]*$/,"/");return r.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(r,n){var i,a=n.trim().replace(/^"(.*)"$/,function(r,n){return n}).replace(/^'(.*)'$/,function(r,n){return n});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?r:(i=0===a.indexOf("//")?a:0===a.indexOf("/")?t+a:e+a.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(r,n,t){(r.exports=t(1)(!1)).push([r.i,".player-section {\r\n    padding-top: 3.2rem;\r\n    padding-bottom: 3.5rem;\r\n}\r\ninput:-webkit-autofill {\r\n    -webkit-box-shadow: inset 0 0 0 50px #fafafa;\r\n    -webkit-text-fill-color: #10b295 !important;\r\n}\r\n.container {\r\n    width: 80%;\r\n    margin: auto;\r\n}\r\n\r\n.welcome-msg {\r\n    font-size: 4.2rem;\r\n    color: #1E90FF;\r\n    text-align: center;\r\n}\r\n\r\n\r\n.player-form-container {\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    margin-top: 7rem;\r\n    margin-bottom: 2rem;\r\n}\r\n\r\n\r\n.player-region-select {\r\n    height: 3rem;\r\n    display: block;\r\n    border: 1px solid #10b295;\r\n    width: 100%;\r\n    font-size: 2rem;\r\n    outline: none;\r\n    border-radius: 5px;\r\n    color: #10b295;\r\n}\r\n\r\n.player-region-select-option {\r\n    font-size: 2rem;\r\n}\r\n\r\n.player-match-select {\r\n    height: 3rem;\r\n    display: block;\r\n    border: 1px solid #10b295;\r\n    width: 100%;\r\n    font-size: 2rem;\r\n    outline: none;\r\n    border-radius: 5px;\r\n    color: #10b295;\r\n}\r\n\r\n.player-match-select-option {\r\n    flex-basis: 50%;\r\n}\r\n\r\n.player-search-user-container {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n.player-search-user-button {\r\n    display: block;\r\n    font-size: 2rem;\r\n    padding: .5rem;\r\n    flex-basis: 50%;\r\n    color: #fafafa;\r\n    background-color: #10b295;\r\n    border: 1px solid #1E90FF;\r\n    border-radius: 10px;\r\n    outline: none;\r\n    transition: all .1s;\r\n}\r\n\r\n.player-search-user-button:active {\r\n    transform: scale(1.04) translateX(8px);\r\n    letter-spacing: .1rem;\r\n    background-color: #10B2C6;\r\n}\r\n\r\n.player-select-section {\r\n    display: flex;\r\n    width: 50%;\r\n    justify-content: space-between;\r\n    margin-bottom: 2rem;\r\n}\r\n\r\n.player-region-container {\r\n    display: flex;\r\n    width: 45%;\r\n    flex-direction: column;\r\n}\r\n\r\n.player-match-container {\r\n    display: flex;\r\n    width: 50%;\r\n    flex-direction: column;\r\n}\r\n\r\n.match-info-container {\r\n    width: 100%;\r\n    display: block;\r\n    display: flex;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    padding: 5rem 0 6rem 0;\r\n}\r\n\r\n.match-info {\r\n    display: flex;\r\n    width: 70%;\r\n    list-style: none;\r\n    justify-content: space-between;\r\n    flex-wrap: wrap;\r\n    margin-top: 2rem;\r\n}\r\n\r\n.match-info>li {\r\n    flex-basis: 30%;\r\n    height: 5rem;\r\n    border-bottom: 1px solid #10b295;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    color: #1E90FF;\r\n}\r\n\r\n.match-info-mapName {\r\n    color: #1E90FF;\r\n    font-size: 4rem;\r\n    letter-spacing: .2rem;\r\n    border-bottom: #10b295;\r\n    display: block;\r\n    align-content: center;\r\n    margin: .5rem 0 1rem 0;\r\n}\r\n\r\n.match-info-mode {\r\n    font-size: 2.5rem;\r\n}\r\n\r\n.match-info-type {\r\n    font-size: 2.5rem;\r\n}\r\n\r\n.match-info-playerCount {\r\n    font-size: 2.5rem;\r\n}\r\n\r\n.match-info-played {\r\n    font-size: 2.5rem;\r\n    color: #1E90FF;\r\n    border-bottom: 1px solid #10b295;\r\n}\r\n\r\n.filter-container {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 30%;\r\n    margin: 4rem auto 7rem auto;\r\n}\r\n\r\n.player-input-name-section {\r\n    display: block;\r\n    position: relative;\r\n    width: 50%;\r\n    margin-bottom: 2rem;\r\n}\r\n.filter-container {\r\n    display: block;\r\n    position: relative;\r\n    width: 30%;\r\n    margin-bottom: 8rem;\r\n}\r\n\r\n.player-input-name-section label, .filter-container label{\r\n    position: absolute;\r\n    left: 0;\r\n    color: #333333;\r\n    display: block;\r\n    font-weight: 600;\r\n    margin-bottom: .5rem;\r\n    top: -1.5rem;\r\n    cursor: text;\r\n    font-size: 120%;\r\n    opacity: 1;\r\n    transition: all 0.2s;\r\n}\r\n\r\n\r\n.player-name-input, .filter-input {\r\n    font-family: 'Athiti', sans-serif;\r\n    font-size: inherit;\r\n    margin-bottom: .2rem;\r\n    font-size: 2rem;\r\n    height: 3rem;\r\n    font-weight: 600;\r\n    width: 100%;\r\n    color: #10b295;\r\n    border: none;\r\n    border-bottom: 2px solid;\r\n    background-color: inherit;\r\n\r\n    transition: letter-spacing .2s;\r\n}\r\n.player-input-name-section input::placeholder,\r\n.filter-container input::placeholder {\r\n    opacity: 1;\r\n    color: #10b295;\r\n}\r\n\r\n\r\n\r\n  .player-input-name-section input:placeholder-shown:not(:focus)::placeholder,\r\n  .filter-container input:placeholder-shown:not(:focus)::placeholder {\r\n    opacity: 0;\r\n  }\r\n  .player-input-name-section input:placeholder-shown:not(:focus) + *,\r\n  .filter-container input:placeholder-shown:not(:focus) + *  {\r\n    font-size: 2rem;\r\n    opacity: 1;\r\n    color: #10b295;\r\n    top: -.2rem;\r\n  }\r\n  .player-name-input.ng-valid.ng-not-empty.ng-dirty.ng-valid-parse.ng-touched,\r\n  .filter-input.ng-valid.ng-not-empty.ng-dirty.ng-valid-parse.ng-touched {\r\n      border-color: #333333;\r\n  }\r\n\r\n  .player-input-name-section input:focus,\r\n  .filter-container input:focus {\r\n\r\n    color: #10b295;\r\n    outline: none;\r\n    border-color: #333333;\r\n  }\r\n\r\n.player-table {\r\n    width: 100%;\r\n    margin-bottom: 20rem;\r\n    font-size: 2rem;\r\n    border-collapse: collapse;\r\n}\r\n\r\n.player-table th {\r\n    border: 2px solid #33BFEB;\r\n    padding: .3rem 0;\r\n    color: #fafafa;\r\n    background-color: #1E90FF;\r\n    cursor: pointer;\r\n}\r\n\r\n.player-table td,\r\n.player-table th {\r\n    border: 2px solid #33BFEB;\r\n    padding: .3rem 0;\r\n}\r\n\r\n.player-table-row th:nth-child(1) {\r\n    width: 5%;\r\n}\r\n\r\n.player-table-row th:nth-child(2) {\r\n    width: 20%;\r\n    padding: .3rem 0;\r\n}\r\n\r\n.player-table-row th:nth-child(3) {\r\n    width: 5%;\r\n}\r\n\r\n.player-table-row th:nth-child(4) {\r\n    width: 10%;\r\n}\r\n\r\n.player-table-row th:nth-child(5) {\r\n    width: 10%;\r\n}\r\n\r\n.player-table-row th:nth-child(6) {\r\n    width: 10%;\r\n}\r\n\r\n.player-table-row th:nth-child(7) {\r\n    width: 8%;\r\n}\r\n\r\n.player-table-row th:nth-child(8) {\r\n    width: 8%;\r\n}\r\n\r\n.player-table-row th:nth-child(9) {\r\n    width: 7%;\r\n}\r\n\r\n.player-table-row th:nth-child(10) {\r\n    width: 8%;\r\n}\r\n.player-table-row th:nth-child(11) {\r\n    width: 9%;\r\n}\r\n.player-table tbody tr>td:nth-of-type(2) {\r\n    font-weight: 600;\r\n    padding-left: 1rem;\r\n    color: #1E90FF;\r\n}\r\n\r\n.player-table tbody tr>td:not(:nth-of-type(2)) {\r\n    text-align: center;\r\n    color: #1E90FF;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n  \r\n\r\n",""])},function(r,n,t){var e=t(9);"string"==typeof e&&(e=[[r.i,e,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};t(0)(e,i);e.locals&&(r.exports=e.locals)},function(r,n){r.exports='<section class="player-section">\r\n    <div class="container">\r\n        <div class="player-container">\r\n            <div class="welcome-msg">\r\n                <h2>Welcome to PUBG History API</h2>\r\n            </div>\r\n            <div class="player-form-container">\r\n                <div class="player-input-name-section">\r\n                   \r\n                    <input autocomplete="on" id="player-name-input" class="player-name-input" ng-model="$ctrl.searchPlayer"  type="text" placeholder="Player name ...">\r\n                    <label class="select-label" for="player-name-input">Player name:</label>\r\n                </div>\r\n                <div class="player-select-section">\r\n                    <div class="player-region-container">\r\n                        <h2 class="select-label">Region: </h2>\r\n                        <select class="player-region-select" ng-model="$ctrl.region" placeholder="region">\r\n                            <option class="player-region-select-option" ng-repeat="region in $ctrl.regions" value={{region}}>{{region}}</option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div class="player-match-container" ng-if="$ctrl.matches">\r\n                        <h2 class="select-label">Match: </h2>\r\n                        <select class="player-match-select" ng-model="$ctrl.match" ng-change="$ctrl.getMatch($ctrl.match)">\r\n                            <option class="player-match-select-option" ng-repeat="match in $ctrl.matches" value={{match.id}}>{{$index + 1}} - {{match.id}}</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="player-search-user-container">\r\n                <button class="player-search-user-button" ng-click="$ctrl.search()">Search</button>\r\n\r\n            </div>\r\n\r\n            \r\n            <div ng-if="$ctrl.match.data.data.attributes" class="match-info-container">\r\n\r\n                <div class="match-info-mapName">{{$ctrl.match.data.data.attributes.mapName | mapFilter}}</div>\r\n                <div class="match-info-played">{{$ctrl.match.data.data.attributes.createdAt | date:\'medium\' }}</div>\r\n\r\n                <ul class="match-info">\r\n                    <li class="match-info-mode">\r\n                        <div>Mode: {{$ctrl.match.data.data.attributes.gameMode | modeFilter}}</div>\r\n                    </li>\r\n                    <li class="match-info-type">\r\n                        <div>Match type: {{$ctrl.match.data.data.attributes.gameMode | matchTypeFilter}}</div>\r\n                    </li>\r\n                    <li class="match-info-playerCount">\r\n                        <div>Participants: {{viewData.filteredArray.length}}</div>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n\r\n            <div class="filter-container" ng-if="$ctrl.match.data.included">\r\n                <input placeholder="Filter value here ..." id="filter-input" class="filter-input" type="text" ng-model="$ctrl.filterValue">\r\n                <label for="filter-input">Filter</label>\r\n            </div>\r\n\r\n            <table border="1" class="player-table" ng-if="$ctrl.match.data.included">\r\n                <thead>\r\n                    <tr class="player-table-row">\r\n\r\n                        <th>#</th>\r\n                        <th>Player</th>\r\n                        <th ng-click="$ctrl.changeSortProperty(\'winPlace\', $ctrl.reversal)">Place</th>\r\n                        <th ng-click="$ctrl.changeSortProperty(\'kills\', $ctrl.reversal)">Kills</th>\r\n                        <th ng-click="$ctrl.changeSortProperty(\'DBNOs\', $ctrl.reversal)">Knocked Times</th>\r\n                        <th ng-click="$ctrl.changeSortProperty(\'damageDealt\', $ctrl.reversal)">Damage Dealt</th>\r\n                        <th ng-click="$ctrl.changeSortProperty(\'assists\', $ctrl.reversal)">Assists</th>\r\n                        <th ng-click="$ctrl.changeSortProperty(\'heals\', $ctrl.reversal)">Heals</th>\r\n                        <th ng-click="$ctrl.changeSortProperty(\'boosts\', $ctrl.reversal)">Boosts</th>\r\n                        <th ng-click="$ctrl.changeSortProperty(\'revives\', $ctrl.reversal)">Revives</th>\r\n                        <th ng-click="$ctrl.changeSortProperty(\'longestKill\', $ctrl.reversal)">Longest Kill</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr ng-repeat=\'player in (viewData.filteredArray = ($ctrl.match.data.included | playerFilter:$ctrl.sortProperty:$ctrl.reversal | playerNameFilter: $ctrl.filterValue ))\'>\r\n\r\n                        <td>{{$index + 1}}</td>\r\n                        <td>{{player.attributes.stats.name}}</td>\r\n                        <td>{{player.attributes.stats.winPlace}}</td>\r\n                        <td>{{player.attributes.stats.kills}}({{player.attributes.stats.headshotKills}}head)</td>\r\n                        <td>{{player.attributes.stats.DBNOs}}</td>\r\n                        <td>{{player.attributes.stats.damageDealt | parseToIntFilter}}hp</td>\r\n                        <td>{{player.attributes.stats.assists}}</td>\r\n                        <td>{{player.attributes.stats.heals}}heals</td>\r\n                        <td>{{player.attributes.stats.boosts}}boosts</td>\r\n                        <td>{{player.attributes.stats.revives}}revives</td>\r\n                        <td>{{player.attributes.stats.longestKill}}m</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</section>'},function(r,n,t){angular.module("pubgApp").component("appPlayerInput",{template:t(11),controller:["$scope","$log","PlayerDataService","MatchDataService","RegionsService",function(r,n,t,e,i){let a=this;this.$onInit=function(){a.region="",i.allRegions().then(r=>{a.regions=r}),a.sortProperty="winPlace",r.viewData={},a.reversal=!0},a.changeSortProperty=function(r,n){a.sortProperty=r,a.reversal=Boolean(n)},a.search=function(){t.getPlayer(a.searchPlayer,a.region).then(r=>{a.matches=r.data.data[0].relationships.matches.data}).catch(r=>{alert("Wrong name"),console.log(r)})},a.getMatch=function(r){e.getMatchData(r,a.region).then(r=>{a.match=r})}}]}),t(10)},function(r,n){r.exports="<app-player-input></app-player-input>\r\n"},function(r,n,t){angular.module("pubgApp").component("appPlayerSection",{template:t(13),controller:function(){}})},function(r,n){angular.module("pubgApp").filter("playerNameFilter",function(){return function(r,n){if(console.log(r),n){return r.filter(r=>-1!=r.attributes.stats.name.indexOf(n))}return r}})},function(r,n){angular.module("pubgApp").filter("mapFilter",function(){return function(r){if(!r)return;let n=r.split("_");return n.pop(),"Desert"==n?"Miramar":n.join("")}})},function(r,n){angular.module("pubgApp").filter("matchTypeFilter",function(){return function(r){if(r){if(-1!=r.indexOf("-")){let n=r.split("-");return n.shift(),n.join("")}return r.slice(r.length-3,r.length)}}})},function(r,n){angular.module("pubgApp").filter("modeFilter",function(){return function(r){if(r){if(-1!=r.indexOf("-")){let n=r.split("-");return n.pop(),n.join("")}return r.slice(0,r.length-3)}}})},function(r,n){angular.module("pubgApp").filter("parseToIntFilter",function(){return function(r){return parseInt(r).toFixed()}})},function(r,n){angular.module("pubgApp").filter("playerFilter",function(){return function(r,n,t){return r.filter(r=>"participant"==r.type).sort((r,t)=>{if("winPlace"!=n){let e=parseInt(Number(r.attributes.stats[n])),i=parseInt(Number(t.attributes.stats[n]));return e<i?1:e>i?-1:0}{let e=parseInt(Number(r.attributes.stats[n])),i=parseInt(Number(t.attributes.stats[n]));return e>i?1:e<i?-1:0}})}})},function(r,n){angular.module("pubgApp").service("RegionsService",["$q",class{constructor(r){this.q=r}allRegions(){return this.q((r,n)=>{r(["xbox-as","xbox-eu","xbox-na","xbox-oc","pc-krjp","pc-jp","pc-na","pc-eu","pc-oc","pc-kakao","pc-sea","pc-sa","pc-as"])})}}])},function(r,n){angular.module("pubgApp").service("PlayerDataService",["$http",class{constructor(r){this.http=r}getPlayer(r,n){return this.http({method:"GET",url:`https://api.playbattlegrounds.com/shards/${n}/players?filter[playerNames]=${r}`,headers:{Accept:"application/vnd.api+json",Authorization:"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJqdGkiOiJlZTU4NDdjMC0xYTczLTAxMzYtOWE0NS02MWFjOTE3MDJiMmEiLCJpc3MiOiJnYW1lbG9ja2VyIiwiaWF0IjoxNTIyODczMzk2LCJwdWIiOiJibHVlaG9sZSIsInRpdGxlIjoicHViZyIsImFwcCI6ImFzdG9uMDAiLCJzY29wZSI6ImNvbW11bml0eSIsImxpbWl0IjoxMH0.Ehj2HmctxqBo6tXKJgFgaxaCijN6QO3acqbdbudjy50"}})}}])},function(r,n){angular.module("pubgApp").service("MatchDataService",["$http",class{constructor(r){this.http=r}getMatchData(r,n){return this.http({method:"GET",url:`https://api.playbattlegrounds.com/shards/${n}/matches/${r}`,headers:{Accept:"application/vnd.api+json",Authorization:"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJqdGkiOiJlZTU4NDdjMC0xYTczLTAxMzYtOWE0NS02MWFjOTE3MDJiMmEiLCJpc3MiOiJnYW1lbG9ja2VyIiwiaWF0IjoxNTIyODczMzk2LCJwdWIiOiJibHVlaG9sZSIsInRpdGxlIjoicHViZyIsImFwcCI6ImFzdG9uMDAiLCJzY29wZSI6ImNvbW11bml0eSIsImxpbWl0IjoxMH0.Ehj2HmctxqBo6tXKJgFgaxaCijN6QO3acqbdbudjy50"}})}}])},function(r,n,t){angular.module("pubgApp",["ui.router"]).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(r,n,t){n.otherwise("/"),r.state("home",{url:"/",template:"<app-player-input></app-player-input> "})}]),t(23),t(22),t(21),t(20),t(19),t(18),t(17),t(16),t(15),t(14),t(12),t(7),t(3)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9tYWluLmNzcyIsIndlYnBhY2s6Ly8vLi9tYWluLmNzcz9mYmE0Iiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvZm9vdGVyL2Zvb3Rlci5jc3MiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9mb290ZXIvZm9vdGVyLmNzcz80NjBjIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvZm9vdGVyL2Zvb3Rlci5odG1sIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvZm9vdGVyL2Zvb3Rlci5jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvdXJscy5qcyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL3BsYXllci1zZWN0aW9uL3BsYXllci1pbnB1dC9wbGF5ZXItaW5wdXQuY3NzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvcGxheWVyLXNlY3Rpb24vcGxheWVyLWlucHV0L3BsYXllci1pbnB1dC5jc3M/YTIyZCIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL3BsYXllci1zZWN0aW9uL3BsYXllci1pbnB1dC9wbGF5ZXItaW5wdXQuaHRtbCIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL3BsYXllci1zZWN0aW9uL3BsYXllci1pbnB1dC9wbGF5ZXItaW5wdXQuY29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvcGxheWVyLXNlY3Rpb24vcGxheWVyLXNlY3Rpb24uaHRtbCIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL3BsYXllci1zZWN0aW9uL3BsYXllci1zZWN0aW9uLmNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi9maWx0ZXJzL3BsYXllck5hbWUuZmlsdGVyLmpzIiwid2VicGFjazovLy8uL2ZpbHRlcnMvbWFwLmZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9maWx0ZXJzL21hdGNoVHlwZS5maWx0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vZmlsdGVycy9tb2RlLmZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9maWx0ZXJzL3BhcnNlVG9JbnQuZmlsdGVyLmpzIiwid2VicGFjazovLy8uL2ZpbHRlcnMvcGxheWVycy5maWx0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc2VydmljZXMvcmVnaW9ucy1zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NlcnZpY2VzL3BsYXllci1kYXRhLXNlcnZpY2UuanMiLCJ3ZWJwYWNrOi8vLy4vc2VydmljZXMvbWF0Y2gtZGF0YS1zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL2FwcC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJ2YWx1ZSIsIm4iLCJfX2VzTW9kdWxlIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiZm4iLCJtZW1vIiwic3R5bGVzSW5Eb20iLCJpc09sZElFIiwid2luZG93IiwiZG9jdW1lbnQiLCJhbGwiLCJhdG9iIiwiYXBwbHkiLCJ0aGlzIiwiYXJndW1lbnRzIiwiZ2V0RWxlbWVudCIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwicXVlcnlTZWxlY3RvciIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImUiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwic3R5bGVzSW5zZXJ0ZWRBdFRvcCIsImZpeFVybHMiLCJhZGRTdHlsZXNUb0RvbSIsInN0eWxlcyIsIm9wdGlvbnMiLCJsZW5ndGgiLCJpdGVtIiwiZG9tU3R5bGUiLCJpZCIsInJlZnMiLCJqIiwicGFydHMiLCJwdXNoIiwiYWRkU3R5bGUiLCJsaXN0VG9TdHlsZXMiLCJsaXN0IiwibmV3U3R5bGVzIiwiYmFzZSIsInBhcnQiLCJjc3MiLCJtZWRpYSIsInNvdXJjZU1hcCIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwiaW5zZXJ0SW50byIsIkVycm9yIiwibGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AiLCJpbnNlcnRBdCIsIm5leHRTaWJsaW5nIiwiaW5zZXJ0QmVmb3JlIiwiYXBwZW5kQ2hpbGQiLCJmaXJzdENoaWxkIiwiYmVmb3JlIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiaWR4IiwiaW5kZXhPZiIsInNwbGljZSIsImNyZWF0ZVN0eWxlRWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJhdHRycyIsInR5cGUiLCJhZGRBdHRycyIsImVsIiwia2V5cyIsImZvckVhY2giLCJrZXkiLCJzZXRBdHRyaWJ1dGUiLCJvYmoiLCJ1cGRhdGUiLCJyZW1vdmUiLCJyZXN1bHQiLCJ0cmFuc2Zvcm0iLCJzdHlsZUluZGV4IiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsImJpbmQiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJyZXZva2VPYmplY3RVUkwiLCJCbG9iIiwiYnRvYSIsImxpbmsiLCJyZWwiLCJjcmVhdGVMaW5rRWxlbWVudCIsImF1dG9GaXhVcmxzIiwidW5kZWZpbmVkIiwiY29udmVydFRvQWJzb2x1dGVVcmxzIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiYmxvYiIsIm9sZFNyYyIsImhyZWYiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNyZWF0ZVRleHROb2RlIiwibmV3T2JqIiwiREVCVUciLCJuZXdMaXN0IiwibWF5UmVtb3ZlIiwidGV4dFN0b3JlIiwicmVwbGFjZVRleHQiLCJpbmRleCIsInJlcGxhY2VtZW50IiwiZmlsdGVyIiwiQm9vbGVhbiIsImpvaW4iLCJjc3NOb2RlIiwiY2hpbGROb2RlcyIsInVzZVNvdXJjZU1hcCIsInRvU3RyaW5nIiwibWFwIiwiY29udGVudCIsImNzc01hcHBpbmciLCJzb3VyY2VNYXBwaW5nIiwic291cmNlVVJMcyIsInNvdXJjZXMiLCJzb3VyY2UiLCJzb3VyY2VSb290IiwiY29uY2F0IiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsIm1lZGlhUXVlcnkiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiaG1yIiwibG9jYWxzIiwiYW5ndWxhciIsImNvbXBvbmVudCIsInRlbXBsYXRlIiwiY29udHJvbGxlciIsImxvY2F0aW9uIiwiYmFzZVVybCIsInByb3RvY29sIiwiaG9zdCIsImN1cnJlbnREaXIiLCJwYXRobmFtZSIsInJlcGxhY2UiLCJmdWxsTWF0Y2giLCJvcmlnVXJsIiwibmV3VXJsIiwidW5xdW90ZWRPcmlnVXJsIiwidHJpbSIsIiQxIiwidGVzdCIsIiRzY29wZSIsIiRsb2ciLCJQbGF5ZXJEYXRhU2VydmljZSIsIk1hdGNoRGF0YVNlcnZpY2UiLCJSZWdpb25zU2VydmljZSIsImN0cmwiLCIkb25Jbml0IiwicmVnaW9uIiwiYWxsUmVnaW9ucyIsInRoZW4iLCJkYXRhIiwicmVnaW9ucyIsInNvcnRQcm9wZXJ0eSIsInZpZXdEYXRhIiwicmV2ZXJzYWwiLCJjaGFuZ2VTb3J0UHJvcGVydHkiLCJmbG93Iiwic2VhcmNoIiwiZ2V0UGxheWVyIiwic2VhcmNoUGxheWVyIiwibWF0Y2hlcyIsInJlbGF0aW9uc2hpcHMiLCJjYXRjaCIsImVycm9yIiwiYWxlcnQiLCJjb25zb2xlIiwibG9nIiwiZ2V0TWF0Y2giLCJnZXRNYXRjaERhdGEiLCJtYXRjaCIsIml0ZW1zIiwiYXR0cmlidXRlcyIsInN0YXRzIiwic3BsaXR0ZWQiLCJzcGxpdCIsInBvcCIsInNoaWZ0Iiwic2xpY2UiLCJwYXJzZUludCIsInRvRml4ZWQiLCJzb3J0VmFsdWUiLCJzb3J0IiwiYSIsImIiLCJhUG9zIiwiTnVtYmVyIiwiYlBvcyIsInNlcnZpY2UiLCJbb2JqZWN0IE9iamVjdF0iLCIkcSIsInEiLCJyZXNvbHZlIiwicmVqZWN0IiwiJGh0dHAiLCJodHRwIiwibWV0aG9kIiwidXJsIiwiaGVhZGVycyIsIkFjY2VwdCIsIkF1dGhvcml6YXRpb24iLCJtYXRjaElkIiwiY29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCIkbG9jYXRpb25Qcm92aWRlciIsIm90aGVyd2lzZSIsInN0YXRlIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FDQUssY0FBQSxFQUNBQyxZQUFBLEVBQ0FDLElBQUFOLEtBTUFaLEVBQUFtQixFQUFBLFNBQUFqQixHQUNBWSxPQUFBQyxlQUFBYixFQUFBLGNBQWlEa0IsT0FBQSxLQUlqRHBCLEVBQUFxQixFQUFBLFNBQUFsQixHQUNBLElBQUFTLEVBQUFULEtBQUFtQixXQUNBLFdBQTJCLE9BQUFuQixFQUFBLFNBQzNCLFdBQWlDLE9BQUFBLEdBRWpDLE9BREFILEVBQUFVLEVBQUFFLEVBQUEsSUFBQUEsR0FDQUEsR0FJQVosRUFBQWEsRUFBQSxT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QWpCQUMsWUFBQUssR0FDQTlMLEtBQUErTCxLQUFBRCxFQUdBTCxVQUFBcE4sRUFBQTJLLEdBQ0EsT0FBQWhKLEtBQUErTCxNQUNBQyxPQUFBLE1BQ0FDLGdEQUE2RGpELGlDQUFzQzNLLElBQ25HNk4sU0FDQUMsT0FBQSwyQkFDQUMsY0FBQSx3VUNNQTdFLFFBQUExSixPQUFBLFdBQ0EyTixRQUFBLGtDQWpCQUMsWUFBQUssR0FDQTlMLEtBQUErTCxLQUFBRCxFQUdBTCxhQUFBWSxFQUFBckQsR0FDQSxPQUFBaEosS0FBQStMLE1BQ0FDLE9BQUEsTUFDQUMsZ0RBQTZEakQsYUFBa0JxRCxJQUMvRUgsU0FDQUMsT0FBQSwyQkFDQUMsY0FBQSwwVUNYQTdFLFFBQUExSixPQUFBLHlCQUlBeU8sUUFBQSwwREFDQSxTQUFBQyxFQUFBQyxFQUFBQyxHQUdBRCxFQUFBRSxVQUFBLEtBQ0FILEVBQ0FJLE1BQUEsUUFDQVYsSUFBQSxJQUNBeEUsU0FBQSw4Q0FPQS9KLEVBQUEsSUFDQUEsRUFBQSxJQUNBQSxFQUFBLElBRUFBLEVBQUEsSUFDQUEsRUFBQSxJQUNBQSxFQUFBLElBQ0FBLEVBQUEsSUFDQUEsRUFBQSxJQUNBQSxFQUFBLElBRUFBLEVBQUEsSUFDQUEsRUFBQSxJQUNBQSxFQUFBLEdBRUFBLEVBQUEiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAyNCk7XG4iLCIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuXG52YXIgc3R5bGVzSW5Eb20gPSB7fTtcblxudmFyXHRtZW1vaXplID0gZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHR5cGVvZiBtZW1vID09PSBcInVuZGVmaW5lZFwiKSBtZW1vID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHRyZXR1cm4gbWVtbztcblx0fTtcbn07XG5cbnZhciBpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbiAoKSB7XG5cdC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG5cdC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcblx0Ly8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuXHQvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcblx0Ly8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG5cdHJldHVybiB3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYjtcbn0pO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xufTtcblxudmFyIGdldEVsZW1lbnQgPSAoZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vID0ge307XG5cblx0cmV0dXJuIGZ1bmN0aW9uKHRhcmdldCkge1xuICAgICAgICAgICAgICAgIC8vIElmIHBhc3NpbmcgZnVuY3Rpb24gaW4gb3B0aW9ucywgdGhlbiB1c2UgaXQgZm9yIHJlc29sdmUgXCJoZWFkXCIgZWxlbWVudC5cbiAgICAgICAgICAgICAgICAvLyBVc2VmdWwgZm9yIFNoYWRvdyBSb290IHN0eWxlIGkuZVxuICAgICAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgICAgICAvLyAgIGluc2VydEludG86IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZm9vXCIpLnNoYWRvd1Jvb3QgfVxuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0dmFyIHN0eWxlVGFyZ2V0ID0gZ2V0VGFyZ2V0LmNhbGwodGhpcywgdGFyZ2V0KTtcblx0XHRcdC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cdFx0XHRpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Ly8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcblx0XHRcdFx0XHQvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuXHRcdFx0XHRcdHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG5cdFx0XHRcdH0gY2F0Y2goZSkge1xuXHRcdFx0XHRcdHN0eWxlVGFyZ2V0ID0gbnVsbDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0bWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG5cdFx0fVxuXHRcdHJldHVybiBtZW1vW3RhcmdldF1cblx0fTtcbn0pKCk7XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyXHRzaW5nbGV0b25Db3VudGVyID0gMDtcbnZhclx0c3R5bGVzSW5zZXJ0ZWRBdFRvcCA9IFtdO1xuXG52YXJcdGZpeFVybHMgPSByZXF1aXJlKFwiLi91cmxzXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpc3QsIG9wdGlvbnMpIHtcblx0aWYgKHR5cGVvZiBERUJVRyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBERUJVRykge1xuXHRcdGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcblx0fVxuXG5cdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG5cdG9wdGlvbnMuYXR0cnMgPSB0eXBlb2Ygb3B0aW9ucy5hdHRycyA9PT0gXCJvYmplY3RcIiA/IG9wdGlvbnMuYXR0cnMgOiB7fTtcblxuXHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cblx0Ly8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXHRpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gXCJib29sZWFuXCIpIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIDxoZWFkPiBlbGVtZW50XG4gICAgICAgIGlmICghb3B0aW9ucy5pbnNlcnRJbnRvKSBvcHRpb25zLmluc2VydEludG8gPSBcImhlYWRcIjtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSBib3R0b20gb2YgdGhlIHRhcmdldFxuXHRpZiAoIW9wdGlvbnMuaW5zZXJ0QXQpIG9wdGlvbnMuaW5zZXJ0QXQgPSBcImJvdHRvbVwiO1xuXG5cdHZhciBzdHlsZXMgPSBsaXN0VG9TdHlsZXMobGlzdCwgb3B0aW9ucyk7XG5cblx0YWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlIChuZXdMaXN0KSB7XG5cdFx0dmFyIG1heVJlbW92ZSA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRcdGRvbVN0eWxlLnJlZnMtLTtcblx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcblx0XHR9XG5cblx0XHRpZihuZXdMaXN0KSB7XG5cdFx0XHR2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QsIG9wdGlvbnMpO1xuXHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcblx0XHR9XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xuXG5cdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XG5cdFx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIGRvbVN0eWxlLnBhcnRzW2pdKCk7XG5cblx0XHRcdFx0ZGVsZXRlIHN0eWxlc0luRG9tW2RvbVN0eWxlLmlkXTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59O1xuXG5mdW5jdGlvbiBhZGRTdHlsZXNUb0RvbSAoc3R5bGVzLCBvcHRpb25zKSB7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRpZihkb21TdHlsZSkge1xuXHRcdFx0ZG9tU3R5bGUucmVmcysrO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XG5cdFx0XHR9XG5cblx0XHRcdGZvcig7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgcGFydHMgPSBbXTtcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cblx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMgKGxpc3QsIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlcyA9IFtdO1xuXHR2YXIgbmV3U3R5bGVzID0ge307XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBsaXN0W2ldO1xuXHRcdHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuXHRcdHZhciBjc3MgPSBpdGVtWzFdO1xuXHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XG5cdFx0dmFyIHNvdXJjZU1hcCA9IGl0ZW1bM107XG5cdFx0dmFyIHBhcnQgPSB7Y3NzOiBjc3MsIG1lZGlhOiBtZWRpYSwgc291cmNlTWFwOiBzb3VyY2VNYXB9O1xuXG5cdFx0aWYoIW5ld1N0eWxlc1tpZF0pIHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XG5cdFx0ZWxzZSBuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XG5cdH1cblxuXHRyZXR1cm4gc3R5bGVzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQgKG9wdGlvbnMsIHN0eWxlKSB7XG5cdHZhciB0YXJnZXQgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0SW50bylcblxuXHRpZiAoIXRhcmdldCkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0SW50bycgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuXHR9XG5cblx0dmFyIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcFtzdHlsZXNJbnNlcnRlZEF0VG9wLmxlbmd0aCAtIDFdO1xuXG5cdGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcInRvcFwiKSB7XG5cdFx0aWYgKCFsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCkge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgdGFyZ2V0LmZpcnN0Q2hpbGQpO1xuXHRcdH0gZWxzZSBpZiAobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0XHR9XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlKTtcblx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XG5cdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0fSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJvYmplY3RcIiAmJiBvcHRpb25zLmluc2VydEF0LmJlZm9yZSkge1xuXHRcdHZhciBuZXh0U2libGluZyA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRJbnRvICsgXCIgXCIgKyBvcHRpb25zLmluc2VydEF0LmJlZm9yZSk7XG5cdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbmV4dFNpYmxpbmcpO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIltTdHlsZSBMb2FkZXJdXFxuXFxuIEludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnICgnb3B0aW9ucy5pbnNlcnRBdCcpIGZvdW5kLlxcbiBNdXN0IGJlICd0b3AnLCAnYm90dG9tJywgb3IgT2JqZWN0LlxcbiAoaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIjaW5zZXJ0YXQpXFxuXCIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudCAoc3R5bGUpIHtcblx0aWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblx0c3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG5cblx0dmFyIGlkeCA9IHN0eWxlc0luc2VydGVkQXRUb3AuaW5kZXhPZihzdHlsZSk7XG5cdGlmKGlkeCA+PSAwKSB7XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5zcGxpY2UoaWR4LCAxKTtcblx0fVxufVxuXG5mdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuXG5cdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblxuXHRhZGRBdHRycyhzdHlsZSwgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZSk7XG5cblx0cmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMaW5rRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuXG5cdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0b3B0aW9ucy5hdHRycy5yZWwgPSBcInN0eWxlc2hlZXRcIjtcblxuXHRhZGRBdHRycyhsaW5rLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIGxpbmspO1xuXG5cdHJldHVybiBsaW5rO1xufVxuXG5mdW5jdGlvbiBhZGRBdHRycyAoZWwsIGF0dHJzKSB7XG5cdE9iamVjdC5rZXlzKGF0dHJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRlbC5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyc1trZXldKTtcblx0fSk7XG59XG5cbmZ1bmN0aW9uIGFkZFN0eWxlIChvYmosIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlLCB1cGRhdGUsIHJlbW92ZSwgcmVzdWx0O1xuXG5cdC8vIElmIGEgdHJhbnNmb3JtIGZ1bmN0aW9uIHdhcyBkZWZpbmVkLCBydW4gaXQgb24gdGhlIGNzc1xuXHRpZiAob3B0aW9ucy50cmFuc2Zvcm0gJiYgb2JqLmNzcykge1xuXHQgICAgcmVzdWx0ID0gb3B0aW9ucy50cmFuc2Zvcm0ob2JqLmNzcyk7XG5cblx0ICAgIGlmIChyZXN1bHQpIHtcblx0ICAgIFx0Ly8gSWYgdHJhbnNmb3JtIHJldHVybnMgYSB2YWx1ZSwgdXNlIHRoYXQgaW5zdGVhZCBvZiB0aGUgb3JpZ2luYWwgY3NzLlxuXHQgICAgXHQvLyBUaGlzIGFsbG93cyBydW5uaW5nIHJ1bnRpbWUgdHJhbnNmb3JtYXRpb25zIG9uIHRoZSBjc3MuXG5cdCAgICBcdG9iai5jc3MgPSByZXN1bHQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgXHQvLyBJZiB0aGUgdHJhbnNmb3JtIGZ1bmN0aW9uIHJldHVybnMgYSBmYWxzeSB2YWx1ZSwgZG9uJ3QgYWRkIHRoaXMgY3NzLlxuXHQgICAgXHQvLyBUaGlzIGFsbG93cyBjb25kaXRpb25hbCBsb2FkaW5nIG9mIGNzc1xuXHQgICAgXHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdCAgICBcdFx0Ly8gbm9vcFxuXHQgICAgXHR9O1xuXHQgICAgfVxuXHR9XG5cblx0aWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG5cdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG5cblx0XHRzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcblxuXHRcdHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuXHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG5cblx0fSBlbHNlIGlmIChcblx0XHRvYmouc291cmNlTWFwICYmXG5cdFx0dHlwZW9mIFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgQmxvYiA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIlxuXHQpIHtcblx0XHRzdHlsZSA9IGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IHVwZGF0ZUxpbmsuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcblxuXHRcdFx0aWYoc3R5bGUuaHJlZikgVVJMLnJldm9rZU9iamVjdFVSTChzdHlsZS5ocmVmKTtcblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdHN0eWxlID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcblx0XHR9O1xuXHR9XG5cblx0dXBkYXRlKG9iaik7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlIChuZXdPYmopIHtcblx0XHRpZiAobmV3T2JqKSB7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdG5ld09iai5jc3MgPT09IG9iai5jc3MgJiZcblx0XHRcdFx0bmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiZcblx0XHRcdFx0bmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcFxuXHRcdFx0KSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dXBkYXRlKG9iaiA9IG5ld09iaik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlbW92ZSgpO1xuXHRcdH1cblx0fTtcbn1cblxudmFyIHJlcGxhY2VUZXh0ID0gKGZ1bmN0aW9uICgpIHtcblx0dmFyIHRleHRTdG9yZSA9IFtdO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG5cdFx0dGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuXG5cdFx0cmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG5cdH07XG59KSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnIChzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG5cdHZhciBjc3MgPSByZW1vdmUgPyBcIlwiIDogb2JqLmNzcztcblxuXHRpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuXHR9IGVsc2Uge1xuXHRcdHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcblx0XHR2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cblx0XHRpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcblxuXHRcdGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuXHRcdFx0c3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcgKHN0eWxlLCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcblxuXHRpZihtZWRpYSkge1xuXHRcdHN0eWxlLnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIG1lZGlhKVxuXHR9XG5cblx0aWYoc3R5bGUuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcblx0fSBlbHNlIHtcblx0XHR3aGlsZShzdHlsZS5maXJzdENoaWxkKSB7XG5cdFx0XHRzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcblx0XHR9XG5cblx0XHRzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcblx0fVxufVxuXG5mdW5jdGlvbiB1cGRhdGVMaW5rIChsaW5rLCBvcHRpb25zLCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG5cdC8qXG5cdFx0SWYgY29udmVydFRvQWJzb2x1dGVVcmxzIGlzbid0IGRlZmluZWQsIGJ1dCBzb3VyY2VtYXBzIGFyZSBlbmFibGVkXG5cdFx0YW5kIHRoZXJlIGlzIG5vIHB1YmxpY1BhdGggZGVmaW5lZCB0aGVuIGxldHMgdHVybiBjb252ZXJ0VG9BYnNvbHV0ZVVybHNcblx0XHRvbiBieSBkZWZhdWx0LiAgT3RoZXJ3aXNlIGRlZmF1bHQgdG8gdGhlIGNvbnZlcnRUb0Fic29sdXRlVXJscyBvcHRpb25cblx0XHRkaXJlY3RseVxuXHQqL1xuXHR2YXIgYXV0b0ZpeFVybHMgPSBvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyA9PT0gdW5kZWZpbmVkICYmIHNvdXJjZU1hcDtcblxuXHRpZiAob3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgfHwgYXV0b0ZpeFVybHMpIHtcblx0XHRjc3MgPSBmaXhVcmxzKGNzcyk7XG5cdH1cblxuXHRpZiAoc291cmNlTWFwKSB7XG5cdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY2MDM4NzVcblx0XHRjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSArIFwiICovXCI7XG5cdH1cblxuXHR2YXIgYmxvYiA9IG5ldyBCbG9iKFtjc3NdLCB7IHR5cGU6IFwidGV4dC9jc3NcIiB9KTtcblxuXHR2YXIgb2xkU3JjID0gbGluay5ocmVmO1xuXG5cdGxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cblx0aWYob2xkU3JjKSBVUkwucmV2b2tlT2JqZWN0VVJMKG9sZFNyYyk7XG59XG4iLCIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odXNlU291cmNlTWFwKSB7XG5cdHZhciBsaXN0ID0gW107XG5cblx0Ly8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXHRsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG5cdFx0cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG5cdFx0XHR2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblx0XHRcdGlmKGl0ZW1bMl0pIHtcblx0XHRcdFx0cmV0dXJuIFwiQG1lZGlhIFwiICsgaXRlbVsyXSArIFwie1wiICsgY29udGVudCArIFwifVwiO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIGNvbnRlbnQ7XG5cdFx0XHR9XG5cdFx0fSkuam9pbihcIlwiKTtcblx0fTtcblxuXHQvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuXHRsaXN0LmkgPSBmdW5jdGlvbihtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XG5cdFx0aWYodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpXG5cdFx0XHRtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCBcIlwiXV07XG5cdFx0dmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGlkID0gdGhpc1tpXVswXTtcblx0XHRcdGlmKHR5cGVvZiBpZCA9PT0gXCJudW1iZXJcIilcblx0XHRcdFx0YWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuXHRcdH1cblx0XHRmb3IoaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IG1vZHVsZXNbaV07XG5cdFx0XHQvLyBza2lwIGFscmVhZHkgaW1wb3J0ZWQgbW9kdWxlXG5cdFx0XHQvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xuXHRcdFx0Ly8gIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cblx0XHRcdC8vICBJIGhvcGUgdGhpcyB3aWxsIG5ldmVyIG9jY3VyIChIZXkgdGhpcyB3YXkgd2UgaGF2ZSBzbWFsbGVyIGJ1bmRsZXMpXG5cdFx0XHRpZih0eXBlb2YgaXRlbVswXSAhPT0gXCJudW1iZXJcIiB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuXHRcdFx0XHRpZihtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XG5cdFx0XHRcdFx0aXRlbVsyXSA9IG1lZGlhUXVlcnk7XG5cdFx0XHRcdH0gZWxzZSBpZihtZWRpYVF1ZXJ5KSB7XG5cdFx0XHRcdFx0aXRlbVsyXSA9IFwiKFwiICsgaXRlbVsyXSArIFwiKSBhbmQgKFwiICsgbWVkaWFRdWVyeSArIFwiKVwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGxpc3QucHVzaChpdGVtKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cdHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcblx0dmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnO1xuXHR2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cdGlmICghY3NzTWFwcGluZykge1xuXHRcdHJldHVybiBjb250ZW50O1xuXHR9XG5cblx0aWYgKHVzZVNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdHZhciBzb3VyY2VNYXBwaW5nID0gdG9Db21tZW50KGNzc01hcHBpbmcpO1xuXHRcdHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG5cdFx0XHRyZXR1cm4gJy8qIyBzb3VyY2VVUkw9JyArIGNzc01hcHBpbmcuc291cmNlUm9vdCArIHNvdXJjZSArICcgKi8nXG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKCdcXG4nKTtcblx0fVxuXG5cdHJldHVybiBbY29udGVudF0uam9pbignXFxuJyk7XG59XG5cbi8vIEFkYXB0ZWQgZnJvbSBjb252ZXJ0LXNvdXJjZS1tYXAgKE1JVClcbmZ1bmN0aW9uIHRvQ29tbWVudChzb3VyY2VNYXApIHtcblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG5cdHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpO1xuXHR2YXIgZGF0YSA9ICdzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCwnICsgYmFzZTY0O1xuXG5cdHJldHVybiAnLyojICcgKyBkYXRhICsgJyAqLyc7XG59XG4iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoZmFsc2UpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiKiwgKjo6YmVmb3JlLCAqOjphZnRlciB7XFxyXFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxyXFxuICAgIG1hcmdpbjogMDtcXHJcXG4gICAgcGFkZGluZzowO1xcclxcbn1cXHJcXG5ib2R5IHtcXHJcXG4gICAgZm9udC1mYW1pbHk6ICdBdGhpdGknLCBzYW5zLXNlcmlmO1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmFmYWZhO1xcclxcbn1cXHJcXG5odG1sIHtcXHJcXG4gICAgXFxyXFxuICAgIGZvbnQtc2l6ZTogNjIuNSU7XFxyXFxufVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcbiIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vbWFpbi5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL21haW4uY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL21haW4uY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIuYXBwLWZvb3RlciB7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGhlaWdodDogMjByZW07XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6IGluaGVyaXQ7XFxyXFxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcclxcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcclxcbn1cXHJcXG5cXHJcXG4uZm9vdGVyLWNvbnRhaW5lciB7XFxyXFxuICAgIGZsZXgtYmFzaXM6IDUwJTtcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxyXFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxuXFxyXFxufVxcclxcblxcclxcblxcclxcbi5mb290ZXItY29weXJpZ2h0IHtcXHJcXG4gICAgZm9udC1zaXplOiAyLjVyZW07XFxyXFxuICAgIGxldHRlci1zcGFjaW5nOiAuMnJlbTtcXHJcXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcXHJcXG4gICAgY29sb3I6ICMxMGIyOTU7XFxyXFxufVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcbiIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL2Zvb3Rlci5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vZm9vdGVyLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vZm9vdGVyLmNzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsIm1vZHVsZS5leHBvcnRzID0gXCI8ZGl2IGNsYXNzPVxcXCJhcHAtZm9vdGVyXFxcIj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiZm9vdGVyLWNvbnRhaW5lclxcXCI+XFxyXFxuICAgICAgICBcXHJcXG4gICAgICAgICAgICA8aDIgY2xhc3M9XFxcImZvb3Rlci1jb3B5cmlnaHRcXFwiPk1hZGUgYnkgQW5hdG9saWkgWWF0c2Vua28gJmNvcHk7IDIwMTg8L2gyPlxcclxcbiAgICAgICAgXFxyXFxuICAgIDwvZGl2PlxcclxcbjwvZGl2PlwiOyIsImFuZ3VsYXIubW9kdWxlKCdwdWJnQXBwJylcclxuICAgIC5jb21wb25lbnQoJ2FwcEZvb3RlcicsIHtcclxuICAgICAgICB0ZW1wbGF0ZTogcmVxdWlyZSgnLi9mb290ZXIuaHRtbCcpLFxyXG4gICAgICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCl7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbnJlcXVpcmUoJy4vZm9vdGVyLmNzcycpOyIsIlxuLyoqXG4gKiBXaGVuIHNvdXJjZSBtYXBzIGFyZSBlbmFibGVkLCBgc3R5bGUtbG9hZGVyYCB1c2VzIGEgbGluayBlbGVtZW50IHdpdGggYSBkYXRhLXVyaSB0b1xuICogZW1iZWQgdGhlIGNzcyBvbiB0aGUgcGFnZS4gVGhpcyBicmVha3MgYWxsIHJlbGF0aXZlIHVybHMgYmVjYXVzZSBub3cgdGhleSBhcmUgcmVsYXRpdmUgdG8gYVxuICogYnVuZGxlIGluc3RlYWQgb2YgdGhlIGN1cnJlbnQgcGFnZS5cbiAqXG4gKiBPbmUgc29sdXRpb24gaXMgdG8gb25seSB1c2UgZnVsbCB1cmxzLCBidXQgdGhhdCBtYXkgYmUgaW1wb3NzaWJsZS5cbiAqXG4gKiBJbnN0ZWFkLCB0aGlzIGZ1bmN0aW9uIFwiZml4ZXNcIiB0aGUgcmVsYXRpdmUgdXJscyB0byBiZSBhYnNvbHV0ZSBhY2NvcmRpbmcgdG8gdGhlIGN1cnJlbnQgcGFnZSBsb2NhdGlvbi5cbiAqXG4gKiBBIHJ1ZGltZW50YXJ5IHRlc3Qgc3VpdGUgaXMgbG9jYXRlZCBhdCBgdGVzdC9maXhVcmxzLmpzYCBhbmQgY2FuIGJlIHJ1biB2aWEgdGhlIGBucG0gdGVzdGAgY29tbWFuZC5cbiAqXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzKSB7XG4gIC8vIGdldCBjdXJyZW50IGxvY2F0aW9uXG4gIHZhciBsb2NhdGlvbiA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgd2luZG93LmxvY2F0aW9uO1xuXG4gIGlmICghbG9jYXRpb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJmaXhVcmxzIHJlcXVpcmVzIHdpbmRvdy5sb2NhdGlvblwiKTtcbiAgfVxuXG5cdC8vIGJsYW5rIG9yIG51bGw/XG5cdGlmICghY3NzIHx8IHR5cGVvZiBjc3MgIT09IFwic3RyaW5nXCIpIHtcblx0ICByZXR1cm4gY3NzO1xuICB9XG5cbiAgdmFyIGJhc2VVcmwgPSBsb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArIGxvY2F0aW9uLmhvc3Q7XG4gIHZhciBjdXJyZW50RGlyID0gYmFzZVVybCArIGxvY2F0aW9uLnBhdGhuYW1lLnJlcGxhY2UoL1xcL1teXFwvXSokLywgXCIvXCIpO1xuXG5cdC8vIGNvbnZlcnQgZWFjaCB1cmwoLi4uKVxuXHQvKlxuXHRUaGlzIHJlZ3VsYXIgZXhwcmVzc2lvbiBpcyBqdXN0IGEgd2F5IHRvIHJlY3Vyc2l2ZWx5IG1hdGNoIGJyYWNrZXRzIHdpdGhpblxuXHRhIHN0cmluZy5cblxuXHQgL3VybFxccypcXCggID0gTWF0Y2ggb24gdGhlIHdvcmQgXCJ1cmxcIiB3aXRoIGFueSB3aGl0ZXNwYWNlIGFmdGVyIGl0IGFuZCB0aGVuIGEgcGFyZW5zXG5cdCAgICggID0gU3RhcnQgYSBjYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAoPzogID0gU3RhcnQgYSBub24tY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgICAgIFteKShdICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAoPzogID0gU3RhcnQgYW5vdGhlciBub24tY2FwdHVyaW5nIGdyb3Vwc1xuXHQgICAgICAgICAgICAgICAgIFteKShdKyAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICB8ICA9IE9SXG5cdCAgICAgICAgICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICAgICAgW14pKF0qICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIFxcKSAgPSBNYXRjaCBhIGVuZCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKSAgPSBFbmQgR3JvdXBcbiAgICAgICAgICAgICAgKlxcKSA9IE1hdGNoIGFueXRoaW5nIGFuZCB0aGVuIGEgY2xvc2UgcGFyZW5zXG4gICAgICAgICAgKSAgPSBDbG9zZSBub24tY2FwdHVyaW5nIGdyb3VwXG4gICAgICAgICAgKiAgPSBNYXRjaCBhbnl0aGluZ1xuICAgICAgICkgID0gQ2xvc2UgY2FwdHVyaW5nIGdyb3VwXG5cdCBcXCkgID0gTWF0Y2ggYSBjbG9zZSBwYXJlbnNcblxuXHQgL2dpICA9IEdldCBhbGwgbWF0Y2hlcywgbm90IHRoZSBmaXJzdC4gIEJlIGNhc2UgaW5zZW5zaXRpdmUuXG5cdCAqL1xuXHR2YXIgZml4ZWRDc3MgPSBjc3MucmVwbGFjZSgvdXJsXFxzKlxcKCgoPzpbXikoXXxcXCgoPzpbXikoXSt8XFwoW14pKF0qXFwpKSpcXCkpKilcXCkvZ2ksIGZ1bmN0aW9uKGZ1bGxNYXRjaCwgb3JpZ1VybCkge1xuXHRcdC8vIHN0cmlwIHF1b3RlcyAoaWYgdGhleSBleGlzdClcblx0XHR2YXIgdW5xdW90ZWRPcmlnVXJsID0gb3JpZ1VybFxuXHRcdFx0LnRyaW0oKVxuXHRcdFx0LnJlcGxhY2UoL15cIiguKilcIiQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSlcblx0XHRcdC5yZXBsYWNlKC9eJyguKiknJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KTtcblxuXHRcdC8vIGFscmVhZHkgYSBmdWxsIHVybD8gbm8gY2hhbmdlXG5cdFx0aWYgKC9eKCN8ZGF0YTp8aHR0cDpcXC9cXC98aHR0cHM6XFwvXFwvfGZpbGU6XFwvXFwvXFwvfFxccyokKS9pLnRlc3QodW5xdW90ZWRPcmlnVXJsKSkge1xuXHRcdCAgcmV0dXJuIGZ1bGxNYXRjaDtcblx0XHR9XG5cblx0XHQvLyBjb252ZXJ0IHRoZSB1cmwgdG8gYSBmdWxsIHVybFxuXHRcdHZhciBuZXdVcmw7XG5cblx0XHRpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvL1wiKSA9PT0gMCkge1xuXHRcdCAgXHQvL1RPRE86IHNob3VsZCB3ZSBhZGQgcHJvdG9jb2w/XG5cdFx0XHRuZXdVcmwgPSB1bnF1b3RlZE9yaWdVcmw7XG5cdFx0fSBlbHNlIGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi9cIikgPT09IDApIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBiYXNlIHVybFxuXHRcdFx0bmV3VXJsID0gYmFzZVVybCArIHVucXVvdGVkT3JpZ1VybDsgLy8gYWxyZWFkeSBzdGFydHMgd2l0aCAnLydcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gY3VycmVudCBkaXJlY3Rvcnlcblx0XHRcdG5ld1VybCA9IGN1cnJlbnREaXIgKyB1bnF1b3RlZE9yaWdVcmwucmVwbGFjZSgvXlxcLlxcLy8sIFwiXCIpOyAvLyBTdHJpcCBsZWFkaW5nICcuLydcblx0XHR9XG5cblx0XHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIHVybCguLi4pXG5cdFx0cmV0dXJuIFwidXJsKFwiICsgSlNPTi5zdHJpbmdpZnkobmV3VXJsKSArIFwiKVwiO1xuXHR9KTtcblxuXHQvLyBzZW5kIGJhY2sgdGhlIGZpeGVkIGNzc1xuXHRyZXR1cm4gZml4ZWRDc3M7XG59O1xuIiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIucGxheWVyLXNlY3Rpb24ge1xcclxcbiAgICBwYWRkaW5nLXRvcDogMy4ycmVtO1xcclxcbiAgICBwYWRkaW5nLWJvdHRvbTogMy41cmVtO1xcclxcbn1cXHJcXG5pbnB1dDotd2Via2l0LWF1dG9maWxsIHtcXHJcXG4gICAgLXdlYmtpdC1ib3gtc2hhZG93OiBpbnNldCAwIDAgMCA1MHB4ICNmYWZhZmE7XFxyXFxuICAgIC13ZWJraXQtdGV4dC1maWxsLWNvbG9yOiAjMTBiMjk1ICFpbXBvcnRhbnQ7XFxyXFxufVxcclxcbi5jb250YWluZXIge1xcclxcbiAgICB3aWR0aDogODAlO1xcclxcbiAgICBtYXJnaW46IGF1dG87XFxyXFxufVxcclxcblxcclxcbi53ZWxjb21lLW1zZyB7XFxyXFxuICAgIGZvbnQtc2l6ZTogNC4ycmVtO1xcclxcbiAgICBjb2xvcjogIzFFOTBGRjtcXHJcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcclxcbn1cXHJcXG5cXHJcXG5cXHJcXG4ucGxheWVyLWZvcm0tY29udGFpbmVyIHtcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xcclxcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcclxcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcclxcbiAgICBtYXJnaW4tdG9wOiA3cmVtO1xcclxcbiAgICBtYXJnaW4tYm90dG9tOiAycmVtO1xcclxcbn1cXHJcXG5cXHJcXG5cXHJcXG4ucGxheWVyLXJlZ2lvbi1zZWxlY3Qge1xcclxcbiAgICBoZWlnaHQ6IDNyZW07XFxyXFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcclxcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjMTBiMjk1O1xcclxcbiAgICB3aWR0aDogMTAwJTtcXHJcXG4gICAgZm9udC1zaXplOiAycmVtO1xcclxcbiAgICBvdXRsaW5lOiBub25lO1xcclxcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XFxyXFxuICAgIGNvbG9yOiAjMTBiMjk1O1xcclxcbn1cXHJcXG5cXHJcXG4ucGxheWVyLXJlZ2lvbi1zZWxlY3Qtb3B0aW9uIHtcXHJcXG4gICAgZm9udC1zaXplOiAycmVtO1xcclxcbn1cXHJcXG5cXHJcXG4ucGxheWVyLW1hdGNoLXNlbGVjdCB7XFxyXFxuICAgIGhlaWdodDogM3JlbTtcXHJcXG4gICAgZGlzcGxheTogYmxvY2s7XFxyXFxuICAgIGJvcmRlcjogMXB4IHNvbGlkICMxMGIyOTU7XFxyXFxuICAgIHdpZHRoOiAxMDAlO1xcclxcbiAgICBmb250LXNpemU6IDJyZW07XFxyXFxuICAgIG91dGxpbmU6IG5vbmU7XFxyXFxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcXHJcXG4gICAgY29sb3I6ICMxMGIyOTU7XFxyXFxufVxcclxcblxcclxcbi5wbGF5ZXItbWF0Y2gtc2VsZWN0LW9wdGlvbiB7XFxyXFxuICAgIGZsZXgtYmFzaXM6IDUwJTtcXHJcXG59XFxyXFxuXFxyXFxuLnBsYXllci1zZWFyY2gtdXNlci1jb250YWluZXIge1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcclxcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXHJcXG59XFxyXFxuXFxyXFxuLnBsYXllci1zZWFyY2gtdXNlci1idXR0b24ge1xcclxcbiAgICBkaXNwbGF5OiBibG9jaztcXHJcXG4gICAgZm9udC1zaXplOiAycmVtO1xcclxcbiAgICBwYWRkaW5nOiAuNXJlbTtcXHJcXG4gICAgZmxleC1iYXNpczogNTAlO1xcclxcbiAgICBjb2xvcjogI2ZhZmFmYTtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzEwYjI5NTtcXHJcXG4gICAgYm9yZGVyOiAxcHggc29saWQgIzFFOTBGRjtcXHJcXG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcXHJcXG4gICAgb3V0bGluZTogbm9uZTtcXHJcXG4gICAgdHJhbnNpdGlvbjogYWxsIC4xcztcXHJcXG59XFxyXFxuXFxyXFxuLnBsYXllci1zZWFyY2gtdXNlci1idXR0b246YWN0aXZlIHtcXHJcXG4gICAgdHJhbnNmb3JtOiBzY2FsZSgxLjA0KSB0cmFuc2xhdGVYKDhweCk7XFxyXFxuICAgIGxldHRlci1zcGFjaW5nOiAuMXJlbTtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzEwQjJDNjtcXHJcXG59XFxyXFxuXFxyXFxuLnBsYXllci1zZWxlY3Qtc2VjdGlvbiB7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIHdpZHRoOiA1MCU7XFxyXFxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcXHJcXG4gICAgbWFyZ2luLWJvdHRvbTogMnJlbTtcXHJcXG59XFxyXFxuXFxyXFxuLnBsYXllci1yZWdpb24tY29udGFpbmVyIHtcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAgd2lkdGg6IDQ1JTtcXHJcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXHJcXG59XFxyXFxuXFxyXFxuLnBsYXllci1tYXRjaC1jb250YWluZXIge1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICB3aWR0aDogNTAlO1xcclxcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcclxcbn1cXHJcXG5cXHJcXG4ubWF0Y2gtaW5mby1jb250YWluZXIge1xcclxcbiAgICB3aWR0aDogMTAwJTtcXHJcXG4gICAgZGlzcGxheTogYmxvY2s7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxyXFxuICAgIHBhZGRpbmc6IDVyZW0gMCA2cmVtIDA7XFxyXFxufVxcclxcblxcclxcbi5tYXRjaC1pbmZvIHtcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAgd2lkdGg6IDcwJTtcXHJcXG4gICAgbGlzdC1zdHlsZTogbm9uZTtcXHJcXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcclxcbiAgICBmbGV4LXdyYXA6IHdyYXA7XFxyXFxuICAgIG1hcmdpbi10b3A6IDJyZW07XFxyXFxufVxcclxcblxcclxcbi5tYXRjaC1pbmZvPmxpIHtcXHJcXG4gICAgZmxleC1iYXNpczogMzAlO1xcclxcbiAgICBoZWlnaHQ6IDVyZW07XFxyXFxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjMTBiMjk1O1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcclxcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXHJcXG4gICAgY29sb3I6ICMxRTkwRkY7XFxyXFxufVxcclxcblxcclxcbi5tYXRjaC1pbmZvLW1hcE5hbWUge1xcclxcbiAgICBjb2xvcjogIzFFOTBGRjtcXHJcXG4gICAgZm9udC1zaXplOiA0cmVtO1xcclxcbiAgICBsZXR0ZXItc3BhY2luZzogLjJyZW07XFxyXFxuICAgIGJvcmRlci1ib3R0b206ICMxMGIyOTU7XFxyXFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcclxcbiAgICBhbGlnbi1jb250ZW50OiBjZW50ZXI7XFxyXFxuICAgIG1hcmdpbjogLjVyZW0gMCAxcmVtIDA7XFxyXFxufVxcclxcblxcclxcbi5tYXRjaC1pbmZvLW1vZGUge1xcclxcbiAgICBmb250LXNpemU6IDIuNXJlbTtcXHJcXG59XFxyXFxuXFxyXFxuLm1hdGNoLWluZm8tdHlwZSB7XFxyXFxuICAgIGZvbnQtc2l6ZTogMi41cmVtO1xcclxcbn1cXHJcXG5cXHJcXG4ubWF0Y2gtaW5mby1wbGF5ZXJDb3VudCB7XFxyXFxuICAgIGZvbnQtc2l6ZTogMi41cmVtO1xcclxcbn1cXHJcXG5cXHJcXG4ubWF0Y2gtaW5mby1wbGF5ZWQge1xcclxcbiAgICBmb250LXNpemU6IDIuNXJlbTtcXHJcXG4gICAgY29sb3I6ICMxRTkwRkY7XFxyXFxuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjMTBiMjk1O1xcclxcbn1cXHJcXG5cXHJcXG4uZmlsdGVyLWNvbnRhaW5lciB7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcclxcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcclxcbiAgICB3aWR0aDogMzAlO1xcclxcbiAgICBtYXJnaW46IDRyZW0gYXV0byA3cmVtIGF1dG87XFxyXFxufVxcclxcblxcclxcbi5wbGF5ZXItaW5wdXQtbmFtZS1zZWN0aW9uIHtcXHJcXG4gICAgZGlzcGxheTogYmxvY2s7XFxyXFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXHJcXG4gICAgd2lkdGg6IDUwJTtcXHJcXG4gICAgbWFyZ2luLWJvdHRvbTogMnJlbTtcXHJcXG59XFxyXFxuLmZpbHRlci1jb250YWluZXIge1xcclxcbiAgICBkaXNwbGF5OiBibG9jaztcXHJcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcclxcbiAgICB3aWR0aDogMzAlO1xcclxcbiAgICBtYXJnaW4tYm90dG9tOiA4cmVtO1xcclxcbn1cXHJcXG5cXHJcXG4ucGxheWVyLWlucHV0LW5hbWUtc2VjdGlvbiBsYWJlbCwgLmZpbHRlci1jb250YWluZXIgbGFiZWx7XFxyXFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXHJcXG4gICAgbGVmdDogMDtcXHJcXG4gICAgY29sb3I6ICMzMzMzMzM7XFxyXFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcclxcbiAgICBmb250LXdlaWdodDogNjAwO1xcclxcbiAgICBtYXJnaW4tYm90dG9tOiAuNXJlbTtcXHJcXG4gICAgdG9wOiAtMS41cmVtO1xcclxcbiAgICBjdXJzb3I6IHRleHQ7XFxyXFxuICAgIGZvbnQtc2l6ZTogMTIwJTtcXHJcXG4gICAgb3BhY2l0eTogMTtcXHJcXG4gICAgdHJhbnNpdGlvbjogYWxsIDAuMnM7XFxyXFxufVxcclxcblxcclxcblxcclxcbi5wbGF5ZXItbmFtZS1pbnB1dCwgLmZpbHRlci1pbnB1dCB7XFxyXFxuICAgIGZvbnQtZmFtaWx5OiAnQXRoaXRpJywgc2Fucy1zZXJpZjtcXHJcXG4gICAgZm9udC1zaXplOiBpbmhlcml0O1xcclxcbiAgICBtYXJnaW4tYm90dG9tOiAuMnJlbTtcXHJcXG4gICAgZm9udC1zaXplOiAycmVtO1xcclxcbiAgICBoZWlnaHQ6IDNyZW07XFxyXFxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XFxyXFxuICAgIHdpZHRoOiAxMDAlO1xcclxcbiAgICBjb2xvcjogIzEwYjI5NTtcXHJcXG4gICAgYm9yZGVyOiBub25lO1xcclxcbiAgICBib3JkZXItYm90dG9tOiAycHggc29saWQ7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6IGluaGVyaXQ7XFxyXFxuXFxyXFxuICAgIHRyYW5zaXRpb246IGxldHRlci1zcGFjaW5nIC4ycztcXHJcXG59XFxyXFxuLnBsYXllci1pbnB1dC1uYW1lLXNlY3Rpb24gaW5wdXQ6OnBsYWNlaG9sZGVyLFxcclxcbi5maWx0ZXItY29udGFpbmVyIGlucHV0OjpwbGFjZWhvbGRlciB7XFxyXFxuICAgIG9wYWNpdHk6IDE7XFxyXFxuICAgIGNvbG9yOiAjMTBiMjk1O1xcclxcbn1cXHJcXG5cXHJcXG5cXHJcXG5cXHJcXG4gIC5wbGF5ZXItaW5wdXQtbmFtZS1zZWN0aW9uIGlucHV0OnBsYWNlaG9sZGVyLXNob3duOm5vdCg6Zm9jdXMpOjpwbGFjZWhvbGRlcixcXHJcXG4gIC5maWx0ZXItY29udGFpbmVyIGlucHV0OnBsYWNlaG9sZGVyLXNob3duOm5vdCg6Zm9jdXMpOjpwbGFjZWhvbGRlciB7XFxyXFxuICAgIG9wYWNpdHk6IDA7XFxyXFxuICB9XFxyXFxuICAucGxheWVyLWlucHV0LW5hbWUtc2VjdGlvbiBpbnB1dDpwbGFjZWhvbGRlci1zaG93bjpub3QoOmZvY3VzKSArICosXFxyXFxuICAuZmlsdGVyLWNvbnRhaW5lciBpbnB1dDpwbGFjZWhvbGRlci1zaG93bjpub3QoOmZvY3VzKSArICogIHtcXHJcXG4gICAgZm9udC1zaXplOiAycmVtO1xcclxcbiAgICBvcGFjaXR5OiAxO1xcclxcbiAgICBjb2xvcjogIzEwYjI5NTtcXHJcXG4gICAgdG9wOiAtLjJyZW07XFxyXFxuICB9XFxyXFxuICAucGxheWVyLW5hbWUtaW5wdXQubmctdmFsaWQubmctbm90LWVtcHR5Lm5nLWRpcnR5Lm5nLXZhbGlkLXBhcnNlLm5nLXRvdWNoZWQsXFxyXFxuICAuZmlsdGVyLWlucHV0Lm5nLXZhbGlkLm5nLW5vdC1lbXB0eS5uZy1kaXJ0eS5uZy12YWxpZC1wYXJzZS5uZy10b3VjaGVkIHtcXHJcXG4gICAgICBib3JkZXItY29sb3I6ICMzMzMzMzM7XFxyXFxuICB9XFxyXFxuXFxyXFxuICAucGxheWVyLWlucHV0LW5hbWUtc2VjdGlvbiBpbnB1dDpmb2N1cyxcXHJcXG4gIC5maWx0ZXItY29udGFpbmVyIGlucHV0OmZvY3VzIHtcXHJcXG5cXHJcXG4gICAgY29sb3I6ICMxMGIyOTU7XFxyXFxuICAgIG91dGxpbmU6IG5vbmU7XFxyXFxuICAgIGJvcmRlci1jb2xvcjogIzMzMzMzMztcXHJcXG4gIH1cXHJcXG5cXHJcXG4ucGxheWVyLXRhYmxlIHtcXHJcXG4gICAgd2lkdGg6IDEwMCU7XFxyXFxuICAgIG1hcmdpbi1ib3R0b206IDIwcmVtO1xcclxcbiAgICBmb250LXNpemU6IDJyZW07XFxyXFxuICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XFxyXFxufVxcclxcblxcclxcbi5wbGF5ZXItdGFibGUgdGgge1xcclxcbiAgICBib3JkZXI6IDJweCBzb2xpZCAjMzNCRkVCO1xcclxcbiAgICBwYWRkaW5nOiAuM3JlbSAwO1xcclxcbiAgICBjb2xvcjogI2ZhZmFmYTtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzFFOTBGRjtcXHJcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcclxcbn1cXHJcXG5cXHJcXG4ucGxheWVyLXRhYmxlIHRkLFxcclxcbi5wbGF5ZXItdGFibGUgdGgge1xcclxcbiAgICBib3JkZXI6IDJweCBzb2xpZCAjMzNCRkVCO1xcclxcbiAgICBwYWRkaW5nOiAuM3JlbSAwO1xcclxcbn1cXHJcXG5cXHJcXG4ucGxheWVyLXRhYmxlLXJvdyB0aDpudGgtY2hpbGQoMSkge1xcclxcbiAgICB3aWR0aDogNSU7XFxyXFxufVxcclxcblxcclxcbi5wbGF5ZXItdGFibGUtcm93IHRoOm50aC1jaGlsZCgyKSB7XFxyXFxuICAgIHdpZHRoOiAyMCU7XFxyXFxuICAgIHBhZGRpbmc6IC4zcmVtIDA7XFxyXFxufVxcclxcblxcclxcbi5wbGF5ZXItdGFibGUtcm93IHRoOm50aC1jaGlsZCgzKSB7XFxyXFxuICAgIHdpZHRoOiA1JTtcXHJcXG59XFxyXFxuXFxyXFxuLnBsYXllci10YWJsZS1yb3cgdGg6bnRoLWNoaWxkKDQpIHtcXHJcXG4gICAgd2lkdGg6IDEwJTtcXHJcXG59XFxyXFxuXFxyXFxuLnBsYXllci10YWJsZS1yb3cgdGg6bnRoLWNoaWxkKDUpIHtcXHJcXG4gICAgd2lkdGg6IDEwJTtcXHJcXG59XFxyXFxuXFxyXFxuLnBsYXllci10YWJsZS1yb3cgdGg6bnRoLWNoaWxkKDYpIHtcXHJcXG4gICAgd2lkdGg6IDEwJTtcXHJcXG59XFxyXFxuXFxyXFxuLnBsYXllci10YWJsZS1yb3cgdGg6bnRoLWNoaWxkKDcpIHtcXHJcXG4gICAgd2lkdGg6IDglO1xcclxcbn1cXHJcXG5cXHJcXG4ucGxheWVyLXRhYmxlLXJvdyB0aDpudGgtY2hpbGQoOCkge1xcclxcbiAgICB3aWR0aDogOCU7XFxyXFxufVxcclxcblxcclxcbi5wbGF5ZXItdGFibGUtcm93IHRoOm50aC1jaGlsZCg5KSB7XFxyXFxuICAgIHdpZHRoOiA3JTtcXHJcXG59XFxyXFxuXFxyXFxuLnBsYXllci10YWJsZS1yb3cgdGg6bnRoLWNoaWxkKDEwKSB7XFxyXFxuICAgIHdpZHRoOiA4JTtcXHJcXG59XFxyXFxuLnBsYXllci10YWJsZS1yb3cgdGg6bnRoLWNoaWxkKDExKSB7XFxyXFxuICAgIHdpZHRoOiA5JTtcXHJcXG59XFxyXFxuLnBsYXllci10YWJsZSB0Ym9keSB0cj50ZDpudGgtb2YtdHlwZSgyKSB7XFxyXFxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XFxyXFxuICAgIHBhZGRpbmctbGVmdDogMXJlbTtcXHJcXG4gICAgY29sb3I6ICMxRTkwRkY7XFxyXFxufVxcclxcblxcclxcbi5wbGF5ZXItdGFibGUgdGJvZHkgdHI+dGQ6bm90KDpudGgtb2YtdHlwZSgyKSkge1xcclxcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxyXFxuICAgIGNvbG9yOiAjMUU5MEZGO1xcclxcbn1cXHJcXG5cXHJcXG5cXHJcXG5cXHJcXG5cXHJcXG5cXHJcXG4gIFxcclxcblxcclxcblwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcbiIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL3BsYXllci1pbnB1dC5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vcGxheWVyLWlucHV0LmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vcGxheWVyLWlucHV0LmNzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsIm1vZHVsZS5leHBvcnRzID0gXCI8c2VjdGlvbiBjbGFzcz1cXFwicGxheWVyLXNlY3Rpb25cXFwiPlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb250YWluZXJcXFwiPlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwicGxheWVyLWNvbnRhaW5lclxcXCI+XFxyXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwid2VsY29tZS1tc2dcXFwiPlxcclxcbiAgICAgICAgICAgICAgICA8aDI+V2VsY29tZSB0byBQVUJHIEhpc3RvcnkgQVBJPC9oMj5cXHJcXG4gICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJwbGF5ZXItZm9ybS1jb250YWluZXJcXFwiPlxcclxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJwbGF5ZXItaW5wdXQtbmFtZS1zZWN0aW9uXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgXFxyXFxuICAgICAgICAgICAgICAgICAgICA8aW5wdXQgYXV0b2NvbXBsZXRlPVxcXCJvblxcXCIgaWQ9XFxcInBsYXllci1uYW1lLWlucHV0XFxcIiBjbGFzcz1cXFwicGxheWVyLW5hbWUtaW5wdXRcXFwiIG5nLW1vZGVsPVxcXCIkY3RybC5zZWFyY2hQbGF5ZXJcXFwiICB0eXBlPVxcXCJ0ZXh0XFxcIiBwbGFjZWhvbGRlcj1cXFwiUGxheWVyIG5hbWUgLi4uXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cXFwic2VsZWN0LWxhYmVsXFxcIiBmb3I9XFxcInBsYXllci1uYW1lLWlucHV0XFxcIj5QbGF5ZXIgbmFtZTo8L2xhYmVsPlxcclxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicGxheWVyLXNlbGVjdC1zZWN0aW9uXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInBsYXllci1yZWdpb24tY29udGFpbmVyXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3M9XFxcInNlbGVjdC1sYWJlbFxcXCI+UmVnaW9uOiA8L2gyPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgY2xhc3M9XFxcInBsYXllci1yZWdpb24tc2VsZWN0XFxcIiBuZy1tb2RlbD1cXFwiJGN0cmwucmVnaW9uXFxcIiBwbGFjZWhvbGRlcj1cXFwicmVnaW9uXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiBjbGFzcz1cXFwicGxheWVyLXJlZ2lvbi1zZWxlY3Qtb3B0aW9uXFxcIiBuZy1yZXBlYXQ9XFxcInJlZ2lvbiBpbiAkY3RybC5yZWdpb25zXFxcIiB2YWx1ZT17e3JlZ2lvbn19Pnt7cmVnaW9ufX08L29wdGlvbj5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcclxcblxcclxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicGxheWVyLW1hdGNoLWNvbnRhaW5lclxcXCIgbmctaWY9XFxcIiRjdHJsLm1hdGNoZXNcXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzcz1cXFwic2VsZWN0LWxhYmVsXFxcIj5NYXRjaDogPC9oMj5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGNsYXNzPVxcXCJwbGF5ZXItbWF0Y2gtc2VsZWN0XFxcIiBuZy1tb2RlbD1cXFwiJGN0cmwubWF0Y2hcXFwiIG5nLWNoYW5nZT1cXFwiJGN0cmwuZ2V0TWF0Y2goJGN0cmwubWF0Y2gpXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiBjbGFzcz1cXFwicGxheWVyLW1hdGNoLXNlbGVjdC1vcHRpb25cXFwiIG5nLXJlcGVhdD1cXFwibWF0Y2ggaW4gJGN0cmwubWF0Y2hlc1xcXCIgdmFsdWU9e3ttYXRjaC5pZH19Pnt7JGluZGV4ICsgMX19IC0ge3ttYXRjaC5pZH19PC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicGxheWVyLXNlYXJjaC11c2VyLWNvbnRhaW5lclxcXCI+XFxyXFxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XFxcInBsYXllci1zZWFyY2gtdXNlci1idXR0b25cXFwiIG5nLWNsaWNrPVxcXCIkY3RybC5zZWFyY2goKVxcXCI+U2VhcmNoPC9idXR0b24+XFxyXFxuXFxyXFxuICAgICAgICAgICAgPC9kaXY+XFxyXFxuXFxyXFxuICAgICAgICAgICAgXFxyXFxuICAgICAgICAgICAgPGRpdiBuZy1pZj1cXFwiJGN0cmwubWF0Y2guZGF0YS5kYXRhLmF0dHJpYnV0ZXNcXFwiIGNsYXNzPVxcXCJtYXRjaC1pbmZvLWNvbnRhaW5lclxcXCI+XFxyXFxuXFxyXFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcIm1hdGNoLWluZm8tbWFwTmFtZVxcXCI+e3skY3RybC5tYXRjaC5kYXRhLmRhdGEuYXR0cmlidXRlcy5tYXBOYW1lIHwgbWFwRmlsdGVyfX08L2Rpdj5cXHJcXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwibWF0Y2gtaW5mby1wbGF5ZWRcXFwiPnt7JGN0cmwubWF0Y2guZGF0YS5kYXRhLmF0dHJpYnV0ZXMuY3JlYXRlZEF0IHwgZGF0ZTonbWVkaXVtJyB9fTwvZGl2PlxcclxcblxcclxcbiAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XFxcIm1hdGNoLWluZm9cXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVxcXCJtYXRjaC1pbmZvLW1vZGVcXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+TW9kZToge3skY3RybC5tYXRjaC5kYXRhLmRhdGEuYXR0cmlidXRlcy5nYW1lTW9kZSB8IG1vZGVGaWx0ZXJ9fTwvZGl2PlxcclxcbiAgICAgICAgICAgICAgICAgICAgPC9saT5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cXFwibWF0Y2gtaW5mby10eXBlXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2Pk1hdGNoIHR5cGU6IHt7JGN0cmwubWF0Y2guZGF0YS5kYXRhLmF0dHJpYnV0ZXMuZ2FtZU1vZGUgfCBtYXRjaFR5cGVGaWx0ZXJ9fTwvZGl2PlxcclxcbiAgICAgICAgICAgICAgICAgICAgPC9saT5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cXFwibWF0Y2gtaW5mby1wbGF5ZXJDb3VudFxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5QYXJ0aWNpcGFudHM6IHt7dmlld0RhdGEuZmlsdGVyZWRBcnJheS5sZW5ndGh9fTwvZGl2PlxcclxcbiAgICAgICAgICAgICAgICAgICAgPC9saT5cXHJcXG4gICAgICAgICAgICAgICAgPC91bD5cXHJcXG4gICAgICAgICAgICA8L2Rpdj5cXHJcXG5cXHJcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmaWx0ZXItY29udGFpbmVyXFxcIiBuZy1pZj1cXFwiJGN0cmwubWF0Y2guZGF0YS5pbmNsdWRlZFxcXCI+XFxyXFxuICAgICAgICAgICAgICAgIDxpbnB1dCBwbGFjZWhvbGRlcj1cXFwiRmlsdGVyIHZhbHVlIGhlcmUgLi4uXFxcIiBpZD1cXFwiZmlsdGVyLWlucHV0XFxcIiBjbGFzcz1cXFwiZmlsdGVyLWlucHV0XFxcIiB0eXBlPVxcXCJ0ZXh0XFxcIiBuZy1tb2RlbD1cXFwiJGN0cmwuZmlsdGVyVmFsdWVcXFwiPlxcclxcbiAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJmaWx0ZXItaW5wdXRcXFwiPkZpbHRlcjwvbGFiZWw+XFxyXFxuICAgICAgICAgICAgPC9kaXY+XFxyXFxuXFxyXFxuICAgICAgICAgICAgPHRhYmxlIGJvcmRlcj1cXFwiMVxcXCIgY2xhc3M9XFxcInBsYXllci10YWJsZVxcXCIgbmctaWY9XFxcIiRjdHJsLm1hdGNoLmRhdGEuaW5jbHVkZWRcXFwiPlxcclxcbiAgICAgICAgICAgICAgICA8dGhlYWQ+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8dHIgY2xhc3M9XFxcInBsYXllci10YWJsZS1yb3dcXFwiPlxcclxcblxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aD4jPC90aD5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGg+UGxheWVyPC90aD5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGggbmctY2xpY2s9XFxcIiRjdHJsLmNoYW5nZVNvcnRQcm9wZXJ0eSgnd2luUGxhY2UnLCAkY3RybC5yZXZlcnNhbClcXFwiPlBsYWNlPC90aD5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGggbmctY2xpY2s9XFxcIiRjdHJsLmNoYW5nZVNvcnRQcm9wZXJ0eSgna2lsbHMnLCAkY3RybC5yZXZlcnNhbClcXFwiPktpbGxzPC90aD5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGggbmctY2xpY2s9XFxcIiRjdHJsLmNoYW5nZVNvcnRQcm9wZXJ0eSgnREJOT3MnLCAkY3RybC5yZXZlcnNhbClcXFwiPktub2NrZWQgVGltZXM8L3RoPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBuZy1jbGljaz1cXFwiJGN0cmwuY2hhbmdlU29ydFByb3BlcnR5KCdkYW1hZ2VEZWFsdCcsICRjdHJsLnJldmVyc2FsKVxcXCI+RGFtYWdlIERlYWx0PC90aD5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGggbmctY2xpY2s9XFxcIiRjdHJsLmNoYW5nZVNvcnRQcm9wZXJ0eSgnYXNzaXN0cycsICRjdHJsLnJldmVyc2FsKVxcXCI+QXNzaXN0czwvdGg+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoIG5nLWNsaWNrPVxcXCIkY3RybC5jaGFuZ2VTb3J0UHJvcGVydHkoJ2hlYWxzJywgJGN0cmwucmV2ZXJzYWwpXFxcIj5IZWFsczwvdGg+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoIG5nLWNsaWNrPVxcXCIkY3RybC5jaGFuZ2VTb3J0UHJvcGVydHkoJ2Jvb3N0cycsICRjdHJsLnJldmVyc2FsKVxcXCI+Qm9vc3RzPC90aD5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGggbmctY2xpY2s9XFxcIiRjdHJsLmNoYW5nZVNvcnRQcm9wZXJ0eSgncmV2aXZlcycsICRjdHJsLnJldmVyc2FsKVxcXCI+UmV2aXZlczwvdGg+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoIG5nLWNsaWNrPVxcXCIkY3RybC5jaGFuZ2VTb3J0UHJvcGVydHkoJ2xvbmdlc3RLaWxsJywgJGN0cmwucmV2ZXJzYWwpXFxcIj5Mb25nZXN0IEtpbGw8L3RoPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPC90cj5cXHJcXG4gICAgICAgICAgICAgICAgPC90aGVhZD5cXHJcXG4gICAgICAgICAgICAgICAgPHRib2R5PlxcclxcbiAgICAgICAgICAgICAgICAgICAgPHRyIG5nLXJlcGVhdD0ncGxheWVyIGluICh2aWV3RGF0YS5maWx0ZXJlZEFycmF5ID0gKCRjdHJsLm1hdGNoLmRhdGEuaW5jbHVkZWQgfCBwbGF5ZXJGaWx0ZXI6JGN0cmwuc29ydFByb3BlcnR5OiRjdHJsLnJldmVyc2FsIHwgcGxheWVyTmFtZUZpbHRlcjogJGN0cmwuZmlsdGVyVmFsdWUgKSknPlxcclxcblxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD57eyRpbmRleCArIDF9fTwvdGQ+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkPnt7cGxheWVyLmF0dHJpYnV0ZXMuc3RhdHMubmFtZX19PC90ZD5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQ+e3twbGF5ZXIuYXR0cmlidXRlcy5zdGF0cy53aW5QbGFjZX19PC90ZD5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQ+e3twbGF5ZXIuYXR0cmlidXRlcy5zdGF0cy5raWxsc319KHt7cGxheWVyLmF0dHJpYnV0ZXMuc3RhdHMuaGVhZHNob3RLaWxsc319aGVhZCk8L3RkPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD57e3BsYXllci5hdHRyaWJ1dGVzLnN0YXRzLkRCTk9zfX08L3RkPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD57e3BsYXllci5hdHRyaWJ1dGVzLnN0YXRzLmRhbWFnZURlYWx0IHwgcGFyc2VUb0ludEZpbHRlcn19aHA8L3RkPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD57e3BsYXllci5hdHRyaWJ1dGVzLnN0YXRzLmFzc2lzdHN9fTwvdGQ+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkPnt7cGxheWVyLmF0dHJpYnV0ZXMuc3RhdHMuaGVhbHN9fWhlYWxzPC90ZD5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQ+e3twbGF5ZXIuYXR0cmlidXRlcy5zdGF0cy5ib29zdHN9fWJvb3N0czwvdGQ+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkPnt7cGxheWVyLmF0dHJpYnV0ZXMuc3RhdHMucmV2aXZlc319cmV2aXZlczwvdGQ+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkPnt7cGxheWVyLmF0dHJpYnV0ZXMuc3RhdHMubG9uZ2VzdEtpbGx9fW08L3RkPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPC90cj5cXHJcXG4gICAgICAgICAgICAgICAgPC90Ym9keT5cXHJcXG4gICAgICAgICAgICA8L3RhYmxlPlxcclxcbiAgICAgICAgPC9kaXY+XFxyXFxuICAgIDwvZGl2Plxcclxcbjwvc2VjdGlvbj5cIjsiLCJhbmd1bGFyLm1vZHVsZSgncHViZ0FwcCcpXHJcbiAgICAuY29tcG9uZW50KCdhcHBQbGF5ZXJJbnB1dCcsIHtcclxuICAgICAgICB0ZW1wbGF0ZTogcmVxdWlyZSgnLi9wbGF5ZXItaW5wdXQuaHRtbCcpLFxyXG4gICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywnJGxvZycsICdQbGF5ZXJEYXRhU2VydmljZScsICdNYXRjaERhdGFTZXJ2aWNlJywgJ1JlZ2lvbnNTZXJ2aWNlJyAsIGZ1bmN0aW9uKCRzY29wZSwgJGxvZywgUGxheWVyRGF0YVNlcnZpY2UsIE1hdGNoRGF0YVNlcnZpY2UsIFJlZ2lvbnNTZXJ2aWNlKXtcclxuICAgICAgICAgICAgbGV0IGN0cmwgPSB0aGlzO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy4kb25Jbml0ID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIGN0cmwucmVnaW9uID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIFJlZ2lvbnNTZXJ2aWNlLmFsbFJlZ2lvbnMoKS50aGVuKGRhdGEgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGN0cmwucmVnaW9ucyA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgY3RybC5zb3J0UHJvcGVydHkgPSBcIndpblBsYWNlXCI7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudmlld0RhdGEgPSB7fTtcclxuICAgICAgICAgICAgICAgIGN0cmwucmV2ZXJzYWwgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcblxyXG5cclxuICAgICAgICAgICAgY3RybC5jaGFuZ2VTb3J0UHJvcGVydHkgPSBmdW5jdGlvbih2YWx1ZSwgZmxvdyl7XHJcbiAgICAgICAgICAgICAgICBjdHJsLnNvcnRQcm9wZXJ0eSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgY3RybC5yZXZlcnNhbCA9IEJvb2xlYW4oZmxvdyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGN0cmwuc2VhcmNoID0gZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIFBsYXllckRhdGFTZXJ2aWNlLmdldFBsYXllcihjdHJsLnNlYXJjaFBsYXllciwgY3RybC5yZWdpb24pLnRoZW4oZGF0YSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YS5kYXRhLmRhdGFbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGN0cmwubWF0Y2hlcyA9IGRhdGEuZGF0YS5kYXRhWzBdLnJlbGF0aW9uc2hpcHMubWF0Y2hlcy5kYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGN0cmwubWF0Y2hlcyk7XHJcbiAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBhbGVydCgnV3JvbmcgbmFtZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjdHJsLmdldE1hdGNoID0gZnVuY3Rpb24oaWQpe1xyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coaWQpO1xyXG4gICAgICAgICAgICAgICAgTWF0Y2hEYXRhU2VydmljZS5nZXRNYXRjaERhdGEoaWQsIGN0cmwucmVnaW9uKS50aGVuKGRhdGEgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGN0cmwubWF0Y2ggPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfV1cclxuICAgIH0pXHJcblxyXG5yZXF1aXJlKCcuL3BsYXllci1pbnB1dC5jc3MnKTsiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPGFwcC1wbGF5ZXItaW5wdXQ+PC9hcHAtcGxheWVyLWlucHV0PlxcclxcblwiOyIsImFuZ3VsYXIubW9kdWxlKCdwdWJnQXBwJylcclxuICAgIC5jb21wb25lbnQoJ2FwcFBsYXllclNlY3Rpb24nLCB7XHJcbiAgICAgICAgdGVtcGxhdGU6IHJlcXVpcmUoJy4vcGxheWVyLXNlY3Rpb24uaHRtbCcpLFxyXG4gICAgICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbiIsImFuZ3VsYXIubW9kdWxlKCdwdWJnQXBwJylcclxuICAgIC5maWx0ZXIoJ3BsYXllck5hbWVGaWx0ZXInLCBmdW5jdGlvbigpe1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbihpdGVtcywgdmFsdWUpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhpdGVtcyk7XHJcbiAgICAgICAgICAgIGlmKCF2YWx1ZSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbXM7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbmV3QXJyYXkgPSBpdGVtcy5maWx0ZXIoaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uYXR0cmlidXRlcy5zdGF0cy5uYW1lLmluZGV4T2YodmFsdWUpICE9IC0xO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3QXJyYXk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgIH0pOyIsImFuZ3VsYXIubW9kdWxlKCdwdWJnQXBwJylcclxuICAgIC5maWx0ZXIoJ21hcEZpbHRlcicsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGl0ZW0pe1xyXG4gICAgICAgICAgICBpZighaXRlbSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IHNwbGl0dGVkID0gaXRlbS5zcGxpdCgnXycpO1xyXG4gICAgICAgICAgICBzcGxpdHRlZC5wb3AoKTtcclxuICAgICAgICAgICAgaWYoc3BsaXR0ZWQgPT0gXCJEZXNlcnRcIil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJNaXJhbWFyXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHNwbGl0dGVkLmpvaW4oJycpO1xyXG4gICAgICAgIH1cclxuICAgIH0pOyIsImFuZ3VsYXIubW9kdWxlKCdwdWJnQXBwJylcclxuICAgIC5maWx0ZXIoJ21hdGNoVHlwZUZpbHRlcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgaWYgKCFpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGl0ZW0uaW5kZXhPZignLScpICE9IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3BsaXR0ZWQgPSBpdGVtLnNwbGl0KCctJyk7XHJcbiAgICAgICAgICAgICAgICBzcGxpdHRlZC5zaGlmdCgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNwbGl0dGVkLmpvaW4oJycpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uc2xpY2UoaXRlbS5sZW5ndGggLSAzLCBpdGVtLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgfSk7IiwiYW5ndWxhci5tb2R1bGUoJ3B1YmdBcHAnKVxyXG4gICAgLmZpbHRlcignbW9kZUZpbHRlcicsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGl0ZW0pe1xyXG4gICAgICAgICAgICBpZighaXRlbSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoaXRlbS5pbmRleE9mKCctJykgIT0gLTEpe1xyXG4gICAgICAgICAgICAgICAgbGV0IHNwbGl0dGVkID0gaXRlbS5zcGxpdCgnLScpO1xyXG4gICAgICAgICAgICAgICAgc3BsaXR0ZWQucG9wKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3BsaXR0ZWQuam9pbignJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5zbGljZSgwLCBpdGVtLmxlbmd0aCAtMyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcblxyXG4gICAgICAgIH1cclxuICAgIH0pOyIsImFuZ3VsYXIubW9kdWxlKCdwdWJnQXBwJylcclxuICAgIC5maWx0ZXIoJ3BhcnNlVG9JbnRGaWx0ZXInLCBmdW5jdGlvbigpe1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbihpdGVtKXtcclxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KGl0ZW0pLnRvRml4ZWQoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTsiLCJhbmd1bGFyLm1vZHVsZSgncHViZ0FwcCcpXHJcbiAgICAuZmlsdGVyKCdwbGF5ZXJGaWx0ZXInLCBmdW5jdGlvbigpe1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbihpdGVtcywgc29ydFZhbHVlLCByZXZlcnNhbCl7XHJcbiAgICAgICAgICAgIGxldCBpdGVtc0FycmF5ID0gIGl0ZW1zLmZpbHRlcihpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLnR5cGUgPT0gJ3BhcnRpY2lwYW50JztcclxuICAgICAgICAgICAgfSkuc29ydCgoYSxiKT0+IHtcclxuICAgICAgICAgICAgICAgIGlmKHNvcnRWYWx1ZSAhPSAnd2luUGxhY2UnKXtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgYVBvcyA9IHBhcnNlSW50KE51bWJlcihhLmF0dHJpYnV0ZXMuc3RhdHNbc29ydFZhbHVlXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBiUG9zID0gcGFyc2VJbnQoTnVtYmVyKGIuYXR0cmlidXRlcy5zdGF0c1tzb3J0VmFsdWVdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFQb3MgIDwgYlBvcyApIHJldHVybiAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhUG9zID4gYlBvcykgcmV0dXJuIC0xOyAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwOyBcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGFQb3MgPSBwYXJzZUludChOdW1iZXIoYS5hdHRyaWJ1dGVzLnN0YXRzW3NvcnRWYWx1ZV0pKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgYlBvcyA9IHBhcnNlSW50KE51bWJlcihiLmF0dHJpYnV0ZXMuc3RhdHNbc29ydFZhbHVlXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhUG9zICA+IGJQb3MgKSByZXR1cm4gMTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYVBvcyA8IGJQb3MpIHJldHVybiAtMTsgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDsgXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9KSBcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coaXRlbXNBcnJheSk7XHJcbiAgICAgICAgICAgIHJldHVybiAgaXRlbXNBcnJheTtcclxuICAgICAgICB9XHJcbiAgICB9KTsiLCJjbGFzcyBSZWdpb25zU2VydmljZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigkcSl7XHJcbiAgICAgICAgdGhpcy5xID0gJHE7XHJcbiAgICB9XHJcblxyXG4gICAgYWxsUmVnaW9ucygpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLnEoKHJlc29sdmUsIHJlamVjdCk9PiB7XHJcbiAgICAgICAgICAgIHJlc29sdmUoWyd4Ym94LWFzJywgJ3hib3gtZXUnLCAneGJveC1uYScsICd4Ym94LW9jJywgJ3BjLWtyanAnLCAncGMtanAnLCAncGMtbmEnLCAncGMtZXUnLCAncGMtb2MnLCAncGMta2FrYW8nLCAncGMtc2VhJywgJ3BjLXNhJywgJ3BjLWFzJ10pXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIFxyXG59XHJcblxyXG5hbmd1bGFyLm1vZHVsZSgncHViZ0FwcCcpXHJcbiAgICAuc2VydmljZSgnUmVnaW9uc1NlcnZpY2UnLCBbJyRxJywgUmVnaW9uc1NlcnZpY2VdKTsiLCJjbGFzcyBQbGF5ZXJEYXRhU2VydmljZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigkaHR0cCl7XHJcbiAgICAgICAgdGhpcy5odHRwID0gJGh0dHA7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UGxheWVyKG5hbWUsIHJlZ2lvbil7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cCh7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgICAgICAgIHVybDogYGh0dHBzOi8vYXBpLnBsYXliYXR0bGVncm91bmRzLmNvbS9zaGFyZHMvJHtyZWdpb259L3BsYXllcnM/ZmlsdGVyW3BsYXllck5hbWVzXT0ke25hbWV9YCxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgXCJBY2NlcHRcIjogXCJhcHBsaWNhdGlvbi92bmQuYXBpK2pzb25cIixcclxuICAgICAgICAgICAgICAgIFwiQXV0aG9yaXphdGlvblwiOiBcIkJlYXJlciBleUowZVhBaU9pSktWMVFpTENKaGJHY2lPaUpJVXpJMU5pSjkuZXlKcWRHa2lPaUpsWlRVNE5EZGpNQzB4WVRjekxUQXhNell0T1dFME5TMDJNV0ZqT1RFM01ESmlNbUVpTENKcGMzTWlPaUpuWVcxbGJHOWphMlZ5SWl3aWFXRjBJam94TlRJeU9EY3pNemsyTENKd2RXSWlPaUppYkhWbGFHOXNaU0lzSW5ScGRHeGxJam9pY0hWaVp5SXNJbUZ3Y0NJNkltRnpkRzl1TURBaUxDSnpZMjl3WlNJNkltTnZiVzExYm1sMGVTSXNJbXhwYldsMElqb3hNSDAuRWhqMkhtY3R4cUJvNnRYS0pnRmdheGFDaWpONlFPM2FjcWJkYnVkank1MFwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcblxyXG5hbmd1bGFyLm1vZHVsZSgncHViZ0FwcCcpXHJcbiAgICAuc2VydmljZSgnUGxheWVyRGF0YVNlcnZpY2UnLCBbJyRodHRwJywgUGxheWVyRGF0YVNlcnZpY2VdKTsiLCJjbGFzcyBNYXRjaERhdGFTZXJ2aWNlIHtcclxuICAgIGNvbnN0cnVjdG9yKCRodHRwKXtcclxuICAgICAgICB0aGlzLmh0dHAgPSAkaHR0cDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZ2V0TWF0Y2hEYXRhKG1hdGNoSWQsIHJlZ2lvbil7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cCh7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgICAgICAgIHVybDogYGh0dHBzOi8vYXBpLnBsYXliYXR0bGVncm91bmRzLmNvbS9zaGFyZHMvJHtyZWdpb259L21hdGNoZXMvJHttYXRjaElkfWAsIFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICBcIkFjY2VwdFwiOiBcImFwcGxpY2F0aW9uL3ZuZC5hcGkranNvblwiLFxyXG4gICAgICAgICAgICAgICAgXCJBdXRob3JpemF0aW9uXCI6IFwiQmVhcmVyIGV5SjBlWEFpT2lKS1YxUWlMQ0poYkdjaU9pSklVekkxTmlKOS5leUpxZEdraU9pSmxaVFU0TkRkak1DMHhZVGN6TFRBeE16WXRPV0UwTlMwMk1XRmpPVEUzTURKaU1tRWlMQ0pwYzNNaU9pSm5ZVzFsYkc5amEyVnlJaXdpYVdGMElqb3hOVEl5T0Rjek16azJMQ0p3ZFdJaU9pSmliSFZsYUc5c1pTSXNJblJwZEd4bElqb2ljSFZpWnlJc0ltRndjQ0k2SW1GemRHOXVNREFpTENKelkyOXdaU0k2SW1OdmJXMTFibWwwZVNJc0lteHBiV2wwSWpveE1IMC5FaGoySG1jdHhxQm82dFhLSmdGZ2F4YUNpak42UU8zYWNxYmRidWRqeTUwXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuXHJcbmFuZ3VsYXIubW9kdWxlKCdwdWJnQXBwJylcclxuICAgIC5zZXJ2aWNlKCdNYXRjaERhdGFTZXJ2aWNlJywgWyckaHR0cCcsIE1hdGNoRGF0YVNlcnZpY2VdKTsiLCJ2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ3B1YmdBcHAnLCBbJ3VpLnJvdXRlciddKTtcclxuXHJcbi8vVE9ETzo6IGFkZGVkIGVycm9yIGhhbmRsZXJzXHJcbiAgXHJcbiAgICBhcHAuY29uZmlnKFsnJHN0YXRlUHJvdmlkZXInLCAnJHVybFJvdXRlclByb3ZpZGVyJywgJyRsb2NhdGlvblByb3ZpZGVyJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgJGxvY2F0aW9uUHJvdmlkZXIpIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgIFxyXG4gICAgICAgICAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKFwiL1wiKTtcclxuICAgICAgICAgICAgJHN0YXRlUHJvdmlkZXJcclxuICAgICAgICAgICAgICAgIC5zdGF0ZSgnaG9tZScsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvJyxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxhcHAtcGxheWVyLWlucHV0PjwvYXBwLXBsYXllci1pbnB1dD4gJ1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICBdKTtcclxuXHJcblxyXG5yZXF1aXJlKCcuL3NlcnZpY2VzL21hdGNoLWRhdGEtc2VydmljZScpO1xyXG5yZXF1aXJlKCcuL3NlcnZpY2VzL3BsYXllci1kYXRhLXNlcnZpY2UnKTtcclxucmVxdWlyZSgnLi9zZXJ2aWNlcy9yZWdpb25zLXNlcnZpY2UnKTtcclxuXHJcbnJlcXVpcmUoJy4vZmlsdGVycy9wbGF5ZXJzLmZpbHRlcicpO1xyXG5yZXF1aXJlKCcuL2ZpbHRlcnMvcGFyc2VUb0ludC5maWx0ZXInKTtcclxucmVxdWlyZSgnLi9maWx0ZXJzL21vZGUuZmlsdGVyJyk7XHJcbnJlcXVpcmUoJy4vZmlsdGVycy9tYXRjaFR5cGUuZmlsdGVyJyk7XHJcbnJlcXVpcmUoJy4vZmlsdGVycy9tYXAuZmlsdGVyJyk7XHJcbnJlcXVpcmUoJy4vZmlsdGVycy9wbGF5ZXJOYW1lLmZpbHRlcicpO1xyXG5cclxucmVxdWlyZSgnLi9jb21wb25lbnRzL3BsYXllci1zZWN0aW9uL3BsYXllci1zZWN0aW9uLmNvbXBvbmVudCcpO1xyXG5yZXF1aXJlKCcuL2NvbXBvbmVudHMvcGxheWVyLXNlY3Rpb24vcGxheWVyLWlucHV0L3BsYXllci1pbnB1dC5jb21wb25lbnQnKTtcclxucmVxdWlyZSgnLi9jb21wb25lbnRzL2Zvb3Rlci9mb290ZXIuY29tcG9uZW50Jyk7XHJcblxyXG5yZXF1aXJlKCcuL21haW4uY3NzJyk7Il0sInNvdXJjZVJvb3QiOiIifQ==