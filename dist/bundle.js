!function(r){var n={};function t(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return r[e].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=r,t.c=n,t.d=function(r,n,e){t.o(r,n)||Object.defineProperty(r,n,{configurable:!1,enumerable:!0,get:e})},t.r=function(r){Object.defineProperty(r,"__esModule",{value:!0})},t.n=function(r){var n=r&&r.__esModule?function(){return r.default}:function(){return r};return t.d(n,"a",n),n},t.o=function(r,n){return Object.prototype.hasOwnProperty.call(r,n)},t.p="",t(t.s=23)}([function(r,n,t){var e,i,a={},o=(e=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=e.apply(this,arguments)),i}),l=function(r){var n={};return function(r){if("function"==typeof r)return r();if(void 0===n[r]){var t=function(r){return document.querySelector(r)}.call(this,r);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(r){t=null}n[r]=t}return n[r]}}(),s=null,c=0,p=[],d=t(8);function u(r,n){for(var t=0;t<r.length;t++){var e=r[t],i=a[e.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](e.parts[o]);for(;o<e.parts.length;o++)i.parts.push(g(e.parts[o],n))}else{var l=[];for(o=0;o<e.parts.length;o++)l.push(g(e.parts[o],n));a[e.id]={id:e.id,refs:1,parts:l}}}}function f(r,n){for(var t=[],e={},i=0;i<r.length;i++){var a=r[i],o=n.base?a[0]+n.base:a[0],l={css:a[1],media:a[2],sourceMap:a[3]};e[o]?e[o].parts.push(l):t.push(e[o]={id:o,parts:[l]})}return t}function h(r,n){var t=l(r.insertInto);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var e=p[p.length-1];if("top"===r.insertAt)e?e.nextSibling?t.insertBefore(n,e.nextSibling):t.appendChild(n):t.insertBefore(n,t.firstChild),p.push(n);else if("bottom"===r.insertAt)t.appendChild(n);else{if("object"!=typeof r.insertAt||!r.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=l(r.insertInto+" "+r.insertAt.before);t.insertBefore(n,i)}}function m(r){if(null===r.parentNode)return!1;r.parentNode.removeChild(r);var n=p.indexOf(r);n>=0&&p.splice(n,1)}function b(r){var n=document.createElement("style");return r.attrs.type="text/css",y(n,r.attrs),h(r,n),n}function y(r,n){Object.keys(n).forEach(function(t){r.setAttribute(t,n[t])})}function g(r,n){var t,e,i,a;if(n.transform&&r.css){if(!(a=n.transform(r.css)))return function(){};r.css=a}if(n.singleton){var o=c++;t=s||(s=b(n)),e=w.bind(null,t,o,!1),i=w.bind(null,t,o,!0)}else r.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(t=function(r){var n=document.createElement("link");return r.attrs.type="text/css",r.attrs.rel="stylesheet",y(n,r.attrs),h(r,n),n}(n),e=function(r,n,t){var e=t.css,i=t.sourceMap,a=void 0===n.convertToAbsoluteUrls&&i;(n.convertToAbsoluteUrls||a)&&(e=d(e));i&&(e+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var o=new Blob([e],{type:"text/css"}),l=r.href;r.href=URL.createObjectURL(o),l&&URL.revokeObjectURL(l)}.bind(null,t,n),i=function(){m(t),t.href&&URL.revokeObjectURL(t.href)}):(t=b(n),e=function(r,n){var t=n.css,e=n.media;e&&r.setAttribute("media",e);if(r.styleSheet)r.styleSheet.cssText=t;else{for(;r.firstChild;)r.removeChild(r.firstChild);r.appendChild(document.createTextNode(t))}}.bind(null,t),i=function(){m(t)});return e(r),function(n){if(n){if(n.css===r.css&&n.media===r.media&&n.sourceMap===r.sourceMap)return;e(r=n)}else i()}}r.exports=function(r,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(n=n||{}).attrs="object"==typeof n.attrs?n.attrs:{},n.singleton||"boolean"==typeof n.singleton||(n.singleton=o()),n.insertInto||(n.insertInto="head"),n.insertAt||(n.insertAt="bottom");var t=f(r,n);return u(t,n),function(r){for(var e=[],i=0;i<t.length;i++){var o=t[i];(l=a[o.id]).refs--,e.push(l)}r&&u(f(r,n),n);for(i=0;i<e.length;i++){var l;if(0===(l=e[i]).refs){for(var s=0;s<l.parts.length;s++)l.parts[s]();delete a[l.id]}}}};var v,x=(v=[],function(r,n){return v[r]=n,v.filter(Boolean).join("\n")});function w(r,n,t,e){var i=t?"":e.css;if(r.styleSheet)r.styleSheet.cssText=x(n,i);else{var a=document.createTextNode(i),o=r.childNodes;o[n]&&r.removeChild(o[n]),o.length?r.insertBefore(a,o[n]):r.appendChild(a)}}},function(r,n){r.exports=function(r){var n=[];return n.toString=function(){return this.map(function(n){var t=function(r,n){var t=r[1]||"",e=r[3];if(!e)return t;if(n&&"function"==typeof btoa){var i=(o=e,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),a=e.sources.map(function(r){return"/*# sourceURL="+e.sourceRoot+r+" */"});return[t].concat(a).concat([i]).join("\n")}var o;return[t].join("\n")}(n,r);return n[2]?"@media "+n[2]+"{"+t+"}":t}).join("")},n.i=function(r,t){"string"==typeof r&&(r=[[null,r,""]]);for(var e={},i=0;i<this.length;i++){var a=this[i][0];"number"==typeof a&&(e[a]=!0)}for(i=0;i<r.length;i++){var o=r[i];"number"==typeof o[0]&&e[o[0]]||(t&&!o[2]?o[2]=t:t&&(o[2]="("+o[2]+") and ("+t+")"),n.push(o))}},n}},function(r,n,t){(r.exports=t(1)(!1)).push([r.i,"*, *::before, *::after {\r\n    box-sizing: border-box;\r\n    margin: 0;\r\n    padding:0;\r\n}\r\nbody {\r\n    font-family: 'Athiti', sans-serif;\r\n    background-color: #fafafa;\r\n}\r\nhtml {\r\n    \r\n    font-size: 62.5%;\r\n}",""])},function(r,n,t){var e=t(2);"string"==typeof e&&(e=[[r.i,e,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};t(0)(e,i);e.locals&&(r.exports=e.locals)},function(r,n,t){(r.exports=t(1)(!1)).push([r.i,".app-footer {\r\n    display: flex;\r\n    height: 20rem;\r\n    background-color: inherit;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.footer-container {\r\n    flex-basis: 50%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n\r\n}\r\n\r\n\r\n.footer-copyright {\r\n    font-size: 2.5rem;\r\n    letter-spacing: .2rem;\r\n    font-weight: 600;\r\n    color: #10b295;\r\n}",""])},function(r,n,t){var e=t(4);"string"==typeof e&&(e=[[r.i,e,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};t(0)(e,i);e.locals&&(r.exports=e.locals)},function(r,n){r.exports='<div class="app-footer">\r\n    <div class="footer-container">\r\n        \r\n            <h2 class="footer-copyright">Made by Anatolii Yatsenko &copy; 2018</h2>\r\n        \r\n    </div>\r\n</div>'},function(r,n,t){angular.module("pubgApp").component("appFooter",{template:t(6),controller:function(){}}),t(5)},function(r,n){r.exports=function(r){var n="undefined"!=typeof window&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!r||"string"!=typeof r)return r;var t=n.protocol+"//"+n.host,e=t+n.pathname.replace(/\/[^\/]*$/,"/");return r.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(r,n){var i,a=n.trim().replace(/^"(.*)"$/,function(r,n){return n}).replace(/^'(.*)'$/,function(r,n){return n});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?r:(i=0===a.indexOf("//")?a:0===a.indexOf("/")?t+a:e+a.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(r,n,t){(r.exports=t(1)(!1)).push([r.i,".player-section {\r\n    padding-top: 3.2rem;\r\n    padding-bottom: 3.5rem;\r\n}\r\ninput:-webkit-autofill {\r\n    -webkit-box-shadow: inset 0 0 0 50px #fafafa;\r\n    -webkit-text-fill-color: #10b295 !important;\r\n}\r\n.container {\r\n    width: 80%;\r\n    margin: auto;\r\n}\r\n\r\n.welcome-msg {\r\n    font-size: 4.2rem;\r\n    color: #1E90FF;\r\n    text-align: center;\r\n}\r\n\r\n\r\n.player-form-container {\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    margin-top: 7rem;\r\n    margin-bottom: 2rem;\r\n}\r\n\r\n\r\n.player-region-select {\r\n    height: 3rem;\r\n    display: block;\r\n    border: 1px solid #10b295;\r\n    width: 100%;\r\n    font-size: 2rem;\r\n    outline: none;\r\n    border-radius: 5px;\r\n    color: #10b295;\r\n}\r\n\r\n.player-region-select-option {\r\n    font-size: 2rem;\r\n}\r\n\r\n.player-match-select {\r\n    height: 3rem;\r\n    display: block;\r\n    border: 1px solid #10b295;\r\n    width: 100%;\r\n    font-size: 2rem;\r\n    outline: none;\r\n    border-radius: 5px;\r\n    color: #10b295;\r\n}\r\n\r\n.player-match-select-option {\r\n    flex-basis: 50%;\r\n}\r\n\r\n.player-search-user-container {\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n.player-search-user-button {\r\n    display: block;\r\n    font-size: 2rem;\r\n    padding: .5rem;\r\n    flex-basis: 50%;\r\n    color: #fafafa;\r\n    background-color: #10b295;\r\n    border: 1px solid #1E90FF;\r\n    border-radius: 10px;\r\n    outline: none;\r\n    transition: all .1s;\r\n}\r\n\r\n.player-search-user-button:active {\r\n    transform: scale(1.04) translateX(8px);\r\n    letter-spacing: .1rem;\r\n    background-color: #10B2C6;\r\n}\r\n\r\n.player-select-section {\r\n    display: flex;\r\n    width: 50%;\r\n    justify-content: space-between;\r\n    margin-bottom: 2rem;\r\n}\r\n\r\n.player-region-container {\r\n    display: flex;\r\n    width: 45%;\r\n    flex-direction: column;\r\n}\r\n\r\n.player-match-container {\r\n    display: flex;\r\n    width: 50%;\r\n    flex-direction: column;\r\n}\r\n\r\n.match-info-container {\r\n    width: 100%;\r\n    display: block;\r\n    display: flex;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    padding: 5rem 0 6rem 0;\r\n}\r\n\r\n.match-info {\r\n    display: flex;\r\n    width: 70%;\r\n    list-style: none;\r\n    justify-content: space-between;\r\n    flex-wrap: wrap;\r\n    margin-top: 2rem;\r\n}\r\n\r\n.match-info>li {\r\n    flex-basis: 30%;\r\n    height: 5rem;\r\n    border-bottom: 1px solid #10b295;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    color: #1E90FF;\r\n}\r\n\r\n.match-info-mapName {\r\n    color: #1E90FF;\r\n    font-size: 4rem;\r\n    letter-spacing: .2rem;\r\n    border-bottom: #10b295;\r\n    display: block;\r\n    align-content: center;\r\n    margin: .5rem 0 1rem 0;\r\n}\r\n\r\n.match-info-mode {\r\n    font-size: 2.5rem;\r\n}\r\n\r\n.match-info-type {\r\n    font-size: 2.5rem;\r\n}\r\n\r\n.match-info-playerCount {\r\n    font-size: 2.5rem;\r\n}\r\n\r\n.match-info-played {\r\n    font-size: 2.5rem;\r\n    color: #1E90FF;\r\n    border-bottom: 1px solid #10b295;\r\n}\r\n\r\n.filter-container {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 30%;\r\n    margin: 4rem auto 7rem auto;\r\n}\r\n\r\n.player-input-name-section {\r\n    display: block;\r\n    position: relative;\r\n    width: 50%;\r\n    margin-bottom: 2rem;\r\n}\r\n.filter-container {\r\n    display: block;\r\n    position: relative;\r\n    width: 30%;\r\n    margin-bottom: 8rem;\r\n}\r\n\r\n.player-input-name-section label, .filter-container label{\r\n    position: absolute;\r\n    left: 0;\r\n    color: #333333;\r\n    display: block;\r\n    font-weight: 600;\r\n    margin-bottom: .5rem;\r\n    top: -1.5rem;\r\n    cursor: text;\r\n    font-size: 120%;\r\n    opacity: 1;\r\n    transition: all 0.2s;\r\n}\r\n\r\n\r\n.player-name-input, .filter-input {\r\n    font-family: 'Athiti', sans-serif;\r\n    font-size: inherit;\r\n    margin-bottom: .2rem;\r\n    font-size: 2rem;\r\n    height: 3rem;\r\n    font-weight: 600;\r\n    width: 100%;\r\n    color: #10b295;\r\n    border: none;\r\n    border-bottom: 2px solid;\r\n    background-color: inherit;\r\n\r\n    transition: letter-spacing .2s;\r\n}\r\n.player-input-name-section input::placeholder,\r\n.filter-container input::placeholder {\r\n    opacity: 1;\r\n    color: #10b295;\r\n}\r\n\r\n\r\n\r\n  .player-input-name-section input:placeholder-shown:not(:focus)::placeholder,\r\n  .filter-container input:placeholder-shown:not(:focus)::placeholder {\r\n    opacity: 0;\r\n  }\r\n  .player-input-name-section input:placeholder-shown:not(:focus) + *,\r\n  .filter-container input:placeholder-shown:not(:focus) + *  {\r\n    font-size: 2rem;\r\n    opacity: 1;\r\n    color: #10b295;\r\n    top: -.2rem;\r\n  }\r\n  .player-name-input.ng-valid.ng-not-empty.ng-dirty.ng-valid-parse.ng-touched,\r\n  .filter-input.ng-valid.ng-not-empty.ng-dirty.ng-valid-parse.ng-touched {\r\n      border-color: #333333;\r\n  }\r\n\r\n  .player-input-name-section input:focus,\r\n  .filter-container input:focus {\r\n\r\n    color: #10b295;\r\n    outline: none;\r\n    border-color: #333333;\r\n  }\r\n\r\n.player-table {\r\n    width: 100%;\r\n    margin-bottom: 20rem;\r\n    font-size: 2rem;\r\n    border-collapse: collapse;\r\n}\r\n\r\n.player-table th {\r\n    border: 2px solid #33BFEB;\r\n    padding: .3rem 0;\r\n    color: #fafafa;\r\n    background-color: #1E90FF;\r\n    cursor: pointer;\r\n}\r\n\r\n.player-table td,\r\n.player-table th {\r\n    border: 2px solid #33BFEB;\r\n    padding: .3rem 0;\r\n}\r\n\r\n.player-table-row th:nth-child(1) {\r\n    width: 5%;\r\n}\r\n\r\n.player-table-row th:nth-child(2) {\r\n    width: 20%;\r\n    padding: .3rem 0;\r\n}\r\n\r\n.player-table-row th:nth-child(3) {\r\n    width: 5%;\r\n}\r\n\r\n.player-table-row th:nth-child(4) {\r\n    width: 10%;\r\n}\r\n\r\n.player-table-row th:nth-child(5) {\r\n    width: 10%;\r\n}\r\n\r\n.player-table-row th:nth-child(6) {\r\n    width: 10%;\r\n}\r\n\r\n.player-table-row th:nth-child(7) {\r\n    width: 8%;\r\n}\r\n\r\n.player-table-row th:nth-child(8) {\r\n    width: 8%;\r\n}\r\n\r\n.player-table-row th:nth-child(9) {\r\n    width: 7%;\r\n}\r\n\r\n.player-table-row th:nth-child(10) {\r\n    width: 8%;\r\n}\r\n.player-table-row th:nth-child(11) {\r\n    width: 9%;\r\n}\r\n.player-table tbody tr>td:nth-of-type(2) {\r\n    font-weight: 600;\r\n    padding-left: 1rem;\r\n    color: #1E90FF;\r\n}\r\n\r\n.player-table tbody tr>td:not(:nth-of-type(2)) {\r\n    text-align: center;\r\n    color: #1E90FF;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n  \r\n\r\n",""])},function(r,n,t){var e=t(9);"string"==typeof e&&(e=[[r.i,e,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};t(0)(e,i);e.locals&&(r.exports=e.locals)},function(r,n){r.exports='<section class="player-section">\r\n    <div class="container">\r\n        <div class="player-container">\r\n            <div class="welcome-msg">\r\n                <h2>Welcome to PUBG History API</h2>\r\n            </div>\r\n            <div class="player-form-container">\r\n                <div class="player-input-name-section">\r\n                   \r\n                    <input autocomplete="on" id="player-name-input" class="player-name-input" ng-model="$ctrl.searchPlayer"  type="text" placeholder="Player name ...">\r\n                    <label class="select-label" for="player-name-input">Player name:</label>\r\n                </div>\r\n                <div class="player-select-section">\r\n                    <div class="player-region-container">\r\n                        <h2 class="select-label">Region: </h2>\r\n                        <select class="player-region-select" ng-model="$ctrl.region" placeholder="region">\r\n                            <option class="player-region-select-option" ng-repeat="region in $ctrl.regions" value={{region}}>{{region}}</option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div class="player-match-container" ng-if="$ctrl.matches">\r\n                        <h2 class="select-label">Match: </h2>\r\n                        <select class="player-match-select" ng-model="$ctrl.match" ng-change="$ctrl.getMatch($ctrl.match)">\r\n                            <option class="player-match-select-option" ng-repeat="match in $ctrl.matches" value={{match.id}}>{{$index + 1}} - {{match.id}}</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="player-search-user-container">\r\n                <button class="player-search-user-button" ng-click="$ctrl.search()">Search</button>\r\n\r\n            </div>\r\n\r\n            \r\n            <div ng-if="$ctrl.match.data.data.attributes" class="match-info-container">\r\n\r\n                <div class="match-info-mapName">{{$ctrl.match.data.data.attributes.mapName | mapFilter}}</div>\r\n                <div class="match-info-played">{{$ctrl.match.data.data.attributes.createdAt | date:\'medium\' }}</div>\r\n\r\n                <ul class="match-info">\r\n                    <li class="match-info-mode">\r\n                        <div>Mode: {{$ctrl.match.data.data.attributes.gameMode | modeFilter}}</div>\r\n                    </li>\r\n                    <li class="match-info-type">\r\n                        <div>Match type: {{$ctrl.match.data.data.attributes.gameMode | matchTypeFilter}}</div>\r\n                    </li>\r\n                    <li class="match-info-playerCount">\r\n                        <div>Participants: {{viewData.filteredArray.length}}</div>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n\r\n            <div class="filter-container" ng-if="$ctrl.match.data.included">\r\n                <input placeholder="Filter value here ..." id="filter-input" class="filter-input" type="text" ng-model="$ctrl.filterValue">\r\n                <label for="filter-input">Filter</label>\r\n            </div>\r\n\r\n            <table border="1" class="player-table" ng-if="$ctrl.match.data.included">\r\n                <thead>\r\n                    <tr class="player-table-row">\r\n\r\n                        <th>#</th>\r\n                        <th>Player</th>\r\n                        <th ng-click="$ctrl.changeSortProperty(\'winPlace\', $ctrl.reversal)">Place</th>\r\n                        <th ng-click="$ctrl.changeSortProperty(\'kills\', $ctrl.reversal)">Kills</th>\r\n                        <th ng-click="$ctrl.changeSortProperty(\'DBNOs\', $ctrl.reversal)">Knocked Times</th>\r\n                        <th ng-click="$ctrl.changeSortProperty(\'damageDealt\', $ctrl.reversal)">Damage Dealt</th>\r\n                        <th ng-click="$ctrl.changeSortProperty(\'assists\', $ctrl.reversal)">Assists</th>\r\n                        <th ng-click="$ctrl.changeSortProperty(\'heals\', $ctrl.reversal)">Heals</th>\r\n                        <th ng-click="$ctrl.changeSortProperty(\'boosts\', $ctrl.reversal)">Boosts</th>\r\n                        <th ng-click="$ctrl.changeSortProperty(\'revives\', $ctrl.reversal)">Revives</th>\r\n                        <th ng-click="$ctrl.changeSortProperty(\'longestKill\', $ctrl.reversal)">Longest Kill</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr ng-repeat=\'player in (viewData.filteredArray = ($ctrl.match.data.included | playerFilter:$ctrl.sortProperty:$ctrl.reversal | filter: $ctrl.filterValue ))\'>\r\n\r\n                        <td>{{$index + 1}}</td>\r\n                        <td>{{player.attributes.stats.name}}</td>\r\n                        <td>{{player.attributes.stats.winPlace}}</td>\r\n                        <td>{{player.attributes.stats.kills}}({{player.attributes.stats.headshotKills}}head)</td>\r\n                        <td>{{player.attributes.stats.DBNOs}}</td>\r\n                        <td>{{player.attributes.stats.damageDealt | parseToIntFilter}}hp</td>\r\n                        <td>{{player.attributes.stats.assists}}</td>\r\n                        <td>{{player.attributes.stats.heals}}heals</td>\r\n                        <td>{{player.attributes.stats.boosts}}boosts</td>\r\n                        <td>{{player.attributes.stats.revives}}revives</td>\r\n                        <td>{{player.attributes.stats.longestKill}}m</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    </div>\r\n</section>'},function(r,n,t){angular.module("pubgApp").component("appPlayerInput",{template:t(11),controller:["$scope","$log","PlayerDataService","MatchDataService","RegionsService",function(r,n,t,e,i){let a=this;this.$onInit=function(){a.region="",i.allRegions().then(r=>{a.regions=r}),a.sortProperty="winPlace",r.viewData={},a.reversal=!0},a.changeSortProperty=function(r,n){a.sortProperty=r,a.reversal=Boolean(n)},a.search=function(){t.getPlayer(a.searchPlayer,a.region).then(r=>{a.matches=r.data.data[0].relationships.matches.data})},a.getMatch=function(r){e.getMatchData(r,a.region).then(r=>{a.match=r})}}]}),t(10)},function(r,n){r.exports="<app-player-input></app-player-input>\r\n"},function(r,n,t){angular.module("pubgApp").component("appPlayerSection",{template:t(13),controller:function(){}})},function(r,n){angular.module("pubgApp").filter("mapFilter",function(){return function(r){if(!r)return;let n=r.split("_");return n.pop(),n.join("")}})},function(r,n){angular.module("pubgApp").filter("matchTypeFilter",function(){return function(r){if(r){if(-1!=r.indexOf("-")){let n=r.split("-");return n.shift(),n.join("")}return r.slice(r.length-3,r.length)}}})},function(r,n){angular.module("pubgApp").filter("modeFilter",function(){return function(r){if(r){if(-1!=r.indexOf("-")){let n=r.split("-");return n.pop(),n.join("")}return r.slice(0,r.length-3)}}})},function(r,n){angular.module("pubgApp").filter("parseToIntFilter",function(){return function(r){return parseInt(r).toFixed()}})},function(r,n){angular.module("pubgApp").filter("playerFilter",function(){return function(r,n,t){return r.filter(r=>"participant"==r.type).sort((r,t)=>{if("winPlace"!=n){let e=parseInt(Number(r.attributes.stats[n])),i=parseInt(Number(t.attributes.stats[n]));return e<i?1:e>i?-1:0}{let e=parseInt(Number(r.attributes.stats[n])),i=parseInt(Number(t.attributes.stats[n]));return e>i?1:e<i?-1:0}})}})},function(r,n){angular.module("pubgApp").service("RegionsService",["$q",class{constructor(r){this.q=r}allRegions(){return this.q((r,n)=>{r(["xbox-as","xbox-eu","xbox-na","xbox-oc","pc-krjp","pc-jp","pc-na","pc-eu","pc-oc","pc-kakao","pc-sea","pc-sa","pc-as"])})}}])},function(r,n){angular.module("pubgApp").service("PlayerDataService",["$http",class{constructor(r){this.http=r}getPlayer(r,n){return this.http({method:"GET",url:`https://api.playbattlegrounds.com/shards/${n}/players?filter[playerNames]=${r}`,headers:{Accept:"application/vnd.api+json",Authorization:"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJqdGkiOiJlZTU4NDdjMC0xYTczLTAxMzYtOWE0NS02MWFjOTE3MDJiMmEiLCJpc3MiOiJnYW1lbG9ja2VyIiwiaWF0IjoxNTIyODczMzk2LCJwdWIiOiJibHVlaG9sZSIsInRpdGxlIjoicHViZyIsImFwcCI6ImFzdG9uMDAiLCJzY29wZSI6ImNvbW11bml0eSIsImxpbWl0IjoxMH0.Ehj2HmctxqBo6tXKJgFgaxaCijN6QO3acqbdbudjy50"}})}}])},function(r,n){angular.module("pubgApp").service("MatchDataService",["$http",class{constructor(r){this.http=r}getMatchData(r,n){return this.http({method:"GET",url:`https://api.playbattlegrounds.com/shards/${n}/matches/${r}`,headers:{Accept:"application/vnd.api+json",Authorization:"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJqdGkiOiJlZTU4NDdjMC0xYTczLTAxMzYtOWE0NS02MWFjOTE3MDJiMmEiLCJpc3MiOiJnYW1lbG9ja2VyIiwiaWF0IjoxNTIyODczMzk2LCJwdWIiOiJibHVlaG9sZSIsInRpdGxlIjoicHViZyIsImFwcCI6ImFzdG9uMDAiLCJzY29wZSI6ImNvbW11bml0eSIsImxpbWl0IjoxMH0.Ehj2HmctxqBo6tXKJgFgaxaCijN6QO3acqbdbudjy50"}})}}])},function(r,n,t){angular.module("pubgApp",["ui.router"]).config(["$stateProvider","$urlRouterProvider","$locationProvider",function(r,n,t){n.otherwise("/"),r.state("home",{url:"/",template:"<app-player-input></app-player-input> "})}]),t(22),t(21),t(20),t(19),t(18),t(17),t(16),t(15),t(14),t(12),t(7),t(3)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9tYWluLmNzcyIsIndlYnBhY2s6Ly8vLi9tYWluLmNzcz9mYmE0Iiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvZm9vdGVyL2Zvb3Rlci5jc3MiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9mb290ZXIvZm9vdGVyLmNzcz80NjBjIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvZm9vdGVyL2Zvb3Rlci5odG1sIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvZm9vdGVyL2Zvb3Rlci5jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvdXJscy5qcyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL3BsYXllci1zZWN0aW9uL3BsYXllci1pbnB1dC9wbGF5ZXItaW5wdXQuY3NzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvcGxheWVyLXNlY3Rpb24vcGxheWVyLWlucHV0L3BsYXllci1pbnB1dC5jc3M/YTIyZCIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL3BsYXllci1zZWN0aW9uL3BsYXllci1pbnB1dC9wbGF5ZXItaW5wdXQuaHRtbCIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL3BsYXllci1zZWN0aW9uL3BsYXllci1pbnB1dC9wbGF5ZXItaW5wdXQuY29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvcGxheWVyLXNlY3Rpb24vcGxheWVyLXNlY3Rpb24uaHRtbCIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL3BsYXllci1zZWN0aW9uL3BsYXllci1zZWN0aW9uLmNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi9maWx0ZXJzL21hcC5maWx0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vZmlsdGVycy9tYXRjaFR5cGUuZmlsdGVyLmpzIiwid2VicGFjazovLy8uL2ZpbHRlcnMvbW9kZS5maWx0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vZmlsdGVycy9wYXJzZVRvSW50LmZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9maWx0ZXJzL3BsYXllcnMuZmlsdGVyLmpzIiwid2VicGFjazovLy8uL3NlcnZpY2VzL3JlZ2lvbnMtc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zZXJ2aWNlcy9wbGF5ZXItZGF0YS1zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NlcnZpY2VzL21hdGNoLWRhdGEtc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9hcHAuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwidmFsdWUiLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImZuIiwibWVtbyIsInN0eWxlc0luRG9tIiwiaXNPbGRJRSIsIndpbmRvdyIsImRvY3VtZW50IiwiYWxsIiwiYXRvYiIsImFwcGx5IiwidGhpcyIsImFyZ3VtZW50cyIsImdldEVsZW1lbnQiLCJ0YXJnZXQiLCJzdHlsZVRhcmdldCIsInF1ZXJ5U2VsZWN0b3IiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwic2luZ2xldG9uIiwic2luZ2xldG9uQ291bnRlciIsInN0eWxlc0luc2VydGVkQXRUb3AiLCJmaXhVcmxzIiwiYWRkU3R5bGVzVG9Eb20iLCJzdHlsZXMiLCJvcHRpb25zIiwibGVuZ3RoIiwiaXRlbSIsImRvbVN0eWxlIiwiaWQiLCJyZWZzIiwiaiIsInBhcnRzIiwicHVzaCIsImFkZFN0eWxlIiwibGlzdFRvU3R5bGVzIiwibGlzdCIsIm5ld1N0eWxlcyIsImJhc2UiLCJwYXJ0IiwiY3NzIiwibWVkaWEiLCJzb3VyY2VNYXAiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZSIsImluc2VydEludG8iLCJFcnJvciIsImxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wIiwiaW5zZXJ0QXQiLCJuZXh0U2libGluZyIsImluc2VydEJlZm9yZSIsImFwcGVuZENoaWxkIiwiZmlyc3RDaGlsZCIsImJlZm9yZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImlkeCIsImluZGV4T2YiLCJzcGxpY2UiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYXR0cnMiLCJ0eXBlIiwiYWRkQXR0cnMiLCJlbCIsImtleXMiLCJmb3JFYWNoIiwia2V5Iiwic2V0QXR0cmlidXRlIiwib2JqIiwidXBkYXRlIiwicmVtb3ZlIiwicmVzdWx0IiwidHJhbnNmb3JtIiwic3R5bGVJbmRleCIsImFwcGx5VG9TaW5nbGV0b25UYWciLCJiaW5kIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwicmV2b2tlT2JqZWN0VVJMIiwiQmxvYiIsImJ0b2EiLCJsaW5rIiwicmVsIiwiY3JlYXRlTGlua0VsZW1lbnQiLCJhdXRvRml4VXJscyIsInVuZGVmaW5lZCIsImNvbnZlcnRUb0Fic29sdXRlVXJscyIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImJsb2IiLCJvbGRTcmMiLCJocmVmIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjcmVhdGVUZXh0Tm9kZSIsIm5ld09iaiIsIkRFQlVHIiwibmV3TGlzdCIsIm1heVJlbW92ZSIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwiaW5kZXgiLCJyZXBsYWNlbWVudCIsImZpbHRlciIsIkJvb2xlYW4iLCJqb2luIiwiY3NzTm9kZSIsImNoaWxkTm9kZXMiLCJ1c2VTb3VyY2VNYXAiLCJ0b1N0cmluZyIsIm1hcCIsImNvbnRlbnQiLCJjc3NNYXBwaW5nIiwic291cmNlTWFwcGluZyIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsImNvbmNhdCIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJtZWRpYVF1ZXJ5IiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImhtciIsImxvY2FscyIsImFuZ3VsYXIiLCJjb21wb25lbnQiLCJ0ZW1wbGF0ZSIsImNvbnRyb2xsZXIiLCJsb2NhdGlvbiIsImJhc2VVcmwiLCJwcm90b2NvbCIsImhvc3QiLCJjdXJyZW50RGlyIiwicGF0aG5hbWUiLCJyZXBsYWNlIiwiZnVsbE1hdGNoIiwib3JpZ1VybCIsIm5ld1VybCIsInVucXVvdGVkT3JpZ1VybCIsInRyaW0iLCIkMSIsInRlc3QiLCIkc2NvcGUiLCIkbG9nIiwiUGxheWVyRGF0YVNlcnZpY2UiLCJNYXRjaERhdGFTZXJ2aWNlIiwiUmVnaW9uc1NlcnZpY2UiLCJjdHJsIiwiJG9uSW5pdCIsInJlZ2lvbiIsImFsbFJlZ2lvbnMiLCJ0aGVuIiwiZGF0YSIsInJlZ2lvbnMiLCJzb3J0UHJvcGVydHkiLCJ2aWV3RGF0YSIsInJldmVyc2FsIiwiY2hhbmdlU29ydFByb3BlcnR5IiwiZmxvdyIsInNlYXJjaCIsImdldFBsYXllciIsInNlYXJjaFBsYXllciIsIm1hdGNoZXMiLCJyZWxhdGlvbnNoaXBzIiwiZ2V0TWF0Y2giLCJnZXRNYXRjaERhdGEiLCJtYXRjaCIsInNwbGl0dGVkIiwic3BsaXQiLCJwb3AiLCJzaGlmdCIsInNsaWNlIiwicGFyc2VJbnQiLCJ0b0ZpeGVkIiwiaXRlbXMiLCJzb3J0VmFsdWUiLCJzb3J0IiwiYSIsImIiLCJhUG9zIiwiTnVtYmVyIiwiYXR0cmlidXRlcyIsInN0YXRzIiwiYlBvcyIsInNlcnZpY2UiLCJbb2JqZWN0IE9iamVjdF0iLCIkcSIsInEiLCJyZXNvbHZlIiwicmVqZWN0IiwiJGh0dHAiLCJodHRwIiwibWV0aG9kIiwidXJsIiwiaGVhZGVycyIsIkFjY2VwdCIsIkF1dGhvcml6YXRpb24iLCJtYXRjaElkIiwiY29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCIkbG9jYXRpb25Qcm92aWRlciIsIm90aGVyd2lzZSIsInN0YXRlIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FDQUssY0FBQSxFQUNBQyxZQUFBLEVBQ0FDLElBQUFOLEtBTUFaLEVBQUFtQixFQUFBLFNBQUFqQixHQUNBWSxPQUFBQyxlQUFBYixFQUFBLGNBQWlEa0IsT0FBQSxLQUlqRHBCLEVBQUFxQixFQUFBLFNBQUFsQixHQUNBLElBQUFTLEVBQUFULEtBQUFtQixXQUNBLFdBQTJCLE9BQUFuQixFQUFBLFNBQzNCLFdBQWlDLE9BQUFBLEdBRWpDLE9BREFILEVBQUFVLEVBQUFFLEVBQUEsSUFBQUEsR0FDQUEsR0FJQVosRUFBQWEsRUFBQSxTQUFBVSxFQUFBQyxHQUFzRCxPQUFBVixPQUFBVyxVQUFBQyxlQUFBbkIsS0FBQWdCLEVBQUFDLElBR3REeEIsRUFBQTJCLEVBQUEsR0FJQTNCLElB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MUosT0FBQSx5QkFJQW9PLFFBQUEsMERBQ0EsU0FBQUMsRUFBQUMsRUFBQUMsR0FHQUQsRUFBQUUsVUFBQSxLQUNBSCxFQUNBSSxNQUFBLFFBQ0FWLElBQUEsSUFDQW5FLFNBQUEsOENBT0EvSixFQUFBLElBQ0FBLEVBQUEsSUFDQUEsRUFBQSxJQUVBQSxFQUFBLElBQ0FBLEVBQUEsSUFDQUEsRUFBQSxJQUNBQSxFQUFBLElBQ0FBLEVBQUEsSUFFQUEsRUFBQSxJQUNBQSxFQUFBLElBQ0FBLEVBQUEsR0FFQUEsRUFBQSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDIzKTtcbiIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5cbnZhciBzdHlsZXNJbkRvbSA9IHt9O1xuXG52YXJcdG1lbW9pemUgPSBmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW87XG5cblx0cmV0dXJuIGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdHJldHVybiBtZW1vO1xuXHR9O1xufTtcblxudmFyIGlzT2xkSUUgPSBtZW1vaXplKGZ1bmN0aW9uICgpIHtcblx0Ly8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3Ncblx0Ly8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuXHQvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG5cdC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuXHQvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcblx0cmV0dXJuIHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iO1xufSk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XG59O1xuXG52YXIgZ2V0RWxlbWVudCA9IChmdW5jdGlvbiAoZm4pIHtcblx0dmFyIG1lbW8gPSB7fTtcblxuXHRyZXR1cm4gZnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgcGFzc2luZyBmdW5jdGlvbiBpbiBvcHRpb25zLCB0aGVuIHVzZSBpdCBmb3IgcmVzb2x2ZSBcImhlYWRcIiBlbGVtZW50LlxuICAgICAgICAgICAgICAgIC8vIFVzZWZ1bCBmb3IgU2hhZG93IFJvb3Qgc3R5bGUgaS5lXG4gICAgICAgICAgICAgICAgLy8ge1xuICAgICAgICAgICAgICAgIC8vICAgaW5zZXJ0SW50bzogZnVuY3Rpb24gKCkgeyByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNmb29cIikuc2hhZG93Um9vdCB9XG4gICAgICAgICAgICAgICAgLy8gfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG5cdFx0XHR2YXIgc3R5bGVUYXJnZXQgPSBnZXRUYXJnZXQuY2FsbCh0aGlzLCB0YXJnZXQpO1xuXHRcdFx0Ly8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblx0XHRcdGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHQvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuXHRcdFx0XHRcdC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcblx0XHRcdFx0fSBjYXRjaChlKSB7XG5cdFx0XHRcdFx0c3R5bGVUYXJnZXQgPSBudWxsO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcblx0XHR9XG5cdFx0cmV0dXJuIG1lbW9bdGFyZ2V0XVxuXHR9O1xufSkoKTtcblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXJcdHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xudmFyXHRzdHlsZXNJbnNlcnRlZEF0VG9wID0gW107XG5cbnZhclx0Zml4VXJscyA9IHJlcXVpcmUoXCIuL3VybHNcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xuXHRpZiAodHlwZW9mIERFQlVHICE9PSBcInVuZGVmaW5lZFwiICYmIERFQlVHKSB7XG5cdFx0aWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0eWxlLWxvYWRlciBjYW5ub3QgYmUgdXNlZCBpbiBhIG5vbi1icm93c2VyIGVudmlyb25tZW50XCIpO1xuXHR9XG5cblx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cblx0b3B0aW9ucy5hdHRycyA9IHR5cGVvZiBvcHRpb25zLmF0dHJzID09PSBcIm9iamVjdFwiID8gb3B0aW9ucy5hdHRycyA6IHt9O1xuXG5cdC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuXHQvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cdGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSBcImJvb2xlYW5cIikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgPGhlYWQ+IGVsZW1lbnRcbiAgICAgICAgaWYgKCFvcHRpb25zLmluc2VydEludG8pIG9wdGlvbnMuaW5zZXJ0SW50byA9IFwiaGVhZFwiO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIGJvdHRvbSBvZiB0aGUgdGFyZ2V0XG5cdGlmICghb3B0aW9ucy5pbnNlcnRBdCkgb3B0aW9ucy5pbnNlcnRBdCA9IFwiYm90dG9tXCI7XG5cblx0dmFyIHN0eWxlcyA9IGxpc3RUb1N0eWxlcyhsaXN0LCBvcHRpb25zKTtcblxuXHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGUgKG5ld0xpc3QpIHtcblx0XHR2YXIgbWF5UmVtb3ZlID0gW107XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdFx0ZG9tU3R5bGUucmVmcy0tO1xuXHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xuXHRcdH1cblxuXHRcdGlmKG5ld0xpc3QpIHtcblx0XHRcdHZhciBuZXdTdHlsZXMgPSBsaXN0VG9TdHlsZXMobmV3TGlzdCwgb3B0aW9ucyk7XG5cdFx0XHRhZGRTdHlsZXNUb0RvbShuZXdTdHlsZXMsIG9wdGlvbnMpO1xuXHRcdH1cblxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbWF5UmVtb3ZlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgZG9tU3R5bGUgPSBtYXlSZW1vdmVbaV07XG5cblx0XHRcdGlmKGRvbVN0eWxlLnJlZnMgPT09IDApIHtcblx0XHRcdFx0Zm9yICh2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykgZG9tU3R5bGUucGFydHNbal0oKTtcblxuXHRcdFx0XHRkZWxldGUgc3R5bGVzSW5Eb21bZG9tU3R5bGUuaWRdO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn07XG5cbmZ1bmN0aW9uIGFkZFN0eWxlc1RvRG9tIChzdHlsZXMsIG9wdGlvbnMpIHtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHR2YXIgZG9tU3R5bGUgPSBzdHlsZXNJbkRvbVtpdGVtLmlkXTtcblxuXHRcdGlmKGRvbVN0eWxlKSB7XG5cdFx0XHRkb21TdHlsZS5yZWZzKys7XG5cblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcblx0XHRcdH1cblxuXHRcdFx0Zm9yKDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHZhciBwYXJ0cyA9IFtdO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgaXRlbS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRwYXJ0cy5wdXNoKGFkZFN0eWxlKGl0ZW0ucGFydHNbal0sIG9wdGlvbnMpKTtcblx0XHRcdH1cblxuXHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGxpc3RUb1N0eWxlcyAobGlzdCwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGVzID0gW107XG5cdHZhciBuZXdTdHlsZXMgPSB7fTtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcblx0XHR2YXIgaXRlbSA9IGxpc3RbaV07XG5cdFx0dmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG5cdFx0dmFyIGNzcyA9IGl0ZW1bMV07XG5cdFx0dmFyIG1lZGlhID0gaXRlbVsyXTtcblx0XHR2YXIgc291cmNlTWFwID0gaXRlbVszXTtcblx0XHR2YXIgcGFydCA9IHtjc3M6IGNzcywgbWVkaWE6IG1lZGlhLCBzb3VyY2VNYXA6IHNvdXJjZU1hcH07XG5cblx0XHRpZighbmV3U3R5bGVzW2lkXSkgc3R5bGVzLnB1c2gobmV3U3R5bGVzW2lkXSA9IHtpZDogaWQsIHBhcnRzOiBbcGFydF19KTtcblx0XHRlbHNlIG5ld1N0eWxlc1tpZF0ucGFydHMucHVzaChwYXJ0KTtcblx0fVxuXG5cdHJldHVybiBzdHlsZXM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudCAob3B0aW9ucywgc3R5bGUpIHtcblx0dmFyIHRhcmdldCA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRJbnRvKVxuXG5cdGlmICghdGFyZ2V0KSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnRJbnRvJyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG5cdH1cblxuXHR2YXIgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AgPSBzdHlsZXNJbnNlcnRlZEF0VG9wW3N0eWxlc0luc2VydGVkQXRUb3AubGVuZ3RoIC0gMV07XG5cblx0aWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwidG9wXCIpIHtcblx0XHRpZiAoIWxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wKSB7XG5cdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCB0YXJnZXQuZmlyc3RDaGlsZCk7XG5cdFx0fSBlbHNlIGlmIChsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHRcdH1cblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnB1c2goc3R5bGUpO1xuXHR9IGVsc2UgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwiYm90dG9tXCIpIHtcblx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcIm9iamVjdFwiICYmIG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlKSB7XG5cdFx0dmFyIG5leHRTaWJsaW5nID0gZ2V0RWxlbWVudChvcHRpb25zLmluc2VydEludG8gKyBcIiBcIiArIG9wdGlvbnMuaW5zZXJ0QXQuYmVmb3JlKTtcblx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKHN0eWxlLCBuZXh0U2libGluZyk7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiW1N0eWxlIExvYWRlcl1cXG5cXG4gSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcgKCdvcHRpb25zLmluc2VydEF0JykgZm91bmQuXFxuIE11c3QgYmUgJ3RvcCcsICdib3R0b20nLCBvciBPYmplY3QuXFxuIChodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlciNpbnNlcnRhdClcXG5cIik7XG5cdH1cbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50IChzdHlsZSkge1xuXHRpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXHRzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcblxuXHR2YXIgaWR4ID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcC5pbmRleE9mKHN0eWxlKTtcblx0aWYoaWR4ID49IDApIHtcblx0XHRzdHlsZXNJbnNlcnRlZEF0VG9wLnNwbGljZShpZHgsIDEpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVN0eWxlRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG5cblx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXG5cdGFkZEF0dHJzKHN0eWxlLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlKTtcblxuXHRyZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50IChvcHRpb25zKSB7XG5cdHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG5cblx0b3B0aW9ucy5hdHRycy50eXBlID0gXCJ0ZXh0L2Nzc1wiO1xuXHRvcHRpb25zLmF0dHJzLnJlbCA9IFwic3R5bGVzaGVldFwiO1xuXG5cdGFkZEF0dHJzKGxpbmssIG9wdGlvbnMuYXR0cnMpO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGluayk7XG5cblx0cmV0dXJuIGxpbms7XG59XG5cbmZ1bmN0aW9uIGFkZEF0dHJzIChlbCwgYXR0cnMpIHtcblx0T2JqZWN0LmtleXMoYXR0cnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdGVsLnNldEF0dHJpYnV0ZShrZXksIGF0dHJzW2tleV0pO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gYWRkU3R5bGUgKG9iaiwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGUsIHVwZGF0ZSwgcmVtb3ZlLCByZXN1bHQ7XG5cblx0Ly8gSWYgYSB0cmFuc2Zvcm0gZnVuY3Rpb24gd2FzIGRlZmluZWQsIHJ1biBpdCBvbiB0aGUgY3NzXG5cdGlmIChvcHRpb25zLnRyYW5zZm9ybSAmJiBvYmouY3NzKSB7XG5cdCAgICByZXN1bHQgPSBvcHRpb25zLnRyYW5zZm9ybShvYmouY3NzKTtcblxuXHQgICAgaWYgKHJlc3VsdCkge1xuXHQgICAgXHQvLyBJZiB0cmFuc2Zvcm0gcmV0dXJucyBhIHZhbHVlLCB1c2UgdGhhdCBpbnN0ZWFkIG9mIHRoZSBvcmlnaW5hbCBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIHJ1bm5pbmcgcnVudGltZSB0cmFuc2Zvcm1hdGlvbnMgb24gdGhlIGNzcy5cblx0ICAgIFx0b2JqLmNzcyA9IHJlc3VsdDtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICBcdC8vIElmIHRoZSB0cmFuc2Zvcm0gZnVuY3Rpb24gcmV0dXJucyBhIGZhbHN5IHZhbHVlLCBkb24ndCBhZGQgdGhpcyBjc3MuXG5cdCAgICBcdC8vIFRoaXMgYWxsb3dzIGNvbmRpdGlvbmFsIGxvYWRpbmcgb2YgY3NzXG5cdCAgICBcdHJldHVybiBmdW5jdGlvbigpIHtcblx0ICAgIFx0XHQvLyBub29wXG5cdCAgICBcdH07XG5cdCAgICB9XG5cdH1cblxuXHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcblx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcblxuXHRcdHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuXG5cdFx0dXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG5cdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcblxuXHR9IGVsc2UgaWYgKFxuXHRcdG9iai5zb3VyY2VNYXAgJiZcblx0XHR0eXBlb2YgVVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5yZXZva2VPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBCbG9iID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiXG5cdCkge1xuXHRcdHN0eWxlID0gY3JlYXRlTGlua0VsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gdXBkYXRlTGluay5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXG5cdFx0XHRpZihzdHlsZS5ocmVmKSBVUkwucmV2b2tlT2JqZWN0VVJMKHN0eWxlLmhyZWYpO1xuXHRcdH07XG5cdH0gZWxzZSB7XG5cdFx0c3R5bGUgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlKTtcblx0XHRyZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuXHRcdH07XG5cdH1cblxuXHR1cGRhdGUob2JqKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUgKG5ld09iaikge1xuXHRcdGlmIChuZXdPYmopIHtcblx0XHRcdGlmIChcblx0XHRcdFx0bmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJlxuXHRcdFx0XHRuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJlxuXHRcdFx0XHRuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwXG5cdFx0XHQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVtb3ZlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG52YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xuXHR2YXIgdGV4dFN0b3JlID0gW107XG5cblx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcblx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG5cblx0XHRyZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcblx0fTtcbn0pKCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcgKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcblx0dmFyIGNzcyA9IHJlbW92ZSA/IFwiXCIgOiBvYmouY3NzO1xuXG5cdGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuXHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuXHRcdGlmIChjaGlsZE5vZGVzW2luZGV4XSkgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuXG5cdFx0aWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG5cdFx0XHRzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyAoc3R5bGUsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuXG5cdGlmKG1lZGlhKSB7XG5cdFx0c3R5bGUuc2V0QXR0cmlidXRlKFwibWVkaWFcIiwgbWVkaWEpXG5cdH1cblxuXHRpZihzdHlsZS5zdHlsZVNoZWV0KSB7XG5cdFx0c3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuXHR9IGVsc2Uge1xuXHRcdHdoaWxlKHN0eWxlLmZpcnN0Q2hpbGQpIHtcblx0XHRcdHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuXHRcdH1cblxuXHRcdHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUxpbmsgKGxpbmssIG9wdGlvbnMsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cblx0Lypcblx0XHRJZiBjb252ZXJ0VG9BYnNvbHV0ZVVybHMgaXNuJ3QgZGVmaW5lZCwgYnV0IHNvdXJjZW1hcHMgYXJlIGVuYWJsZWRcblx0XHRhbmQgdGhlcmUgaXMgbm8gcHVibGljUGF0aCBkZWZpbmVkIHRoZW4gbGV0cyB0dXJuIGNvbnZlcnRUb0Fic29sdXRlVXJsc1xuXHRcdG9uIGJ5IGRlZmF1bHQuICBPdGhlcndpc2UgZGVmYXVsdCB0byB0aGUgY29udmVydFRvQWJzb2x1dGVVcmxzIG9wdGlvblxuXHRcdGRpcmVjdGx5XG5cdCovXG5cdHZhciBhdXRvRml4VXJscyA9IG9wdGlvbnMuY29udmVydFRvQWJzb2x1dGVVcmxzID09PSB1bmRlZmluZWQgJiYgc291cmNlTWFwO1xuXG5cdGlmIChvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyB8fCBhdXRvRml4VXJscykge1xuXHRcdGNzcyA9IGZpeFVybHMoY3NzKTtcblx0fVxuXG5cdGlmIChzb3VyY2VNYXApIHtcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcblx0fVxuXG5cdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xuXG5cdHZhciBvbGRTcmMgPSBsaW5rLmhyZWY7XG5cblx0bGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcblxuXHRpZihvbGRTcmMpIFVSTC5yZXZva2VPYmplY3RVUkwob2xkU3JjKTtcbn1cbiIsIi8qXG5cdE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih1c2VTb3VyY2VNYXApIHtcblx0dmFyIGxpc3QgPSBbXTtcblxuXHQvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cdGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcblx0XHRyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcblx0XHRcdHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApO1xuXHRcdFx0aWYoaXRlbVsyXSkge1xuXHRcdFx0XHRyZXR1cm4gXCJAbWVkaWEgXCIgKyBpdGVtWzJdICsgXCJ7XCIgKyBjb250ZW50ICsgXCJ9XCI7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gY29udGVudDtcblx0XHRcdH1cblx0XHR9KS5qb2luKFwiXCIpO1xuXHR9O1xuXG5cdC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG5cdGxpc3QuaSA9IGZ1bmN0aW9uKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcblx0XHRpZih0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIilcblx0XHRcdG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcblx0XHR2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXHRcdFx0aWYodHlwZW9mIGlkID09PSBcIm51bWJlclwiKVxuXHRcdFx0XHRhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG5cdFx0fVxuXHRcdGZvcihpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gbW9kdWxlc1tpXTtcblx0XHRcdC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcblx0XHRcdC8vIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgbm90IDEwMCUgcGVyZmVjdCBmb3Igd2VpcmQgbWVkaWEgcXVlcnkgY29tYmluYXRpb25zXG5cdFx0XHQvLyAgd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxuXHRcdFx0Ly8gIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcblx0XHRcdGlmKHR5cGVvZiBpdGVtWzBdICE9PSBcIm51bWJlclwiIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG5cdFx0XHRcdGlmKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gbWVkaWFRdWVyeTtcblx0XHRcdFx0fSBlbHNlIGlmKG1lZGlhUXVlcnkpIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gXCIoXCIgKyBpdGVtWzJdICsgXCIpIGFuZCAoXCIgKyBtZWRpYVF1ZXJ5ICsgXCIpXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0bGlzdC5wdXNoKGl0ZW0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0cmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuXHR2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7XG5cdHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblx0aWYgKCFjc3NNYXBwaW5nKSB7XG5cdFx0cmV0dXJuIGNvbnRlbnQ7XG5cdH1cblxuXHRpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0dmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG5cdFx0dmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcblx0XHRcdHJldHVybiAnLyojIHNvdXJjZVVSTD0nICsgY3NzTWFwcGluZy5zb3VyY2VSb290ICsgc291cmNlICsgJyAqLydcblx0XHR9KTtcblxuXHRcdHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuXHR9XG5cblx0cmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn1cblxuLy8gQWRhcHRlZCBmcm9tIGNvbnZlcnQtc291cmNlLW1hcCAoTUlUKVxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcblx0dmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG5cdHZhciBkYXRhID0gJ3NvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LCcgKyBiYXNlNjQ7XG5cblx0cmV0dXJuICcvKiMgJyArIGRhdGEgKyAnICovJztcbn1cbiIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIqLCAqOjpiZWZvcmUsICo6OmFmdGVyIHtcXHJcXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXHJcXG4gICAgbWFyZ2luOiAwO1xcclxcbiAgICBwYWRkaW5nOjA7XFxyXFxufVxcclxcbmJvZHkge1xcclxcbiAgICBmb250LWZhbWlseTogJ0F0aGl0aScsIHNhbnMtc2VyaWY7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmYWZhZmE7XFxyXFxufVxcclxcbmh0bWwge1xcclxcbiAgICBcXHJcXG4gICAgZm9udC1zaXplOiA2Mi41JTtcXHJcXG59XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9tYWluLmNzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vbWFpbi5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vbWFpbi5jc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5hcHAtZm9vdGVyIHtcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAgaGVpZ2h0OiAyMHJlbTtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogaW5oZXJpdDtcXHJcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxyXFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxufVxcclxcblxcclxcbi5mb290ZXItY29udGFpbmVyIHtcXHJcXG4gICAgZmxleC1iYXNpczogNTAlO1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXHJcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG5cXHJcXG59XFxyXFxuXFxyXFxuXFxyXFxuLmZvb3Rlci1jb3B5cmlnaHQge1xcclxcbiAgICBmb250LXNpemU6IDIuNXJlbTtcXHJcXG4gICAgbGV0dGVyLXNwYWNpbmc6IC4ycmVtO1xcclxcbiAgICBmb250LXdlaWdodDogNjAwO1xcclxcbiAgICBjb2xvcjogIzEwYjI5NTtcXHJcXG59XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vZm9vdGVyLmNzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9mb290ZXIuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9mb290ZXIuY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwibW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgY2xhc3M9XFxcImFwcC1mb290ZXJcXFwiPlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJmb290ZXItY29udGFpbmVyXFxcIj5cXHJcXG4gICAgICAgIFxcclxcbiAgICAgICAgICAgIDxoMiBjbGFzcz1cXFwiZm9vdGVyLWNvcHlyaWdodFxcXCI+TWFkZSBieSBBbmF0b2xpaSBZYXRzZW5rbyAmY29weTsgMjAxODwvaDI+XFxyXFxuICAgICAgICBcXHJcXG4gICAgPC9kaXY+XFxyXFxuPC9kaXY+XCI7IiwiYW5ndWxhci5tb2R1bGUoJ3B1YmdBcHAnKVxyXG4gICAgLmNvbXBvbmVudCgnYXBwRm9vdGVyJywge1xyXG4gICAgICAgIHRlbXBsYXRlOiByZXF1aXJlKCcuL2Zvb3Rlci5odG1sJyksXHJcbiAgICAgICAgY29udHJvbGxlcjogZnVuY3Rpb24oKXtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxucmVxdWlyZSgnLi9mb290ZXIuY3NzJyk7IiwiXG4vKipcbiAqIFdoZW4gc291cmNlIG1hcHMgYXJlIGVuYWJsZWQsIGBzdHlsZS1sb2FkZXJgIHVzZXMgYSBsaW5rIGVsZW1lbnQgd2l0aCBhIGRhdGEtdXJpIHRvXG4gKiBlbWJlZCB0aGUgY3NzIG9uIHRoZSBwYWdlLiBUaGlzIGJyZWFrcyBhbGwgcmVsYXRpdmUgdXJscyBiZWNhdXNlIG5vdyB0aGV5IGFyZSByZWxhdGl2ZSB0byBhXG4gKiBidW5kbGUgaW5zdGVhZCBvZiB0aGUgY3VycmVudCBwYWdlLlxuICpcbiAqIE9uZSBzb2x1dGlvbiBpcyB0byBvbmx5IHVzZSBmdWxsIHVybHMsIGJ1dCB0aGF0IG1heSBiZSBpbXBvc3NpYmxlLlxuICpcbiAqIEluc3RlYWQsIHRoaXMgZnVuY3Rpb24gXCJmaXhlc1wiIHRoZSByZWxhdGl2ZSB1cmxzIHRvIGJlIGFic29sdXRlIGFjY29yZGluZyB0byB0aGUgY3VycmVudCBwYWdlIGxvY2F0aW9uLlxuICpcbiAqIEEgcnVkaW1lbnRhcnkgdGVzdCBzdWl0ZSBpcyBsb2NhdGVkIGF0IGB0ZXN0L2ZpeFVybHMuanNgIGFuZCBjYW4gYmUgcnVuIHZpYSB0aGUgYG5wbSB0ZXN0YCBjb21tYW5kLlxuICpcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3MpIHtcbiAgLy8gZ2V0IGN1cnJlbnQgbG9jYXRpb25cbiAgdmFyIGxvY2F0aW9uID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiAmJiB3aW5kb3cubG9jYXRpb247XG5cbiAgaWYgKCFsb2NhdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihcImZpeFVybHMgcmVxdWlyZXMgd2luZG93LmxvY2F0aW9uXCIpO1xuICB9XG5cblx0Ly8gYmxhbmsgb3IgbnVsbD9cblx0aWYgKCFjc3MgfHwgdHlwZW9mIGNzcyAhPT0gXCJzdHJpbmdcIikge1xuXHQgIHJldHVybiBjc3M7XG4gIH1cblxuICB2YXIgYmFzZVVybCA9IGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICsgbG9jYXRpb24uaG9zdDtcbiAgdmFyIGN1cnJlbnREaXIgPSBiYXNlVXJsICsgbG9jYXRpb24ucGF0aG5hbWUucmVwbGFjZSgvXFwvW15cXC9dKiQvLCBcIi9cIik7XG5cblx0Ly8gY29udmVydCBlYWNoIHVybCguLi4pXG5cdC8qXG5cdFRoaXMgcmVndWxhciBleHByZXNzaW9uIGlzIGp1c3QgYSB3YXkgdG8gcmVjdXJzaXZlbHkgbWF0Y2ggYnJhY2tldHMgd2l0aGluXG5cdGEgc3RyaW5nLlxuXG5cdCAvdXJsXFxzKlxcKCAgPSBNYXRjaCBvbiB0aGUgd29yZCBcInVybFwiIHdpdGggYW55IHdoaXRlc3BhY2UgYWZ0ZXIgaXQgYW5kIHRoZW4gYSBwYXJlbnNcblx0ICAgKCAgPSBTdGFydCBhIGNhcHR1cmluZyBncm91cFxuXHQgICAgICg/OiAgPSBTdGFydCBhIG5vbi1jYXB0dXJpbmcgZ3JvdXBcblx0ICAgICAgICAgW14pKF0gID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgXFwoICA9IE1hdGNoIGEgc3RhcnQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICg/OiAgPSBTdGFydCBhbm90aGVyIG5vbi1jYXB0dXJpbmcgZ3JvdXBzXG5cdCAgICAgICAgICAgICAgICAgW14pKF0rICA9IE1hdGNoIGFueXRoaW5nIHRoYXQgaXNuJ3QgYSBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgIHwgID0gT1Jcblx0ICAgICAgICAgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgICAgICAgICBbXikoXSogID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgXFwpICA9IE1hdGNoIGEgZW5kIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICApICA9IEVuZCBHcm91cFxuICAgICAgICAgICAgICAqXFwpID0gTWF0Y2ggYW55dGhpbmcgYW5kIHRoZW4gYSBjbG9zZSBwYXJlbnNcbiAgICAgICAgICApICA9IENsb3NlIG5vbi1jYXB0dXJpbmcgZ3JvdXBcbiAgICAgICAgICAqICA9IE1hdGNoIGFueXRoaW5nXG4gICAgICAgKSAgPSBDbG9zZSBjYXB0dXJpbmcgZ3JvdXBcblx0IFxcKSAgPSBNYXRjaCBhIGNsb3NlIHBhcmVuc1xuXG5cdCAvZ2kgID0gR2V0IGFsbCBtYXRjaGVzLCBub3QgdGhlIGZpcnN0LiAgQmUgY2FzZSBpbnNlbnNpdGl2ZS5cblx0ICovXG5cdHZhciBmaXhlZENzcyA9IGNzcy5yZXBsYWNlKC91cmxcXHMqXFwoKCg/OlteKShdfFxcKCg/OlteKShdK3xcXChbXikoXSpcXCkpKlxcKSkqKVxcKS9naSwgZnVuY3Rpb24oZnVsbE1hdGNoLCBvcmlnVXJsKSB7XG5cdFx0Ly8gc3RyaXAgcXVvdGVzIChpZiB0aGV5IGV4aXN0KVxuXHRcdHZhciB1bnF1b3RlZE9yaWdVcmwgPSBvcmlnVXJsXG5cdFx0XHQudHJpbSgpXG5cdFx0XHQucmVwbGFjZSgvXlwiKC4qKVwiJC8sIGZ1bmN0aW9uKG8sICQxKXsgcmV0dXJuICQxOyB9KVxuXHRcdFx0LnJlcGxhY2UoL14nKC4qKSckLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pO1xuXG5cdFx0Ly8gYWxyZWFkeSBhIGZ1bGwgdXJsPyBubyBjaGFuZ2Vcblx0XHRpZiAoL14oI3xkYXRhOnxodHRwOlxcL1xcL3xodHRwczpcXC9cXC98ZmlsZTpcXC9cXC9cXC98XFxzKiQpL2kudGVzdCh1bnF1b3RlZE9yaWdVcmwpKSB7XG5cdFx0ICByZXR1cm4gZnVsbE1hdGNoO1xuXHRcdH1cblxuXHRcdC8vIGNvbnZlcnQgdGhlIHVybCB0byBhIGZ1bGwgdXJsXG5cdFx0dmFyIG5ld1VybDtcblxuXHRcdGlmICh1bnF1b3RlZE9yaWdVcmwuaW5kZXhPZihcIi8vXCIpID09PSAwKSB7XG5cdFx0ICBcdC8vVE9ETzogc2hvdWxkIHdlIGFkZCBwcm90b2NvbD9cblx0XHRcdG5ld1VybCA9IHVucXVvdGVkT3JpZ1VybDtcblx0XHR9IGVsc2UgaWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiL1wiKSA9PT0gMCkge1xuXHRcdFx0Ly8gcGF0aCBzaG91bGQgYmUgcmVsYXRpdmUgdG8gdGhlIGJhc2UgdXJsXG5cdFx0XHRuZXdVcmwgPSBiYXNlVXJsICsgdW5xdW90ZWRPcmlnVXJsOyAvLyBhbHJlYWR5IHN0YXJ0cyB3aXRoICcvJ1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byBjdXJyZW50IGRpcmVjdG9yeVxuXHRcdFx0bmV3VXJsID0gY3VycmVudERpciArIHVucXVvdGVkT3JpZ1VybC5yZXBsYWNlKC9eXFwuXFwvLywgXCJcIik7IC8vIFN0cmlwIGxlYWRpbmcgJy4vJ1xuXHRcdH1cblxuXHRcdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgdXJsKC4uLilcblx0XHRyZXR1cm4gXCJ1cmwoXCIgKyBKU09OLnN0cmluZ2lmeShuZXdVcmwpICsgXCIpXCI7XG5cdH0pO1xuXG5cdC8vIHNlbmQgYmFjayB0aGUgZml4ZWQgY3NzXG5cdHJldHVybiBmaXhlZENzcztcbn07XG4iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi5wbGF5ZXItc2VjdGlvbiB7XFxyXFxuICAgIHBhZGRpbmctdG9wOiAzLjJyZW07XFxyXFxuICAgIHBhZGRpbmctYm90dG9tOiAzLjVyZW07XFxyXFxufVxcclxcbmlucHV0Oi13ZWJraXQtYXV0b2ZpbGwge1xcclxcbiAgICAtd2Via2l0LWJveC1zaGFkb3c6IGluc2V0IDAgMCAwIDUwcHggI2ZhZmFmYTtcXHJcXG4gICAgLXdlYmtpdC10ZXh0LWZpbGwtY29sb3I6ICMxMGIyOTUgIWltcG9ydGFudDtcXHJcXG59XFxyXFxuLmNvbnRhaW5lciB7XFxyXFxuICAgIHdpZHRoOiA4MCU7XFxyXFxuICAgIG1hcmdpbjogYXV0bztcXHJcXG59XFxyXFxuXFxyXFxuLndlbGNvbWUtbXNnIHtcXHJcXG4gICAgZm9udC1zaXplOiA0LjJyZW07XFxyXFxuICAgIGNvbG9yOiAjMUU5MEZGO1xcclxcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxyXFxufVxcclxcblxcclxcblxcclxcbi5wbGF5ZXItZm9ybS1jb250YWluZXIge1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XFxyXFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxyXFxuICAgIG1hcmdpbi10b3A6IDdyZW07XFxyXFxuICAgIG1hcmdpbi1ib3R0b206IDJyZW07XFxyXFxufVxcclxcblxcclxcblxcclxcbi5wbGF5ZXItcmVnaW9uLXNlbGVjdCB7XFxyXFxuICAgIGhlaWdodDogM3JlbTtcXHJcXG4gICAgZGlzcGxheTogYmxvY2s7XFxyXFxuICAgIGJvcmRlcjogMXB4IHNvbGlkICMxMGIyOTU7XFxyXFxuICAgIHdpZHRoOiAxMDAlO1xcclxcbiAgICBmb250LXNpemU6IDJyZW07XFxyXFxuICAgIG91dGxpbmU6IG5vbmU7XFxyXFxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcXHJcXG4gICAgY29sb3I6ICMxMGIyOTU7XFxyXFxufVxcclxcblxcclxcbi5wbGF5ZXItcmVnaW9uLXNlbGVjdC1vcHRpb24ge1xcclxcbiAgICBmb250LXNpemU6IDJyZW07XFxyXFxufVxcclxcblxcclxcbi5wbGF5ZXItbWF0Y2gtc2VsZWN0IHtcXHJcXG4gICAgaGVpZ2h0OiAzcmVtO1xcclxcbiAgICBkaXNwbGF5OiBibG9jaztcXHJcXG4gICAgYm9yZGVyOiAxcHggc29saWQgIzEwYjI5NTtcXHJcXG4gICAgd2lkdGg6IDEwMCU7XFxyXFxuICAgIGZvbnQtc2l6ZTogMnJlbTtcXHJcXG4gICAgb3V0bGluZTogbm9uZTtcXHJcXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xcclxcbiAgICBjb2xvcjogIzEwYjI5NTtcXHJcXG59XFxyXFxuXFxyXFxuLnBsYXllci1tYXRjaC1zZWxlY3Qtb3B0aW9uIHtcXHJcXG4gICAgZmxleC1iYXNpczogNTAlO1xcclxcbn1cXHJcXG5cXHJcXG4ucGxheWVyLXNlYXJjaC11c2VyLWNvbnRhaW5lciB7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcclxcbn1cXHJcXG5cXHJcXG4ucGxheWVyLXNlYXJjaC11c2VyLWJ1dHRvbiB7XFxyXFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcclxcbiAgICBmb250LXNpemU6IDJyZW07XFxyXFxuICAgIHBhZGRpbmc6IC41cmVtO1xcclxcbiAgICBmbGV4LWJhc2lzOiA1MCU7XFxyXFxuICAgIGNvbG9yOiAjZmFmYWZhO1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMTBiMjk1O1xcclxcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjMUU5MEZGO1xcclxcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xcclxcbiAgICBvdXRsaW5lOiBub25lO1xcclxcbiAgICB0cmFuc2l0aW9uOiBhbGwgLjFzO1xcclxcbn1cXHJcXG5cXHJcXG4ucGxheWVyLXNlYXJjaC11c2VyLWJ1dHRvbjphY3RpdmUge1xcclxcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMDQpIHRyYW5zbGF0ZVgoOHB4KTtcXHJcXG4gICAgbGV0dGVyLXNwYWNpbmc6IC4xcmVtO1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMTBCMkM2O1xcclxcbn1cXHJcXG5cXHJcXG4ucGxheWVyLXNlbGVjdC1zZWN0aW9uIHtcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAgd2lkdGg6IDUwJTtcXHJcXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcclxcbiAgICBtYXJnaW4tYm90dG9tOiAycmVtO1xcclxcbn1cXHJcXG5cXHJcXG4ucGxheWVyLXJlZ2lvbi1jb250YWluZXIge1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICB3aWR0aDogNDUlO1xcclxcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcclxcbn1cXHJcXG5cXHJcXG4ucGxheWVyLW1hdGNoLWNvbnRhaW5lciB7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIHdpZHRoOiA1MCU7XFxyXFxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxyXFxufVxcclxcblxcclxcbi5tYXRjaC1pbmZvLWNvbnRhaW5lciB7XFxyXFxuICAgIHdpZHRoOiAxMDAlO1xcclxcbiAgICBkaXNwbGF5OiBibG9jaztcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXHJcXG4gICAgcGFkZGluZzogNXJlbSAwIDZyZW0gMDtcXHJcXG59XFxyXFxuXFxyXFxuLm1hdGNoLWluZm8ge1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICB3aWR0aDogNzAlO1xcclxcbiAgICBsaXN0LXN0eWxlOiBub25lO1xcclxcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XFxyXFxuICAgIGZsZXgtd3JhcDogd3JhcDtcXHJcXG4gICAgbWFyZ2luLXRvcDogMnJlbTtcXHJcXG59XFxyXFxuXFxyXFxuLm1hdGNoLWluZm8+bGkge1xcclxcbiAgICBmbGV4LWJhc2lzOiAzMCU7XFxyXFxuICAgIGhlaWdodDogNXJlbTtcXHJcXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMxMGIyOTU7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcclxcbiAgICBjb2xvcjogIzFFOTBGRjtcXHJcXG59XFxyXFxuXFxyXFxuLm1hdGNoLWluZm8tbWFwTmFtZSB7XFxyXFxuICAgIGNvbG9yOiAjMUU5MEZGO1xcclxcbiAgICBmb250LXNpemU6IDRyZW07XFxyXFxuICAgIGxldHRlci1zcGFjaW5nOiAuMnJlbTtcXHJcXG4gICAgYm9yZGVyLWJvdHRvbTogIzEwYjI5NTtcXHJcXG4gICAgZGlzcGxheTogYmxvY2s7XFxyXFxuICAgIGFsaWduLWNvbnRlbnQ6IGNlbnRlcjtcXHJcXG4gICAgbWFyZ2luOiAuNXJlbSAwIDFyZW0gMDtcXHJcXG59XFxyXFxuXFxyXFxuLm1hdGNoLWluZm8tbW9kZSB7XFxyXFxuICAgIGZvbnQtc2l6ZTogMi41cmVtO1xcclxcbn1cXHJcXG5cXHJcXG4ubWF0Y2gtaW5mby10eXBlIHtcXHJcXG4gICAgZm9udC1zaXplOiAyLjVyZW07XFxyXFxufVxcclxcblxcclxcbi5tYXRjaC1pbmZvLXBsYXllckNvdW50IHtcXHJcXG4gICAgZm9udC1zaXplOiAyLjVyZW07XFxyXFxufVxcclxcblxcclxcbi5tYXRjaC1pbmZvLXBsYXllZCB7XFxyXFxuICAgIGZvbnQtc2l6ZTogMi41cmVtO1xcclxcbiAgICBjb2xvcjogIzFFOTBGRjtcXHJcXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMxMGIyOTU7XFxyXFxufVxcclxcblxcclxcbi5maWx0ZXItY29udGFpbmVyIHtcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxyXFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxuICAgIHdpZHRoOiAzMCU7XFxyXFxuICAgIG1hcmdpbjogNHJlbSBhdXRvIDdyZW0gYXV0bztcXHJcXG59XFxyXFxuXFxyXFxuLnBsYXllci1pbnB1dC1uYW1lLXNlY3Rpb24ge1xcclxcbiAgICBkaXNwbGF5OiBibG9jaztcXHJcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcclxcbiAgICB3aWR0aDogNTAlO1xcclxcbiAgICBtYXJnaW4tYm90dG9tOiAycmVtO1xcclxcbn1cXHJcXG4uZmlsdGVyLWNvbnRhaW5lciB7XFxyXFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcclxcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxyXFxuICAgIHdpZHRoOiAzMCU7XFxyXFxuICAgIG1hcmdpbi1ib3R0b206IDhyZW07XFxyXFxufVxcclxcblxcclxcbi5wbGF5ZXItaW5wdXQtbmFtZS1zZWN0aW9uIGxhYmVsLCAuZmlsdGVyLWNvbnRhaW5lciBsYWJlbHtcXHJcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcclxcbiAgICBsZWZ0OiAwO1xcclxcbiAgICBjb2xvcjogIzMzMzMzMztcXHJcXG4gICAgZGlzcGxheTogYmxvY2s7XFxyXFxuICAgIGZvbnQtd2VpZ2h0OiA2MDA7XFxyXFxuICAgIG1hcmdpbi1ib3R0b206IC41cmVtO1xcclxcbiAgICB0b3A6IC0xLjVyZW07XFxyXFxuICAgIGN1cnNvcjogdGV4dDtcXHJcXG4gICAgZm9udC1zaXplOiAxMjAlO1xcclxcbiAgICBvcGFjaXR5OiAxO1xcclxcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC4ycztcXHJcXG59XFxyXFxuXFxyXFxuXFxyXFxuLnBsYXllci1uYW1lLWlucHV0LCAuZmlsdGVyLWlucHV0IHtcXHJcXG4gICAgZm9udC1mYW1pbHk6ICdBdGhpdGknLCBzYW5zLXNlcmlmO1xcclxcbiAgICBmb250LXNpemU6IGluaGVyaXQ7XFxyXFxuICAgIG1hcmdpbi1ib3R0b206IC4ycmVtO1xcclxcbiAgICBmb250LXNpemU6IDJyZW07XFxyXFxuICAgIGhlaWdodDogM3JlbTtcXHJcXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcXHJcXG4gICAgd2lkdGg6IDEwMCU7XFxyXFxuICAgIGNvbG9yOiAjMTBiMjk1O1xcclxcbiAgICBib3JkZXI6IG5vbmU7XFxyXFxuICAgIGJvcmRlci1ib3R0b206IDJweCBzb2xpZDtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogaW5oZXJpdDtcXHJcXG5cXHJcXG4gICAgdHJhbnNpdGlvbjogbGV0dGVyLXNwYWNpbmcgLjJzO1xcclxcbn1cXHJcXG4ucGxheWVyLWlucHV0LW5hbWUtc2VjdGlvbiBpbnB1dDo6cGxhY2Vob2xkZXIsXFxyXFxuLmZpbHRlci1jb250YWluZXIgaW5wdXQ6OnBsYWNlaG9sZGVyIHtcXHJcXG4gICAgb3BhY2l0eTogMTtcXHJcXG4gICAgY29sb3I6ICMxMGIyOTU7XFxyXFxufVxcclxcblxcclxcblxcclxcblxcclxcbiAgLnBsYXllci1pbnB1dC1uYW1lLXNlY3Rpb24gaW5wdXQ6cGxhY2Vob2xkZXItc2hvd246bm90KDpmb2N1cyk6OnBsYWNlaG9sZGVyLFxcclxcbiAgLmZpbHRlci1jb250YWluZXIgaW5wdXQ6cGxhY2Vob2xkZXItc2hvd246bm90KDpmb2N1cyk6OnBsYWNlaG9sZGVyIHtcXHJcXG4gICAgb3BhY2l0eTogMDtcXHJcXG4gIH1cXHJcXG4gIC5wbGF5ZXItaW5wdXQtbmFtZS1zZWN0aW9uIGlucHV0OnBsYWNlaG9sZGVyLXNob3duOm5vdCg6Zm9jdXMpICsgKixcXHJcXG4gIC5maWx0ZXItY29udGFpbmVyIGlucHV0OnBsYWNlaG9sZGVyLXNob3duOm5vdCg6Zm9jdXMpICsgKiAge1xcclxcbiAgICBmb250LXNpemU6IDJyZW07XFxyXFxuICAgIG9wYWNpdHk6IDE7XFxyXFxuICAgIGNvbG9yOiAjMTBiMjk1O1xcclxcbiAgICB0b3A6IC0uMnJlbTtcXHJcXG4gIH1cXHJcXG4gIC5wbGF5ZXItbmFtZS1pbnB1dC5uZy12YWxpZC5uZy1ub3QtZW1wdHkubmctZGlydHkubmctdmFsaWQtcGFyc2UubmctdG91Y2hlZCxcXHJcXG4gIC5maWx0ZXItaW5wdXQubmctdmFsaWQubmctbm90LWVtcHR5Lm5nLWRpcnR5Lm5nLXZhbGlkLXBhcnNlLm5nLXRvdWNoZWQge1xcclxcbiAgICAgIGJvcmRlci1jb2xvcjogIzMzMzMzMztcXHJcXG4gIH1cXHJcXG5cXHJcXG4gIC5wbGF5ZXItaW5wdXQtbmFtZS1zZWN0aW9uIGlucHV0OmZvY3VzLFxcclxcbiAgLmZpbHRlci1jb250YWluZXIgaW5wdXQ6Zm9jdXMge1xcclxcblxcclxcbiAgICBjb2xvcjogIzEwYjI5NTtcXHJcXG4gICAgb3V0bGluZTogbm9uZTtcXHJcXG4gICAgYm9yZGVyLWNvbG9yOiAjMzMzMzMzO1xcclxcbiAgfVxcclxcblxcclxcbi5wbGF5ZXItdGFibGUge1xcclxcbiAgICB3aWR0aDogMTAwJTtcXHJcXG4gICAgbWFyZ2luLWJvdHRvbTogMjByZW07XFxyXFxuICAgIGZvbnQtc2l6ZTogMnJlbTtcXHJcXG4gICAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcXHJcXG59XFxyXFxuXFxyXFxuLnBsYXllci10YWJsZSB0aCB7XFxyXFxuICAgIGJvcmRlcjogMnB4IHNvbGlkICMzM0JGRUI7XFxyXFxuICAgIHBhZGRpbmc6IC4zcmVtIDA7XFxyXFxuICAgIGNvbG9yOiAjZmFmYWZhO1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMUU5MEZGO1xcclxcbiAgICBjdXJzb3I6IHBvaW50ZXI7XFxyXFxufVxcclxcblxcclxcbi5wbGF5ZXItdGFibGUgdGQsXFxyXFxuLnBsYXllci10YWJsZSB0aCB7XFxyXFxuICAgIGJvcmRlcjogMnB4IHNvbGlkICMzM0JGRUI7XFxyXFxuICAgIHBhZGRpbmc6IC4zcmVtIDA7XFxyXFxufVxcclxcblxcclxcbi5wbGF5ZXItdGFibGUtcm93IHRoOm50aC1jaGlsZCgxKSB7XFxyXFxuICAgIHdpZHRoOiA1JTtcXHJcXG59XFxyXFxuXFxyXFxuLnBsYXllci10YWJsZS1yb3cgdGg6bnRoLWNoaWxkKDIpIHtcXHJcXG4gICAgd2lkdGg6IDIwJTtcXHJcXG4gICAgcGFkZGluZzogLjNyZW0gMDtcXHJcXG59XFxyXFxuXFxyXFxuLnBsYXllci10YWJsZS1yb3cgdGg6bnRoLWNoaWxkKDMpIHtcXHJcXG4gICAgd2lkdGg6IDUlO1xcclxcbn1cXHJcXG5cXHJcXG4ucGxheWVyLXRhYmxlLXJvdyB0aDpudGgtY2hpbGQoNCkge1xcclxcbiAgICB3aWR0aDogMTAlO1xcclxcbn1cXHJcXG5cXHJcXG4ucGxheWVyLXRhYmxlLXJvdyB0aDpudGgtY2hpbGQoNSkge1xcclxcbiAgICB3aWR0aDogMTAlO1xcclxcbn1cXHJcXG5cXHJcXG4ucGxheWVyLXRhYmxlLXJvdyB0aDpudGgtY2hpbGQoNikge1xcclxcbiAgICB3aWR0aDogMTAlO1xcclxcbn1cXHJcXG5cXHJcXG4ucGxheWVyLXRhYmxlLXJvdyB0aDpudGgtY2hpbGQoNykge1xcclxcbiAgICB3aWR0aDogOCU7XFxyXFxufVxcclxcblxcclxcbi5wbGF5ZXItdGFibGUtcm93IHRoOm50aC1jaGlsZCg4KSB7XFxyXFxuICAgIHdpZHRoOiA4JTtcXHJcXG59XFxyXFxuXFxyXFxuLnBsYXllci10YWJsZS1yb3cgdGg6bnRoLWNoaWxkKDkpIHtcXHJcXG4gICAgd2lkdGg6IDclO1xcclxcbn1cXHJcXG5cXHJcXG4ucGxheWVyLXRhYmxlLXJvdyB0aDpudGgtY2hpbGQoMTApIHtcXHJcXG4gICAgd2lkdGg6IDglO1xcclxcbn1cXHJcXG4ucGxheWVyLXRhYmxlLXJvdyB0aDpudGgtY2hpbGQoMTEpIHtcXHJcXG4gICAgd2lkdGg6IDklO1xcclxcbn1cXHJcXG4ucGxheWVyLXRhYmxlIHRib2R5IHRyPnRkOm50aC1vZi10eXBlKDIpIHtcXHJcXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcXHJcXG4gICAgcGFkZGluZy1sZWZ0OiAxcmVtO1xcclxcbiAgICBjb2xvcjogIzFFOTBGRjtcXHJcXG59XFxyXFxuXFxyXFxuLnBsYXllci10YWJsZSB0Ym9keSB0cj50ZDpub3QoOm50aC1vZi10eXBlKDIpKSB7XFxyXFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXHJcXG4gICAgY29sb3I6ICMxRTkwRkY7XFxyXFxufVxcclxcblxcclxcblxcclxcblxcclxcblxcclxcblxcclxcbiAgXFxyXFxuXFxyXFxuXCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vcGxheWVyLWlucHV0LmNzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzXCIpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5pZihjb250ZW50LmxvY2FscykgbW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscztcblxuaWYobW9kdWxlLmhvdCkge1xuXHRtb2R1bGUuaG90LmFjY2VwdChcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9wbGF5ZXItaW5wdXQuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9wbGF5ZXItaW5wdXQuY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzZWN0aW9uIGNsYXNzPVxcXCJwbGF5ZXItc2VjdGlvblxcXCI+XFxyXFxuICAgIDxkaXYgY2xhc3M9XFxcImNvbnRhaW5lclxcXCI+XFxyXFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJwbGF5ZXItY29udGFpbmVyXFxcIj5cXHJcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJ3ZWxjb21lLW1zZ1xcXCI+XFxyXFxuICAgICAgICAgICAgICAgIDxoMj5XZWxjb21lIHRvIFBVQkcgSGlzdG9yeSBBUEk8L2gyPlxcclxcbiAgICAgICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInBsYXllci1mb3JtLWNvbnRhaW5lclxcXCI+XFxyXFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInBsYXllci1pbnB1dC1uYW1lLXNlY3Rpb25cXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICBcXHJcXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCBhdXRvY29tcGxldGU9XFxcIm9uXFxcIiBpZD1cXFwicGxheWVyLW5hbWUtaW5wdXRcXFwiIGNsYXNzPVxcXCJwbGF5ZXItbmFtZS1pbnB1dFxcXCIgbmctbW9kZWw9XFxcIiRjdHJsLnNlYXJjaFBsYXllclxcXCIgIHR5cGU9XFxcInRleHRcXFwiIHBsYWNlaG9sZGVyPVxcXCJQbGF5ZXIgbmFtZSAuLi5cXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVxcXCJzZWxlY3QtbGFiZWxcXFwiIGZvcj1cXFwicGxheWVyLW5hbWUtaW5wdXRcXFwiPlBsYXllciBuYW1lOjwvbGFiZWw+XFxyXFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJwbGF5ZXItc2VsZWN0LXNlY3Rpb25cXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicGxheWVyLXJlZ2lvbi1jb250YWluZXJcXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMiBjbGFzcz1cXFwic2VsZWN0LWxhYmVsXFxcIj5SZWdpb246IDwvaDI+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBjbGFzcz1cXFwicGxheWVyLXJlZ2lvbi1zZWxlY3RcXFwiIG5nLW1vZGVsPVxcXCIkY3RybC5yZWdpb25cXFwiIHBsYWNlaG9sZGVyPVxcXCJyZWdpb25cXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIGNsYXNzPVxcXCJwbGF5ZXItcmVnaW9uLXNlbGVjdC1vcHRpb25cXFwiIG5nLXJlcGVhdD1cXFwicmVnaW9uIGluICRjdHJsLnJlZ2lvbnNcXFwiIHZhbHVlPXt7cmVnaW9ufX0+e3tyZWdpb259fTwvb3B0aW9uPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxcclxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxyXFxuXFxyXFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJwbGF5ZXItbWF0Y2gtY29udGFpbmVyXFxcIiBuZy1pZj1cXFwiJGN0cmwubWF0Y2hlc1xcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzPVxcXCJzZWxlY3QtbGFiZWxcXFwiPk1hdGNoOiA8L2gyPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzZWxlY3QgY2xhc3M9XFxcInBsYXllci1tYXRjaC1zZWxlY3RcXFwiIG5nLW1vZGVsPVxcXCIkY3RybC5tYXRjaFxcXCIgbmctY2hhbmdlPVxcXCIkY3RybC5nZXRNYXRjaCgkY3RybC5tYXRjaClcXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIGNsYXNzPVxcXCJwbGF5ZXItbWF0Y2gtc2VsZWN0LW9wdGlvblxcXCIgbmctcmVwZWF0PVxcXCJtYXRjaCBpbiAkY3RybC5tYXRjaGVzXFxcIiB2YWx1ZT17e21hdGNoLmlkfX0+e3skaW5kZXggKyAxfX0gLSB7e21hdGNoLmlkfX08L29wdGlvbj5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJwbGF5ZXItc2VhcmNoLXVzZXItY29udGFpbmVyXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwicGxheWVyLXNlYXJjaC11c2VyLWJ1dHRvblxcXCIgbmctY2xpY2s9XFxcIiRjdHJsLnNlYXJjaCgpXFxcIj5TZWFyY2g8L2J1dHRvbj5cXHJcXG5cXHJcXG4gICAgICAgICAgICA8L2Rpdj5cXHJcXG5cXHJcXG4gICAgICAgICAgICBcXHJcXG4gICAgICAgICAgICA8ZGl2IG5nLWlmPVxcXCIkY3RybC5tYXRjaC5kYXRhLmRhdGEuYXR0cmlidXRlc1xcXCIgY2xhc3M9XFxcIm1hdGNoLWluZm8tY29udGFpbmVyXFxcIj5cXHJcXG5cXHJcXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwibWF0Y2gtaW5mby1tYXBOYW1lXFxcIj57eyRjdHJsLm1hdGNoLmRhdGEuZGF0YS5hdHRyaWJ1dGVzLm1hcE5hbWUgfCBtYXBGaWx0ZXJ9fTwvZGl2PlxcclxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJtYXRjaC1pbmZvLXBsYXllZFxcXCI+e3skY3RybC5tYXRjaC5kYXRhLmRhdGEuYXR0cmlidXRlcy5jcmVhdGVkQXQgfCBkYXRlOidtZWRpdW0nIH19PC9kaXY+XFxyXFxuXFxyXFxuICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cXFwibWF0Y2gtaW5mb1xcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XFxcIm1hdGNoLWluZm8tbW9kZVxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5Nb2RlOiB7eyRjdHJsLm1hdGNoLmRhdGEuZGF0YS5hdHRyaWJ1dGVzLmdhbWVNb2RlIHwgbW9kZUZpbHRlcn19PC9kaXY+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8L2xpPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVxcXCJtYXRjaC1pbmZvLXR5cGVcXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+TWF0Y2ggdHlwZToge3skY3RybC5tYXRjaC5kYXRhLmRhdGEuYXR0cmlidXRlcy5nYW1lTW9kZSB8IG1hdGNoVHlwZUZpbHRlcn19PC9kaXY+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8L2xpPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVxcXCJtYXRjaC1pbmZvLXBsYXllckNvdW50XFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlBhcnRpY2lwYW50czoge3t2aWV3RGF0YS5maWx0ZXJlZEFycmF5Lmxlbmd0aH19PC9kaXY+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8L2xpPlxcclxcbiAgICAgICAgICAgICAgICA8L3VsPlxcclxcbiAgICAgICAgICAgIDwvZGl2PlxcclxcblxcclxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImZpbHRlci1jb250YWluZXJcXFwiIG5nLWlmPVxcXCIkY3RybC5tYXRjaC5kYXRhLmluY2x1ZGVkXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgPGlucHV0IHBsYWNlaG9sZGVyPVxcXCJGaWx0ZXIgdmFsdWUgaGVyZSAuLi5cXFwiIGlkPVxcXCJmaWx0ZXItaW5wdXRcXFwiIGNsYXNzPVxcXCJmaWx0ZXItaW5wdXRcXFwiIHR5cGU9XFxcInRleHRcXFwiIG5nLW1vZGVsPVxcXCIkY3RybC5maWx0ZXJWYWx1ZVxcXCI+XFxyXFxuICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XFxcImZpbHRlci1pbnB1dFxcXCI+RmlsdGVyPC9sYWJlbD5cXHJcXG4gICAgICAgICAgICA8L2Rpdj5cXHJcXG5cXHJcXG4gICAgICAgICAgICA8dGFibGUgYm9yZGVyPVxcXCIxXFxcIiBjbGFzcz1cXFwicGxheWVyLXRhYmxlXFxcIiBuZy1pZj1cXFwiJGN0cmwubWF0Y2guZGF0YS5pbmNsdWRlZFxcXCI+XFxyXFxuICAgICAgICAgICAgICAgIDx0aGVhZD5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDx0ciBjbGFzcz1cXFwicGxheWVyLXRhYmxlLXJvd1xcXCI+XFxyXFxuXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoPiM8L3RoPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5QbGF5ZXI8L3RoPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBuZy1jbGljaz1cXFwiJGN0cmwuY2hhbmdlU29ydFByb3BlcnR5KCd3aW5QbGFjZScsICRjdHJsLnJldmVyc2FsKVxcXCI+UGxhY2U8L3RoPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBuZy1jbGljaz1cXFwiJGN0cmwuY2hhbmdlU29ydFByb3BlcnR5KCdraWxscycsICRjdHJsLnJldmVyc2FsKVxcXCI+S2lsbHM8L3RoPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBuZy1jbGljaz1cXFwiJGN0cmwuY2hhbmdlU29ydFByb3BlcnR5KCdEQk5PcycsICRjdHJsLnJldmVyc2FsKVxcXCI+S25vY2tlZCBUaW1lczwvdGg+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoIG5nLWNsaWNrPVxcXCIkY3RybC5jaGFuZ2VTb3J0UHJvcGVydHkoJ2RhbWFnZURlYWx0JywgJGN0cmwucmV2ZXJzYWwpXFxcIj5EYW1hZ2UgRGVhbHQ8L3RoPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBuZy1jbGljaz1cXFwiJGN0cmwuY2hhbmdlU29ydFByb3BlcnR5KCdhc3Npc3RzJywgJGN0cmwucmV2ZXJzYWwpXFxcIj5Bc3Npc3RzPC90aD5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGggbmctY2xpY2s9XFxcIiRjdHJsLmNoYW5nZVNvcnRQcm9wZXJ0eSgnaGVhbHMnLCAkY3RybC5yZXZlcnNhbClcXFwiPkhlYWxzPC90aD5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGggbmctY2xpY2s9XFxcIiRjdHJsLmNoYW5nZVNvcnRQcm9wZXJ0eSgnYm9vc3RzJywgJGN0cmwucmV2ZXJzYWwpXFxcIj5Cb29zdHM8L3RoPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aCBuZy1jbGljaz1cXFwiJGN0cmwuY2hhbmdlU29ydFByb3BlcnR5KCdyZXZpdmVzJywgJGN0cmwucmV2ZXJzYWwpXFxcIj5SZXZpdmVzPC90aD5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGggbmctY2xpY2s9XFxcIiRjdHJsLmNoYW5nZVNvcnRQcm9wZXJ0eSgnbG9uZ2VzdEtpbGwnLCAkY3RybC5yZXZlcnNhbClcXFwiPkxvbmdlc3QgS2lsbDwvdGg+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8L3RyPlxcclxcbiAgICAgICAgICAgICAgICA8L3RoZWFkPlxcclxcbiAgICAgICAgICAgICAgICA8dGJvZHk+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8dHIgbmctcmVwZWF0PSdwbGF5ZXIgaW4gKHZpZXdEYXRhLmZpbHRlcmVkQXJyYXkgPSAoJGN0cmwubWF0Y2guZGF0YS5pbmNsdWRlZCB8IHBsYXllckZpbHRlcjokY3RybC5zb3J0UHJvcGVydHk6JGN0cmwucmV2ZXJzYWwgfCBmaWx0ZXI6ICRjdHJsLmZpbHRlclZhbHVlICkpJz5cXHJcXG5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQ+e3skaW5kZXggKyAxfX08L3RkPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD57e3BsYXllci5hdHRyaWJ1dGVzLnN0YXRzLm5hbWV9fTwvdGQ+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkPnt7cGxheWVyLmF0dHJpYnV0ZXMuc3RhdHMud2luUGxhY2V9fTwvdGQ+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkPnt7cGxheWVyLmF0dHJpYnV0ZXMuc3RhdHMua2lsbHN9fSh7e3BsYXllci5hdHRyaWJ1dGVzLnN0YXRzLmhlYWRzaG90S2lsbHN9fWhlYWQpPC90ZD5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQ+e3twbGF5ZXIuYXR0cmlidXRlcy5zdGF0cy5EQk5Pc319PC90ZD5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQ+e3twbGF5ZXIuYXR0cmlidXRlcy5zdGF0cy5kYW1hZ2VEZWFsdCB8IHBhcnNlVG9JbnRGaWx0ZXJ9fWhwPC90ZD5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQ+e3twbGF5ZXIuYXR0cmlidXRlcy5zdGF0cy5hc3Npc3RzfX08L3RkPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD57e3BsYXllci5hdHRyaWJ1dGVzLnN0YXRzLmhlYWxzfX1oZWFsczwvdGQ+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkPnt7cGxheWVyLmF0dHJpYnV0ZXMuc3RhdHMuYm9vc3RzfX1ib29zdHM8L3RkPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD57e3BsYXllci5hdHRyaWJ1dGVzLnN0YXRzLnJldml2ZXN9fXJldml2ZXM8L3RkPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD57e3BsYXllci5hdHRyaWJ1dGVzLnN0YXRzLmxvbmdlc3RLaWxsfX1tPC90ZD5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XFxyXFxuICAgICAgICAgICAgICAgIDwvdGJvZHk+XFxyXFxuICAgICAgICAgICAgPC90YWJsZT5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICA8L2Rpdj5cXHJcXG48L3NlY3Rpb24+XCI7IiwiYW5ndWxhci5tb2R1bGUoJ3B1YmdBcHAnKVxyXG4gICAgLmNvbXBvbmVudCgnYXBwUGxheWVySW5wdXQnLCB7XHJcbiAgICAgICAgdGVtcGxhdGU6IHJlcXVpcmUoJy4vcGxheWVyLWlucHV0Lmh0bWwnKSxcclxuICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsJyRsb2cnLCAnUGxheWVyRGF0YVNlcnZpY2UnLCAnTWF0Y2hEYXRhU2VydmljZScsICdSZWdpb25zU2VydmljZScgLCBmdW5jdGlvbigkc2NvcGUsICRsb2csIFBsYXllckRhdGFTZXJ2aWNlLCBNYXRjaERhdGFTZXJ2aWNlLCBSZWdpb25zU2VydmljZSl7XHJcbiAgICAgICAgICAgIGxldCBjdHJsID0gdGhpcztcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMuJG9uSW5pdCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBjdHJsLnJlZ2lvbiA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICBSZWdpb25zU2VydmljZS5hbGxSZWdpb25zKCkudGhlbihkYXRhID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjdHJsLnJlZ2lvbnMgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIGN0cmwuc29ydFByb3BlcnR5ID0gXCJ3aW5QbGFjZVwiO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnZpZXdEYXRhID0ge307XHJcbiAgICAgICAgICAgICAgICBjdHJsLnJldmVyc2FsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG5cclxuXHJcbiAgICAgICAgICAgIGN0cmwuY2hhbmdlU29ydFByb3BlcnR5ID0gZnVuY3Rpb24odmFsdWUsIGZsb3cpe1xyXG4gICAgICAgICAgICAgICAgY3RybC5zb3J0UHJvcGVydHkgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIGN0cmwucmV2ZXJzYWwgPSBCb29sZWFuKGZsb3cpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjdHJsLnNlYXJjaCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBQbGF5ZXJEYXRhU2VydmljZS5nZXRQbGF5ZXIoY3RybC5zZWFyY2hQbGF5ZXIsIGN0cmwucmVnaW9uKS50aGVuKGRhdGEgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEuZGF0YS5kYXRhWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICBjdHJsLm1hdGNoZXMgPSBkYXRhLmRhdGEuZGF0YVswXS5yZWxhdGlvbnNoaXBzLm1hdGNoZXMuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhjdHJsLm1hdGNoZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY3RybC5nZXRNYXRjaCA9IGZ1bmN0aW9uKGlkKXtcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGlkKTtcclxuICAgICAgICAgICAgICAgIE1hdGNoRGF0YVNlcnZpY2UuZ2V0TWF0Y2hEYXRhKGlkLCBjdHJsLnJlZ2lvbikudGhlbihkYXRhID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjdHJsLm1hdGNoID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1dXHJcbiAgICB9KVxyXG5cclxucmVxdWlyZSgnLi9wbGF5ZXItaW5wdXQuY3NzJyk7IiwibW9kdWxlLmV4cG9ydHMgPSBcIjxhcHAtcGxheWVyLWlucHV0PjwvYXBwLXBsYXllci1pbnB1dD5cXHJcXG5cIjsiLCJhbmd1bGFyLm1vZHVsZSgncHViZ0FwcCcpXHJcbiAgICAuY29tcG9uZW50KCdhcHBQbGF5ZXJTZWN0aW9uJywge1xyXG4gICAgICAgIHRlbXBsYXRlOiByZXF1aXJlKCcuL3BsYXllci1zZWN0aW9uLmh0bWwnKSxcclxuICAgICAgICBjb250cm9sbGVyOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG4iLCJhbmd1bGFyLm1vZHVsZSgncHViZ0FwcCcpXHJcbiAgICAuZmlsdGVyKCdtYXBGaWx0ZXInLCBmdW5jdGlvbigpe1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbihpdGVtKXtcclxuICAgICAgICAgICAgaWYoIWl0ZW0pe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBzcGxpdHRlZCA9IGl0ZW0uc3BsaXQoJ18nKTtcclxuICAgICAgICAgICAgc3BsaXR0ZWQucG9wKCk7XHJcbiAgICAgICAgICAgIHJldHVybiBzcGxpdHRlZC5qb2luKCcnKTtcclxuICAgICAgICB9XHJcbiAgICB9KTsiLCJhbmd1bGFyLm1vZHVsZSgncHViZ0FwcCcpXHJcbiAgICAuZmlsdGVyKCdtYXRjaFR5cGVGaWx0ZXInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgIGlmICghaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpdGVtLmluZGV4T2YoJy0nKSAhPSAtMSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IHNwbGl0dGVkID0gaXRlbS5zcGxpdCgnLScpO1xyXG4gICAgICAgICAgICAgICAgc3BsaXR0ZWQuc2hpZnQoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzcGxpdHRlZC5qb2luKCcnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLnNsaWNlKGl0ZW0ubGVuZ3RoIC0gMywgaXRlbS5sZW5ndGgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgIH0pOyIsImFuZ3VsYXIubW9kdWxlKCdwdWJnQXBwJylcclxuICAgIC5maWx0ZXIoJ21vZGVGaWx0ZXInLCBmdW5jdGlvbigpe1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbihpdGVtKXtcclxuICAgICAgICAgICAgaWYoIWl0ZW0pe1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKGl0ZW0uaW5kZXhPZignLScpICE9IC0xKXtcclxuICAgICAgICAgICAgICAgIGxldCBzcGxpdHRlZCA9IGl0ZW0uc3BsaXQoJy0nKTtcclxuICAgICAgICAgICAgICAgIHNwbGl0dGVkLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNwbGl0dGVkLmpvaW4oJycpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uc2xpY2UoMCwgaXRlbS5sZW5ndGggLTMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG5cclxuICAgICAgICB9XHJcbiAgICB9KTsiLCJhbmd1bGFyLm1vZHVsZSgncHViZ0FwcCcpXHJcbiAgICAuZmlsdGVyKCdwYXJzZVRvSW50RmlsdGVyJywgZnVuY3Rpb24oKXtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oaXRlbSl7XHJcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludChpdGVtKS50b0ZpeGVkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7IiwiYW5ndWxhci5tb2R1bGUoJ3B1YmdBcHAnKVxyXG4gICAgLmZpbHRlcigncGxheWVyRmlsdGVyJywgZnVuY3Rpb24oKXtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oaXRlbXMsIHNvcnRWYWx1ZSwgcmV2ZXJzYWwpe1xyXG4gICAgICAgICAgICBsZXQgaXRlbXNBcnJheSA9ICBpdGVtcy5maWx0ZXIoaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS50eXBlID09ICdwYXJ0aWNpcGFudCc7XHJcbiAgICAgICAgICAgIH0pLnNvcnQoKGEsYik9PiB7XHJcbiAgICAgICAgICAgICAgICBpZihzb3J0VmFsdWUgIT0gJ3dpblBsYWNlJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGFQb3MgPSBwYXJzZUludChOdW1iZXIoYS5hdHRyaWJ1dGVzLnN0YXRzW3NvcnRWYWx1ZV0pKTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgYlBvcyA9IHBhcnNlSW50KE51bWJlcihiLmF0dHJpYnV0ZXMuc3RhdHNbc29ydFZhbHVlXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhUG9zICA8IGJQb3MgKSByZXR1cm4gMTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYVBvcyA+IGJQb3MpIHJldHVybiAtMTsgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDsgXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBhUG9zID0gcGFyc2VJbnQoTnVtYmVyKGEuYXR0cmlidXRlcy5zdGF0c1tzb3J0VmFsdWVdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGJQb3MgPSBwYXJzZUludChOdW1iZXIoYi5hdHRyaWJ1dGVzLnN0YXRzW3NvcnRWYWx1ZV0pKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYVBvcyAgPiBiUG9zICkgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFQb3MgPCBiUG9zKSByZXR1cm4gLTE7ICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7IFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfSkgXHJcbiAgICAgICAgICAgIHJldHVybiAgaXRlbXNBcnJheTtcclxuICAgICAgICB9XHJcbiAgICB9KTsiLCJjbGFzcyBSZWdpb25zU2VydmljZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigkcSl7XHJcbiAgICAgICAgdGhpcy5xID0gJHE7XHJcbiAgICB9XHJcblxyXG4gICAgYWxsUmVnaW9ucygpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLnEoKHJlc29sdmUsIHJlamVjdCk9PiB7XHJcbiAgICAgICAgICAgIHJlc29sdmUoWyd4Ym94LWFzJywgJ3hib3gtZXUnLCAneGJveC1uYScsICd4Ym94LW9jJywgJ3BjLWtyanAnLCAncGMtanAnLCAncGMtbmEnLCAncGMtZXUnLCAncGMtb2MnLCAncGMta2FrYW8nLCAncGMtc2VhJywgJ3BjLXNhJywgJ3BjLWFzJ10pXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIFxyXG59XHJcblxyXG5hbmd1bGFyLm1vZHVsZSgncHViZ0FwcCcpXHJcbiAgICAuc2VydmljZSgnUmVnaW9uc1NlcnZpY2UnLCBbJyRxJywgUmVnaW9uc1NlcnZpY2VdKTsiLCJjbGFzcyBQbGF5ZXJEYXRhU2VydmljZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigkaHR0cCl7XHJcbiAgICAgICAgdGhpcy5odHRwID0gJGh0dHA7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UGxheWVyKG5hbWUsIHJlZ2lvbil7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cCh7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgICAgICAgIHVybDogYGh0dHBzOi8vYXBpLnBsYXliYXR0bGVncm91bmRzLmNvbS9zaGFyZHMvJHtyZWdpb259L3BsYXllcnM/ZmlsdGVyW3BsYXllck5hbWVzXT0ke25hbWV9YCxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgXCJBY2NlcHRcIjogXCJhcHBsaWNhdGlvbi92bmQuYXBpK2pzb25cIixcclxuICAgICAgICAgICAgICAgIFwiQXV0aG9yaXphdGlvblwiOiBcIkJlYXJlciBleUowZVhBaU9pSktWMVFpTENKaGJHY2lPaUpJVXpJMU5pSjkuZXlKcWRHa2lPaUpsWlRVNE5EZGpNQzB4WVRjekxUQXhNell0T1dFME5TMDJNV0ZqT1RFM01ESmlNbUVpTENKcGMzTWlPaUpuWVcxbGJHOWphMlZ5SWl3aWFXRjBJam94TlRJeU9EY3pNemsyTENKd2RXSWlPaUppYkhWbGFHOXNaU0lzSW5ScGRHeGxJam9pY0hWaVp5SXNJbUZ3Y0NJNkltRnpkRzl1TURBaUxDSnpZMjl3WlNJNkltTnZiVzExYm1sMGVTSXNJbXhwYldsMElqb3hNSDAuRWhqMkhtY3R4cUJvNnRYS0pnRmdheGFDaWpONlFPM2FjcWJkYnVkank1MFwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG59XHJcblxyXG5hbmd1bGFyLm1vZHVsZSgncHViZ0FwcCcpXHJcbiAgICAuc2VydmljZSgnUGxheWVyRGF0YVNlcnZpY2UnLCBbJyRodHRwJywgUGxheWVyRGF0YVNlcnZpY2VdKTsiLCJjbGFzcyBNYXRjaERhdGFTZXJ2aWNlIHtcclxuICAgIGNvbnN0cnVjdG9yKCRodHRwKXtcclxuICAgICAgICB0aGlzLmh0dHAgPSAkaHR0cDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZ2V0TWF0Y2hEYXRhKG1hdGNoSWQsIHJlZ2lvbil7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaHR0cCh7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgICAgICAgIHVybDogYGh0dHBzOi8vYXBpLnBsYXliYXR0bGVncm91bmRzLmNvbS9zaGFyZHMvJHtyZWdpb259L21hdGNoZXMvJHttYXRjaElkfWAsIFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICBcIkFjY2VwdFwiOiBcImFwcGxpY2F0aW9uL3ZuZC5hcGkranNvblwiLFxyXG4gICAgICAgICAgICAgICAgXCJBdXRob3JpemF0aW9uXCI6IFwiQmVhcmVyIGV5SjBlWEFpT2lKS1YxUWlMQ0poYkdjaU9pSklVekkxTmlKOS5leUpxZEdraU9pSmxaVFU0TkRkak1DMHhZVGN6TFRBeE16WXRPV0UwTlMwMk1XRmpPVEUzTURKaU1tRWlMQ0pwYzNNaU9pSm5ZVzFsYkc5amEyVnlJaXdpYVdGMElqb3hOVEl5T0Rjek16azJMQ0p3ZFdJaU9pSmliSFZsYUc5c1pTSXNJblJwZEd4bElqb2ljSFZpWnlJc0ltRndjQ0k2SW1GemRHOXVNREFpTENKelkyOXdaU0k2SW1OdmJXMTFibWwwZVNJc0lteHBiV2wwSWpveE1IMC5FaGoySG1jdHhxQm82dFhLSmdGZ2F4YUNpak42UU8zYWNxYmRidWRqeTUwXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuXHJcbmFuZ3VsYXIubW9kdWxlKCdwdWJnQXBwJylcclxuICAgIC5zZXJ2aWNlKCdNYXRjaERhdGFTZXJ2aWNlJywgWyckaHR0cCcsIE1hdGNoRGF0YVNlcnZpY2VdKTsiLCJ2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ3B1YmdBcHAnLCBbJ3VpLnJvdXRlciddKTtcclxuXHJcbi8vVE9ETzo6IGFkZGVkIGVycm9yIGhhbmRsZXJzXHJcbiAgXHJcbiAgICBhcHAuY29uZmlnKFsnJHN0YXRlUHJvdmlkZXInLCAnJHVybFJvdXRlclByb3ZpZGVyJywgJyRsb2NhdGlvblByb3ZpZGVyJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlciwgJGxvY2F0aW9uUHJvdmlkZXIpIHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgIFxyXG4gICAgICAgICAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKFwiL1wiKTtcclxuICAgICAgICAgICAgJHN0YXRlUHJvdmlkZXJcclxuICAgICAgICAgICAgICAgIC5zdGF0ZSgnaG9tZScsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6ICcvJyxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxhcHAtcGxheWVyLWlucHV0PjwvYXBwLXBsYXllci1pbnB1dD4gJ1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICBdKTtcclxuXHJcblxyXG5yZXF1aXJlKCcuL3NlcnZpY2VzL21hdGNoLWRhdGEtc2VydmljZScpO1xyXG5yZXF1aXJlKCcuL3NlcnZpY2VzL3BsYXllci1kYXRhLXNlcnZpY2UnKTtcclxucmVxdWlyZSgnLi9zZXJ2aWNlcy9yZWdpb25zLXNlcnZpY2UnKTtcclxuXHJcbnJlcXVpcmUoJy4vZmlsdGVycy9wbGF5ZXJzLmZpbHRlcicpO1xyXG5yZXF1aXJlKCcuL2ZpbHRlcnMvcGFyc2VUb0ludC5maWx0ZXInKTtcclxucmVxdWlyZSgnLi9maWx0ZXJzL21vZGUuZmlsdGVyJyk7XHJcbnJlcXVpcmUoJy4vZmlsdGVycy9tYXRjaFR5cGUuZmlsdGVyJyk7XHJcbnJlcXVpcmUoJy4vZmlsdGVycy9tYXAuZmlsdGVyJyk7XHJcblxyXG5yZXF1aXJlKCcuL2NvbXBvbmVudHMvcGxheWVyLXNlY3Rpb24vcGxheWVyLXNlY3Rpb24uY29tcG9uZW50Jyk7XHJcbnJlcXVpcmUoJy4vY29tcG9uZW50cy9wbGF5ZXItc2VjdGlvbi9wbGF5ZXItaW5wdXQvcGxheWVyLWlucHV0LmNvbXBvbmVudCcpO1xyXG5yZXF1aXJlKCcuL2NvbXBvbmVudHMvZm9vdGVyL2Zvb3Rlci5jb21wb25lbnQnKTtcclxuXHJcbnJlcXVpcmUoJy4vbWFpbi5jc3MnKTsiXSwic291cmNlUm9vdCI6IiJ9