!function(n){var r={};function t(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return n[e].call(a.exports,a,a.exports,t),a.l=!0,a.exports}t.m=n,t.c=r,t.d=function(n,r,e){t.o(n,r)||Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:e})},t.r=function(n){Object.defineProperty(n,"__esModule",{value:!0})},t.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(r,"a",r),r},t.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},t.p="",t(t.s=32)}([function(n,r,t){var e,a,o={},i=(e=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===a&&(a=e.apply(this,arguments)),a}),l=function(n){var r={};return function(n){if("function"==typeof n)return n();if(void 0===r[n]){var t=function(n){return document.querySelector(n)}.call(this,n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}r[n]=t}return r[n]}}(),s=null,c=0,p=[],d=t(18);function u(n,r){for(var t=0;t<n.length;t++){var e=n[t],a=o[e.id];if(a){a.refs++;for(var i=0;i<a.parts.length;i++)a.parts[i](e.parts[i]);for(;i<e.parts.length;i++)a.parts.push(v(e.parts[i],r))}else{var l=[];for(i=0;i<e.parts.length;i++)l.push(v(e.parts[i],r));o[e.id]={id:e.id,refs:1,parts:l}}}}function f(n,r){for(var t=[],e={},a=0;a<n.length;a++){var o=n[a],i=r.base?o[0]+r.base:o[0],l={css:o[1],media:o[2],sourceMap:o[3]};e[i]?e[i].parts.push(l):t.push(e[i]={id:i,parts:[l]})}return t}function h(n,r){var t=l(n.insertInto);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var e=p[p.length-1];if("top"===n.insertAt)e?e.nextSibling?t.insertBefore(r,e.nextSibling):t.appendChild(r):t.insertBefore(r,t.firstChild),p.push(r);else if("bottom"===n.insertAt)t.appendChild(r);else{if("object"!=typeof n.insertAt||!n.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var a=l(n.insertInto+" "+n.insertAt.before);t.insertBefore(r,a)}}function m(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n);var r=p.indexOf(n);r>=0&&p.splice(r,1)}function b(n){var r=document.createElement("style");return n.attrs.type="text/css",y(r,n.attrs),h(n,r),r}function y(n,r){Object.keys(r).forEach(function(t){n.setAttribute(t,r[t])})}function v(n,r){var t,e,a,o;if(r.transform&&n.css){if(!(o=r.transform(n.css)))return function(){};n.css=o}if(r.singleton){var i=c++;t=s||(s=b(r)),e=w.bind(null,t,i,!1),a=w.bind(null,t,i,!0)}else n.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(t=function(n){var r=document.createElement("link");return n.attrs.type="text/css",n.attrs.rel="stylesheet",y(r,n.attrs),h(n,r),r}(r),e=function(n,r,t){var e=t.css,a=t.sourceMap,o=void 0===r.convertToAbsoluteUrls&&a;(r.convertToAbsoluteUrls||o)&&(e=d(e));a&&(e+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var i=new Blob([e],{type:"text/css"}),l=n.href;n.href=URL.createObjectURL(i),l&&URL.revokeObjectURL(l)}.bind(null,t,r),a=function(){m(t),t.href&&URL.revokeObjectURL(t.href)}):(t=b(r),e=function(n,r){var t=r.css,e=r.media;e&&n.setAttribute("media",e);if(n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}}.bind(null,t),a=function(){m(t)});return e(n),function(r){if(r){if(r.css===n.css&&r.media===n.media&&r.sourceMap===n.sourceMap)return;e(n=r)}else a()}}n.exports=function(n,r){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(r=r||{}).attrs="object"==typeof r.attrs?r.attrs:{},r.singleton||"boolean"==typeof r.singleton||(r.singleton=i()),r.insertInto||(r.insertInto="head"),r.insertAt||(r.insertAt="bottom");var t=f(n,r);return u(t,r),function(n){for(var e=[],a=0;a<t.length;a++){var i=t[a];(l=o[i.id]).refs--,e.push(l)}n&&u(f(n,r),r);for(a=0;a<e.length;a++){var l;if(0===(l=e[a]).refs){for(var s=0;s<l.parts.length;s++)l.parts[s]();delete o[l.id]}}}};var g,x=(g=[],function(n,r){return g[n]=r,g.filter(Boolean).join("\n")});function w(n,r,t,e){var a=t?"":e.css;if(n.styleSheet)n.styleSheet.cssText=x(r,a);else{var o=document.createTextNode(a),i=n.childNodes;i[r]&&n.removeChild(i[r]),i.length?n.insertBefore(o,i[r]):n.appendChild(o)}}},function(n,r){n.exports=function(n){var r=[];return r.toString=function(){return this.map(function(r){var t=function(n,r){var t=n[1]||"",e=n[3];if(!e)return t;if(r&&"function"==typeof btoa){var a=(i=e,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),o=e.sources.map(function(n){return"/*# sourceURL="+e.sourceRoot+n+" */"});return[t].concat(o).concat([a]).join("\n")}var i;return[t].join("\n")}(r,n);return r[2]?"@media "+r[2]+"{"+t+"}":t}).join("")},r.i=function(n,t){"string"==typeof n&&(n=[[null,n,""]]);for(var e={},a=0;a<this.length;a++){var o=this[a][0];"number"==typeof o&&(e[o]=!0)}for(a=0;a<n.length;a++){var i=n[a];"number"==typeof i[0]&&e[i[0]]||(t&&!i[2]?i[2]=t:t&&(i[2]="("+i[2]+") and ("+t+")"),r.push(i))}},r}},function(n,r,t){angular.module("pubgApp").component("appPlayerSection",{template:t(23),controller:function(){}})},function(n,r,t){(n.exports=t(1)(!1)).push([n.i,"*, *::before, *::after {\r\n    box-sizing: border-box;\r\n    margin: 0;\r\n    padding:0;\r\n}\r\n\r\nhtml {\r\n    font-size: 62.5%;\r\n}",""])},function(n,r,t){var e=t(3);"string"==typeof e&&(e=[[n.i,e,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};t(0)(e,a);e.locals&&(n.exports=e.locals)},function(n,r,t){(n.exports=t(1)(!1)).push([n.i,"/* Style the video: 100% width and height to cover the entire window */\r\n#myVideo {\r\n    position: fixed;\r\n    right: 0;\r\n    bottom: 0;\r\n    min-width: 100%; \r\n    min-height: 100%;\r\n}\r\n\r\n/* Add some content at the bottom of the video/page */\r\n.content {\r\n    position: fixed;\r\n    bottom: 0;\r\n    background: rgba(0, 0, 0, 0.5);\r\n    color: #f1f1f1;\r\n    width: 100%;\r\n    padding: 20px;\r\n}\r\n\r\n/* Style the button used to pause/play the video */\r\n#myBtn {\r\n    width: 200px;\r\n    font-size: 18px;\r\n    padding: 10px;\r\n    border: none;\r\n    background: #000;\r\n    color: #fff;\r\n    cursor: pointer;\r\n}\r\n\r\n#myBtn:hover {\r\n    background: #ddd;\r\n    color: black;\r\n}",""])},function(n,r,t){var e=t(5);"string"==typeof e&&(e=[[n.i,e,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};t(0)(e,a);e.locals&&(n.exports=e.locals)},function(n,r){n.exports='\x3c!-- The video --\x3e\r\n<video autoplay muted loop id="myVideo">\r\n    <source src="rain.mp4" type="video/mp4">\r\n</video>\r\n\r\n\x3c!-- Optional: some overlay text to describe the video --\x3e\r\n<div class="content">\r\n    <h1>Heading</h1>\r\n    <p>Lorem ipsum...</p> \r\n</div>'},function(n,r,t){angular.module("pubgApp").component("appWelcome",{template:t(7),controller:function(){}}),t(6)},function(n,r){},function(n,r,t){(n.exports=t(1)(!1)).push([n.i,"/* * { box-sizing: border-box; }\r\nbody {\r\n  font: 16px Arial; \r\n}\r\n.autocomplete {\r\n  position: relative;\r\n  display: inline-block;\r\n}\r\ninput {\r\n  border: 1px solid transparent;\r\n  background-color: #f1f1f1;\r\n  padding: 10px;\r\n  font-size: 16px;\r\n}\r\ninput[type=text] {\r\n  background-color: #f1f1f1;\r\n}\r\ninput[type=submit] {\r\n  background-color: DodgerBlue;\r\n  color: #fff;\r\n}\r\n.autocomplete-items {\r\n  position: absolute;\r\n  border: 1px solid #d4d4d4;\r\n  border-bottom: none;\r\n  border-top: none;\r\n  z-index: 99;\r\n  \r\n  top: 100%;\r\n  left: 0;\r\n  right: 0;\r\n}\r\n.autocomplete-items div {\r\n  padding: 10px;\r\n  cursor: pointer;\r\n  background-color: #fff; \r\n  border-bottom: 1px solid #d4d4d4; \r\n}\r\n.autocomplete-items div:hover {\r\n  background-color: #e9e9e9; \r\n}\r\n.autocomplete-active {\r\n  background-color: DodgerBlue !important; \r\n  color: #ffffff; \r\n} */",""])},function(n,r,t){var e=t(10);"string"==typeof e&&(e=[[n.i,e,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};t(0)(e,a);e.locals&&(n.exports=e.locals)},function(n,r){n.exports='\x3c!--Make sure the form has the autocomplete function switched off:--\x3e\r\n<form autocomplete="off" action="/action_page.php">\r\n    <div style="width:300px;">\r\n      <input id="myInput" type="text" name="myCountry" placeholder="Country">\r\n    </div>\r\n    <input type="submit">\r\n  </form>'},function(n,r,t){angular.module("pubgApp").component("appPlayerForm",{template:t(12),controller:function(){}}),t(11)},function(n,r,t){(n.exports=t(1)(!1)).push([n.i,".player-section {\r\n    background-color: #eee;\r\n}\r\n\r\n.container {\r\n    width: 80%;\r\n    margin: auto;\r\n}\r\n\r\n.player-container {\r\n    \r\n}\r\n\r\n.player-form-container {\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    \r\n    flex-direction: column;\r\n}\r\n\r\n.player-input-name-section {\r\n    width: 50%;\r\n    margin-bottom: 2rem;\r\n}\r\n\r\n.select-label {\r\n    font-size: 2rem;\r\n    color: #333333;\r\n    display: block;\r\n}\r\n\r\n.player-name-input {\r\n    font-size: 2rem;\r\n    height: 3rem;\r\n    width: 100%;\r\n}\r\n\r\n.player-region-select {\r\n    height: 3rem;\r\n    display: block;\r\n\r\n    width: 100%;\r\n    font-size: 2rem;\r\n}\r\n\r\n.player-region-select-option {\r\n    font-size: 2rem;\r\n}\r\n\r\n.player-match-select {\r\n   height: 3rem;\r\n   width: 100%;\r\n   display: block;\r\n   font-size: 2rem\r\n}\r\n\r\n.player-match-select-option {\r\n flex-basis: 50%;\r\n}\r\n\r\n.player-search-user-container {\r\n    display:flex;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n.player-search-user-button {\r\n    display: block;\r\n    font-size: 2rem;\r\n    padding: .5rem;\r\n    flex-basis: 50%;\r\n}\r\n\r\n\r\n.player-select-section {\r\n    display: flex;\r\n    width: 50%;\r\n    justify-content: space-between;\r\n    margin-bottom: 2rem;\r\n}\r\n\r\n.player-region-container{\r\n    display: flex;\r\n    width: 45%;\r\n    flex-direction: column;\r\n} \r\n\r\n.player-match-container{\r\n    display: flex;\r\n    width: 50%;\r\n    flex-direction: column;\r\n} \r\n\r\n.match-info {\r\n    display: flex;\r\n    width: 50%;\r\n    margin: auto;\r\n}\r\n\r\n.match-info-container {\r\n    width: 100%;\r\n    display: block;\r\n    border: 1px solid #ccc;\r\n}\r\n\r\n.match-info-mode {\r\n    font-size: 2.5rem;\r\n}\r\n\r\n.match-info-type{\r\n    font-size: 2.5rem;\r\n}\r\n.match-info-mapName{\r\n    font-size: 3rem;\r\n    display: block;\r\n    align-content: center;\r\n}\r\n.match-info-playerCount{\r\n    font-size: 2.5rem;\r\n}\r\n.match-info-played{\r\n    font-size: 2.5rem;\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n.player-table {\r\n    width: 100%;\r\n    font-size: 2rem;\r\n}\r\n\r\n.player-table-row th:nth-child(1) {\r\n    width: 5%;\r\n    \r\n}\r\n\r\n.player-table-row th:nth-child(2) {\r\n    width: 20%;\r\n}\r\n.player-table-row th:nth-child(3) {\r\n    width: 5%;\r\n}\r\n.player-table-row th:nth-child(4) {\r\n    width: 10%;\r\n}\r\n.player-table-row th:nth-child(5) {\r\n    width: 10%;\r\n}\r\n.player-table-row th:nth-child(6) {\r\n    width: 10%;\r\n}\r\n.player-table-row th:nth-child(7) {\r\n    width: 8%;\r\n}\r\n.player-table-row th:nth-child(8) {\r\n    width: 10%;\r\n}\r\n.player-table-row th:nth-child(9) {\r\n    width: 8%;\r\n}\r\n.player-table-row th:nth-child(10) {\r\n    width: 14%;\r\n}\r\n\r\n.player-table tbody tr > td:not(:nth-of-type(2)) {\r\n    text-align: center;\r\n}",""])},function(n,r,t){var e=t(14);"string"==typeof e&&(e=[[n.i,e,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};t(0)(e,a);e.locals&&(n.exports=e.locals)},function(n,r){n.exports='<section class="player-section">\r\n    <div class="container">\r\n        <div class="player-container">\r\n            <div class="player-form-container">\r\n                <div class="player-input-name-section">\r\n                    <label class="select-label" for="player-name-input">Player name:</label>\r\n                    <input id="player-name-input" class="player-name-input" ng-model="$ctrl.searchPlayer" type="text" placeholder="Enter player name here ...">\r\n                </div>\r\n                <div class="player-select-section">\r\n                    <div class="player-region-container">\r\n                        <h2 class="select-label">Region: </h2>\r\n                        <select class="player-region-select" ng-model="$ctrl.region" placeholder="region">\r\n                            <option class="player-region-select-option" ng-repeat="region in $ctrl.regions" value={{region}}>{{region}}</option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div class="player-match-container" ng-if="$ctrl.matches">\r\n                        <h2 class="select-label">Match: </h2>\r\n                        <select class="player-match-select" ng-model="$ctrl.match" ng-change="$ctrl.getMatch($ctrl.match)">\r\n                            <option class="player-match-select-option" ng-repeat="match in $ctrl.matches" value={{match.id}}>{{match.id}}</option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class="player-search-user-container">\r\n                <button class="player-search-user-button" ng-click="$ctrl.search()">Search</button>\r\n\r\n            </div>\r\n\r\n\r\n            <div ng-if="$ctrl.match.data.data.attributes" class="match-info-container">\r\n                <ul class="match-info">\r\n                    <li class="match-info-mapName"><div>{{$ctrl.match.data.data.attributes.mapName | mapFilter}}</div></li>\r\n                    <li class="match-info-mode"><div>Mode: {{$ctrl.match.data.data.attributes.gameMode | modeFilter}}</div></li>\r\n                    <li class="match-info-type"><div>Match type: {{$ctrl.match.data.data.attributes.gameMode | matchTypeFilter}}</div></li>\r\n                    <li class="match-info-playerCount"><div>Player count: {{viewData.filteredArray.length}}</div></li>\r\n                    <li class="match-info-played"><div>Played at : {{$ctrl.match.data.data.attributes.createdAt | date:\'medium\' }}</div> </li>\r\n                </ul>\r\n            </div>\r\n\r\n            <table border="1" class="player-table" ng-if="$ctrl.match">\r\n                <thead>\r\n                    <tr class="player-table-row">\r\n\r\n                        <th>#</th>\r\n                        <th>name</th>\r\n                        <th>winplace</th>\r\n                        <th>kills</th>\r\n                        <th>Knocked times</th>\r\n                        <th>damagedone</th>\r\n                        <th>assists</th>\r\n                        <th>Healed</th>\r\n                        <th>revives</th>\r\n                        <th>longest kill</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr ng-repeat=\'player in (viewData.filteredArray = ($ctrl.match.data.included | playerFilter ))\'>\r\n\r\n                        <td>{{$index + 1}}</td>\r\n                        <td>{{player.attributes.stats.name}}</td>\r\n                        <td>{{player.attributes.stats.winPlace}}</td>\r\n                        <td>{{player.attributes.stats.kills}}({{player.attributes.stats.headshotKills}}head)</td>\r\n                        <td>{{player.attributes.stats.DBNOs}}</td>\r\n                        <td>{{player.attributes.stats.damageDealt | parseToIntFilter}} damage</td>\r\n                        <td>{{player.attributes.stats.assists}}</td>\r\n                        <td>{{player.attributes.stats.boosts}}boost {{player.attributes.stats.heals}}heal</td>\r\n                        <td>{{player.attributes.stats.revives}} revives</td>\r\n                        <td>{{player.attributes.stats.longestKill}}m</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n\r\n\r\n            \x3c!-- <ul >\r\n                <li ng-repeat=\'player in $ctrl.match.data.included | playerFilter \'>\r\n                    <span>{{player.attributes.stats.winPlace}}</span>\r\n                    <span>{{player.attributes.stats.name}}</span>\r\n                    <span>{{\' Kills \' + player.attributes.stats.kills}}</span>\r\n                    <span>{{\' Revived: \' + player.attributes.stats.DBNOs}}</span>\r\n                    <span>{{\' Damage dealt: \' + player.attributes.stats.damageDealt}}</span>\r\n\r\n                </li>\r\n            </ul> --\x3e\r\n        </div>\r\n    </div>\r\n</section>'},function(n,r,t){angular.module("pubgApp").component("appPlayerInput",{template:t(16),controller:["$scope","$log","PlayerDataService","MatchDataService","RegionsService",function(n,r,t,e,a){let o=this;this.$onInit=function(){o.region="",a.allRegions().then(n=>{o.regions=n}),n.viewData={}},o.search=function(){t.getPlayer(o.searchPlayer,o.region).then(n=>{console.log(n.data.data[0]),o.matches=n.data.data[0].relationships.matches.data,console.log(o.matches)})},o.getMatch=function(n){console.log(n),e.getMatchData(n,o.region).then(n=>{o.match=n,console.log(n)})}}]}),t(15)},function(n,r){n.exports=function(n){var r="undefined"!=typeof window&&window.location;if(!r)throw new Error("fixUrls requires window.location");if(!n||"string"!=typeof n)return n;var t=r.protocol+"//"+r.host,e=t+r.pathname.replace(/\/[^\/]*$/,"/");return n.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(n,r){var a,o=r.trim().replace(/^"(.*)"$/,function(n,r){return r}).replace(/^'(.*)'$/,function(n,r){return r});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?n:(a=0===o.indexOf("//")?o:0===o.indexOf("/")?t+o:e+o.replace(/^\.\//,""),"url("+JSON.stringify(a)+")")})}},function(n,r,t){(n.exports=t(1)(!1)).push([n.i,".topnav {\r\n    background-color: #333;\r\n    overflow: hidden;\r\n}\r\n\r\n/* Style the links inside the navigation bar */\r\n.topnav a {\r\n    float: left;\r\n    color: #f2f2f2;\r\n    text-align: center;\r\n    padding: 14px 16px;\r\n    text-decoration: none;\r\n    font-size: 17px;\r\n}\r\n\r\n/* Change the color of links on hover */\r\n.topnav a:hover {\r\n    background-color: #ddd;\r\n    color: black;\r\n}\r\n\r\n/* Add a color to the active/current link */\r\n.topnav a.active {\r\n    background-color: #4CAF50;\r\n    color: white;\r\n}\r\n",""])},function(n,r,t){var e=t(19);"string"==typeof e&&(e=[[n.i,e,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};t(0)(e,a);e.locals&&(n.exports=e.locals)},function(n,r){n.exports='<div class="topnav">\r\n    <a class="active" href="#home">Home</a>\r\n    <a href="#news">News</a>\r\n    <a href="#contact">Contact</a>\r\n    <a href="#about">About</a>\r\n</div>\r\n\x3c!-- <header class="navigation">\r\n    <div class="container">\r\n        <div class="header">\r\n            <div class="logo">\r\n                <img src="" alt="">\r\n            </div>\r\n            <nav class="nav">\r\n                <ul class="navlist">\r\n                    <li class="navitem">Players</li>\r\n                    <li class="navitem">Matches</li>\r\n                    <li class="navitem">About</li>\r\n                </ul>\r\n            </nav>\r\n        </div>\r\n    </div>\r\n</header> --\x3e'},function(n,r,t){angular.module("pubgApp").component("appNavBar",{template:t(21),controller:function(){this.name="William"}}),t(20)},function(n,r){n.exports="<p>Hello player!</p>\r\n<app-player-input></app-player-input>\r\n"},function(n,r){angular.module("pubgApp").filter("mapFilter",function(){return function(n){if(!n)return;let r=n.split("_");return r.pop(),r.join("")}})},function(n,r){angular.module("pubgApp").filter("matchTypeFilter",function(){return function(n){if(!n)return;let r=n.split("-");return r.shift(),r.join("")}})},function(n,r){angular.module("pubgApp").filter("modeFilter",function(){return function(n){if(!n)return;let r=n.split("-");return r.pop(),r.join("")}})},function(n,r){angular.module("pubgApp").filter("parseToIntFilter",function(){return function(n){return parseInt(n).toFixed()}})},function(n,r){angular.module("pubgApp").filter("playerFilter",function(){return function(n){let r=n.filter(n=>"participant"==n.type).sort((n,r)=>{var t=parseInt(n.attributes.stats.winPlace),e=parseInt(r.attributes.stats.winPlace);return t>e?1:t<e?-1:0});return console.log(r),r}})},function(n,r){angular.module("pubgApp").service("RegionsService",["$q",class{constructor(n){this.q=n}allRegions(){return this.q((n,r)=>{n(["xbox-as","xbox-eu","xbox-na","xbox-oc","pc-krjp","pc-jp","pc-na","pc-eu","pc-oc","pc-kakao","pc-sea","pc-sa","pc-as"])})}}])},function(n,r){angular.module("pubgApp").service("PlayerDataService",["$http",class{constructor(n){this.http=n}getPlayer(n,r){return this.http({method:"GET",url:`https://api.playbattlegrounds.com/shards/${r}/players?filter[playerNames]=${n}`,headers:{Accept:"application/vnd.api+json",Authorization:"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJqdGkiOiJlZTU4NDdjMC0xYTczLTAxMzYtOWE0NS02MWFjOTE3MDJiMmEiLCJpc3MiOiJnYW1lbG9ja2VyIiwiaWF0IjoxNTIyODczMzk2LCJwdWIiOiJibHVlaG9sZSIsInRpdGxlIjoicHViZyIsImFwcCI6ImFzdG9uMDAiLCJzY29wZSI6ImNvbW11bml0eSIsImxpbWl0IjoxMH0.Ehj2HmctxqBo6tXKJgFgaxaCijN6QO3acqbdbudjy50"}})}}])},function(n,r){angular.module("pubgApp").service("MatchDataService",["$http",class{constructor(n){this.http=n}getMatchData(n,r){return this.http({method:"GET",url:`https://api.playbattlegrounds.com/shards/${r}/matches/${n}`,headers:{Accept:"application/vnd.api+json",Authorization:"Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJqdGkiOiJlZTU4NDdjMC0xYTczLTAxMzYtOWE0NS02MWFjOTE3MDJiMmEiLCJpc3MiOiJnYW1lbG9ja2VyIiwiaWF0IjoxNTIyODczMzk2LCJwdWIiOiJibHVlaG9sZSIsInRpdGxlIjoicHViZyIsImFwcCI6ImFzdG9uMDAiLCJzY29wZSI6ImNvbW11bml0eSIsImxpbWl0IjoxMH0.Ehj2HmctxqBo6tXKJgFgaxaCijN6QO3acqbdbudjy50"}})}}])},function(n,r,t){angular.module("pubgApp",[]);t(31),t(30),t(29),t(28),t(27),t(26),t(25),t(24),t(2),t(22),t(2),t(17),t(13),t(9),t(8),t(4)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9saWIvYWRkU3R5bGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL3BsYXllci1zZWN0aW9uL3BsYXllci1zZWN0aW9uLmNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi9tYWluLmNzcyIsIndlYnBhY2s6Ly8vLi9tYWluLmNzcz9mYmE0Iiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvd2VsY29tZS93ZWxjb21lLmNzcyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL3dlbGNvbWUvd2VsY29tZS5jc3M/ZDYzZCIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL3dlbGNvbWUvd2VsY29tZS5odG1sIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvd2VsY29tZS93ZWxjb21lLmNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL3BsYXllci1mb3JtL3BsYXllci1mb3JtLmNzcyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL3BsYXllci1mb3JtL3BsYXllci1mb3JtLmNzcz8wYWUyIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvcGxheWVyLWZvcm0vcGxheWVyLWZvcm0uaHRtbCIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL3BsYXllci1mb3JtL3BsYXllci1mb3JtLmNvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL3BsYXllci1zZWN0aW9uL3BsYXllci1pbnB1dC9wbGF5ZXItaW5wdXQuY3NzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvcGxheWVyLXNlY3Rpb24vcGxheWVyLWlucHV0L3BsYXllci1pbnB1dC5jc3M/YTIyZCIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL3BsYXllci1zZWN0aW9uL3BsYXllci1pbnB1dC9wbGF5ZXItaW5wdXQuaHRtbCIsIndlYnBhY2s6Ly8vLi9jb21wb25lbnRzL3BsYXllci1zZWN0aW9uL3BsYXllci1pbnB1dC9wbGF5ZXItaW5wdXQuY29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL3VybHMuanMiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9uYXYtYmFyL25hdi1iYXIuY3NzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvbmF2LWJhci9uYXYtYmFyLmNzcz9lM2VhIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvbmF2LWJhci9uYXYtYmFyLmh0bWwiLCJ3ZWJwYWNrOi8vLy4vY29tcG9uZW50cy9uYXYtYmFyL25hdi1iYXIuY29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL2NvbXBvbmVudHMvcGxheWVyLXNlY3Rpb24vcGxheWVyLXNlY3Rpb24uaHRtbCIsIndlYnBhY2s6Ly8vLi9maWx0ZXJzL21hcC5maWx0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vZmlsdGVycy9tYXRjaFR5cGUuZmlsdGVyLmpzIiwid2VicGFjazovLy8uL2ZpbHRlcnMvbW9kZS5maWx0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vZmlsdGVycy9wYXJzZVRvSW50LmZpbHRlci5qcyIsIndlYnBhY2s6Ly8vLi9maWx0ZXJzL3BsYXllcnMuZmlsdGVyLmpzIiwid2VicGFjazovLy8uL3NlcnZpY2VzL3JlZ2lvbnMtc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9zZXJ2aWNlcy9wbGF5ZXItZGF0YS1zZXJ2aWNlLmpzIiwid2VicGFjazovLy8uL3NlcnZpY2VzL21hdGNoLWRhdGEtc2VydmljZS5qcyIsIndlYnBhY2s6Ly8vLi9hcHAuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwidmFsdWUiLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImZuIiwibWVtbyIsInN0eWxlc0luRG9tIiwiaXNPbGRJRSIsIndpbmRvdyIsImRvY3VtZW50IiwiYWxsIiwiYXRvYiIsImFwcGx5IiwidGhpcyIsImFyZ3VtZW50cyIsImdldEVsZW1lbnQiLCJ0YXJnZXQiLCJzdHlsZVRhcmdldCIsInF1ZXJ5U2VsZWN0b3IiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwic2luZ2xldG9uIiwic2luZ2xldG9uQ291bnRlciIsInN0eWxlc0luc2VydGVkQXRUb3AiLCJmaXhVcmxzIiwiYWRkU3R5bGVzVG9Eb20iLCJzdHlsZXMiLCJvcHRpb25zIiwibGVuZ3RoIiwiaXRlbSIsImRvbVN0eWxlIiwiaWQiLCJyZWZzIiwiaiIsInBhcnRzIiwicHVzaCIsImFkZFN0eWxlIiwibGlzdFRvU3R5bGVzIiwibGlzdCIsIm5ld1N0eWxlcyIsImJhc2UiLCJwYXJ0IiwiY3NzIiwibWVkaWEiLCJzb3VyY2VNYXAiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZSIsImluc2VydEludG8iLCJFcnJvciIsImxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wIiwiaW5zZXJ0QXQiLCJuZXh0U2libGluZyIsImluc2VydEJlZm9yZSIsImFwcGVuZENoaWxkIiwiZmlyc3RDaGlsZCIsImJlZm9yZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImlkeCIsImluZGV4T2YiLCJzcGxpY2UiLCJjcmVhdGVTdHlsZUVsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYXR0cnMiLCJ0eXBlIiwiYWRkQXR0cnMiLCJlbCIsImtleXMiLCJmb3JFYWNoIiwia2V5Iiwic2V0QXR0cmlidXRlIiwib2JqIiwidXBkYXRlIiwicmVtb3ZlIiwicmVzdWx0IiwidHJhbnNmb3JtIiwic3R5bGVJbmRleCIsImFwcGx5VG9TaW5nbGV0b25UYWciLCJiaW5kIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwicmV2b2tlT2JqZWN0VVJMIiwiQmxvYiIsImJ0b2EiLCJsaW5rIiwicmVsIiwiY3JlYXRlTGlua0VsZW1lbnQiLCJhdXRvRml4VXJscyIsInVuZGVmaW5lZCIsImNvbnZlcnRUb0Fic29sdXRlVXJscyIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImJsb2IiLCJvbGRTcmMiLCJocmVmIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjcmVhdGVUZXh0Tm9kZSIsIm5ld09iaiIsIkRFQlVHIiwibmV3TGlzdCIsIm1heVJlbW92ZSIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwiaW5kZXgiLCJyZXBsYWNlbWVudCIsImZpbHRlciIsIkJvb2xlYW4iLCJqb2luIiwiY3NzTm9kZSIsImNoaWxkTm9kZXMiLCJ1c2VTb3VyY2VNYXAiLCJ0b1N0cmluZyIsIm1hcCIsImNvbnRlbnQiLCJjc3NNYXBwaW5nIiwic291cmNlTWFwcGluZyIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsImNvbmNhdCIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJtZWRpYVF1ZXJ5IiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImFuZ3VsYXIiLCJjb21wb25lbnQiLCJ0ZW1wbGF0ZSIsImNvbnRyb2xsZXIiLCJobXIiLCJsb2NhbHMiLCIkc2NvcGUiLCIkbG9nIiwiUGxheWVyRGF0YVNlcnZpY2UiLCJNYXRjaERhdGFTZXJ2aWNlIiwiUmVnaW9uc1NlcnZpY2UiLCJjdHJsIiwiJG9uSW5pdCIsInJlZ2lvbiIsImFsbFJlZ2lvbnMiLCJ0aGVuIiwiZGF0YSIsInJlZ2lvbnMiLCJ2aWV3RGF0YSIsInNlYXJjaCIsImdldFBsYXllciIsInNlYXJjaFBsYXllciIsImNvbnNvbGUiLCJsb2ciLCJtYXRjaGVzIiwicmVsYXRpb25zaGlwcyIsImdldE1hdGNoIiwiZ2V0TWF0Y2hEYXRhIiwibWF0Y2giLCJsb2NhdGlvbiIsImJhc2VVcmwiLCJwcm90b2NvbCIsImhvc3QiLCJjdXJyZW50RGlyIiwicGF0aG5hbWUiLCJyZXBsYWNlIiwiZnVsbE1hdGNoIiwib3JpZ1VybCIsIm5ld1VybCIsInVucXVvdGVkT3JpZ1VybCIsInRyaW0iLCIkMSIsInRlc3QiLCJzcGxpdHRlZCIsInNwbGl0IiwicG9wIiwic2hpZnQiLCJwYXJzZUludCIsInRvRml4ZWQiLCJpdGVtcyIsIml0ZW1zQXJyYXkiLCJzb3J0IiwiYSIsImIiLCJhUG9zIiwiYXR0cmlidXRlcyIsInN0YXRzIiwid2luUGxhY2UiLCJiUG9zIiwic2VydmljZSIsIltvYmplY3QgT2JqZWN0XSIsIiRxIiwicSIsInJlc29sdmUiLCJyZWplY3QiLCIkaHR0cCIsImh0dHAiLCJtZXRob2QiLCJ1cmwiLCJoZWFkZXJzIiwiQWNjZXB0IiwiQXV0aG9yaXphdGlvbiIsIm1hdGNoSWQiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxHQUNBSyxjQUFBLEVBQ0FDLFlBQUEs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QUFBLEdBRUFBLEVBQUEiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAzMik7XG4iLCIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuXG52YXIgc3R5bGVzSW5Eb20gPSB7fTtcblxudmFyXHRtZW1vaXplID0gZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHR5cGVvZiBtZW1vID09PSBcInVuZGVmaW5lZFwiKSBtZW1vID0gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblx0XHRyZXR1cm4gbWVtbztcblx0fTtcbn07XG5cbnZhciBpc09sZElFID0gbWVtb2l6ZShmdW5jdGlvbiAoKSB7XG5cdC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG5cdC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcblx0Ly8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuXHQvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcblx0Ly8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG5cdHJldHVybiB3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYjtcbn0pO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xufTtcblxudmFyIGdldEVsZW1lbnQgPSAoZnVuY3Rpb24gKGZuKSB7XG5cdHZhciBtZW1vID0ge307XG5cblx0cmV0dXJuIGZ1bmN0aW9uKHRhcmdldCkge1xuICAgICAgICAgICAgICAgIC8vIElmIHBhc3NpbmcgZnVuY3Rpb24gaW4gb3B0aW9ucywgdGhlbiB1c2UgaXQgZm9yIHJlc29sdmUgXCJoZWFkXCIgZWxlbWVudC5cbiAgICAgICAgICAgICAgICAvLyBVc2VmdWwgZm9yIFNoYWRvdyBSb290IHN0eWxlIGkuZVxuICAgICAgICAgICAgICAgIC8vIHtcbiAgICAgICAgICAgICAgICAvLyAgIGluc2VydEludG86IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZm9vXCIpLnNoYWRvd1Jvb3QgfVxuICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFx0dmFyIHN0eWxlVGFyZ2V0ID0gZ2V0VGFyZ2V0LmNhbGwodGhpcywgdGFyZ2V0KTtcblx0XHRcdC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cdFx0XHRpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG5cdFx0XHRcdHRyeSB7XG5cdFx0XHRcdFx0Ly8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcblx0XHRcdFx0XHQvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuXHRcdFx0XHRcdHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG5cdFx0XHRcdH0gY2F0Y2goZSkge1xuXHRcdFx0XHRcdHN0eWxlVGFyZ2V0ID0gbnVsbDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0bWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG5cdFx0fVxuXHRcdHJldHVybiBtZW1vW3RhcmdldF1cblx0fTtcbn0pKCk7XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyXHRzaW5nbGV0b25Db3VudGVyID0gMDtcbnZhclx0c3R5bGVzSW5zZXJ0ZWRBdFRvcCA9IFtdO1xuXG52YXJcdGZpeFVybHMgPSByZXF1aXJlKFwiLi91cmxzXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpc3QsIG9wdGlvbnMpIHtcblx0aWYgKHR5cGVvZiBERUJVRyAhPT0gXCJ1bmRlZmluZWRcIiAmJiBERUJVRykge1xuXHRcdGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBFcnJvcihcIlRoZSBzdHlsZS1sb2FkZXIgY2Fubm90IGJlIHVzZWQgaW4gYSBub24tYnJvd3NlciBlbnZpcm9ubWVudFwiKTtcblx0fVxuXG5cdG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG5cdG9wdGlvbnMuYXR0cnMgPSB0eXBlb2Ygb3B0aW9ucy5hdHRycyA9PT0gXCJvYmplY3RcIiA/IG9wdGlvbnMuYXR0cnMgOiB7fTtcblxuXHQvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cblx0Ly8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXHRpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gXCJib29sZWFuXCIpIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuXG5cdC8vIEJ5IGRlZmF1bHQsIGFkZCA8c3R5bGU+IHRhZ3MgdG8gdGhlIDxoZWFkPiBlbGVtZW50XG4gICAgICAgIGlmICghb3B0aW9ucy5pbnNlcnRJbnRvKSBvcHRpb25zLmluc2VydEludG8gPSBcImhlYWRcIjtcblxuXHQvLyBCeSBkZWZhdWx0LCBhZGQgPHN0eWxlPiB0YWdzIHRvIHRoZSBib3R0b20gb2YgdGhlIHRhcmdldFxuXHRpZiAoIW9wdGlvbnMuaW5zZXJ0QXQpIG9wdGlvbnMuaW5zZXJ0QXQgPSBcImJvdHRvbVwiO1xuXG5cdHZhciBzdHlsZXMgPSBsaXN0VG9TdHlsZXMobGlzdCwgb3B0aW9ucyk7XG5cblx0YWRkU3R5bGVzVG9Eb20oc3R5bGVzLCBvcHRpb25zKTtcblxuXHRyZXR1cm4gZnVuY3Rpb24gdXBkYXRlIChuZXdMaXN0KSB7XG5cdFx0dmFyIG1heVJlbW92ZSA9IFtdO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gc3R5bGVzW2ldO1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRcdGRvbVN0eWxlLnJlZnMtLTtcblx0XHRcdG1heVJlbW92ZS5wdXNoKGRvbVN0eWxlKTtcblx0XHR9XG5cblx0XHRpZihuZXdMaXN0KSB7XG5cdFx0XHR2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QsIG9wdGlvbnMpO1xuXHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcblx0XHR9XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xuXG5cdFx0XHRpZihkb21TdHlsZS5yZWZzID09PSAwKSB7XG5cdFx0XHRcdGZvciAodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIGRvbVN0eWxlLnBhcnRzW2pdKCk7XG5cblx0XHRcdFx0ZGVsZXRlIHN0eWxlc0luRG9tW2RvbVN0eWxlLmlkXTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59O1xuXG5mdW5jdGlvbiBhZGRTdHlsZXNUb0RvbSAoc3R5bGVzLCBvcHRpb25zKSB7XG5cdGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cblx0XHRpZihkb21TdHlsZSkge1xuXHRcdFx0ZG9tU3R5bGUucmVmcysrO1xuXG5cdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oaXRlbS5wYXJ0c1tqXSk7XG5cdFx0XHR9XG5cblx0XHRcdGZvcig7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgcGFydHMgPSBbXTtcblxuXHRcdFx0Zm9yKHZhciBqID0gMDsgaiA8IGl0ZW0ucGFydHMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0cGFydHMucHVzaChhZGRTdHlsZShpdGVtLnBhcnRzW2pdLCBvcHRpb25zKSk7XG5cdFx0XHR9XG5cblx0XHRcdHN0eWxlc0luRG9tW2l0ZW0uaWRdID0ge2lkOiBpdGVtLmlkLCByZWZzOiAxLCBwYXJ0czogcGFydHN9O1xuXHRcdH1cblx0fVxufVxuXG5mdW5jdGlvbiBsaXN0VG9TdHlsZXMgKGxpc3QsIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlcyA9IFtdO1xuXHR2YXIgbmV3U3R5bGVzID0ge307XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBsaXN0W2ldO1xuXHRcdHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuXHRcdHZhciBjc3MgPSBpdGVtWzFdO1xuXHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XG5cdFx0dmFyIHNvdXJjZU1hcCA9IGl0ZW1bM107XG5cdFx0dmFyIHBhcnQgPSB7Y3NzOiBjc3MsIG1lZGlhOiBtZWRpYSwgc291cmNlTWFwOiBzb3VyY2VNYXB9O1xuXG5cdFx0aWYoIW5ld1N0eWxlc1tpZF0pIHN0eWxlcy5wdXNoKG5ld1N0eWxlc1tpZF0gPSB7aWQ6IGlkLCBwYXJ0czogW3BhcnRdfSk7XG5cdFx0ZWxzZSBuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XG5cdH1cblxuXHRyZXR1cm4gc3R5bGVzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQgKG9wdGlvbnMsIHN0eWxlKSB7XG5cdHZhciB0YXJnZXQgPSBnZXRFbGVtZW50KG9wdGlvbnMuaW5zZXJ0SW50bylcblxuXHRpZiAoIXRhcmdldCkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0SW50bycgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuXHR9XG5cblx0dmFyIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wID0gc3R5bGVzSW5zZXJ0ZWRBdFRvcFtzdHlsZXNJbnNlcnRlZEF0VG9wLmxlbmd0aCAtIDFdO1xuXG5cdGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcInRvcFwiKSB7XG5cdFx0aWYgKCFsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCkge1xuXHRcdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgdGFyZ2V0LmZpcnN0Q2hpbGQpO1xuXHRcdH0gZWxzZSBpZiAobGFzdFN0eWxlRWxlbWVudEluc2VydGVkQXRUb3AubmV4dFNpYmxpbmcpIHtcblx0XHRcdHRhcmdldC5pbnNlcnRCZWZvcmUoc3R5bGUsIGxhc3RTdHlsZUVsZW1lbnRJbnNlcnRlZEF0VG9wLm5leHRTaWJsaW5nKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0XHR9XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5wdXNoKHN0eWxlKTtcblx0fSBlbHNlIGlmIChvcHRpb25zLmluc2VydEF0ID09PSBcImJvdHRvbVwiKSB7XG5cdFx0dGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcblx0fSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJvYmplY3RcIiAmJiBvcHRpb25zLmluc2VydEF0LmJlZm9yZSkge1xuXHRcdHZhciBuZXh0U2libGluZyA9IGdldEVsZW1lbnQob3B0aW9ucy5pbnNlcnRJbnRvICsgXCIgXCIgKyBvcHRpb25zLmluc2VydEF0LmJlZm9yZSk7XG5cdFx0dGFyZ2V0Lmluc2VydEJlZm9yZShzdHlsZSwgbmV4dFNpYmxpbmcpO1xuXHR9IGVsc2Uge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIltTdHlsZSBMb2FkZXJdXFxuXFxuIEludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnICgnb3B0aW9ucy5pbnNlcnRBdCcpIGZvdW5kLlxcbiBNdXN0IGJlICd0b3AnLCAnYm90dG9tJywgb3IgT2JqZWN0LlxcbiAoaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIjaW5zZXJ0YXQpXFxuXCIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudCAoc3R5bGUpIHtcblx0aWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblx0c3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG5cblx0dmFyIGlkeCA9IHN0eWxlc0luc2VydGVkQXRUb3AuaW5kZXhPZihzdHlsZSk7XG5cdGlmKGlkeCA+PSAwKSB7XG5cdFx0c3R5bGVzSW5zZXJ0ZWRBdFRvcC5zcGxpY2UoaWR4LCAxKTtcblx0fVxufVxuXG5mdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQgKG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuXG5cdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblxuXHRhZGRBdHRycyhzdHlsZSwgb3B0aW9ucy5hdHRycyk7XG5cdGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zLCBzdHlsZSk7XG5cblx0cmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVMaW5rRWxlbWVudCAob3B0aW9ucykge1xuXHR2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xuXG5cdG9wdGlvbnMuYXR0cnMudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0b3B0aW9ucy5hdHRycy5yZWwgPSBcInN0eWxlc2hlZXRcIjtcblxuXHRhZGRBdHRycyhsaW5rLCBvcHRpb25zLmF0dHJzKTtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIGxpbmspO1xuXG5cdHJldHVybiBsaW5rO1xufVxuXG5mdW5jdGlvbiBhZGRBdHRycyAoZWwsIGF0dHJzKSB7XG5cdE9iamVjdC5rZXlzKGF0dHJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRlbC5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyc1trZXldKTtcblx0fSk7XG59XG5cbmZ1bmN0aW9uIGFkZFN0eWxlIChvYmosIG9wdGlvbnMpIHtcblx0dmFyIHN0eWxlLCB1cGRhdGUsIHJlbW92ZSwgcmVzdWx0O1xuXG5cdC8vIElmIGEgdHJhbnNmb3JtIGZ1bmN0aW9uIHdhcyBkZWZpbmVkLCBydW4gaXQgb24gdGhlIGNzc1xuXHRpZiAob3B0aW9ucy50cmFuc2Zvcm0gJiYgb2JqLmNzcykge1xuXHQgICAgcmVzdWx0ID0gb3B0aW9ucy50cmFuc2Zvcm0ob2JqLmNzcyk7XG5cblx0ICAgIGlmIChyZXN1bHQpIHtcblx0ICAgIFx0Ly8gSWYgdHJhbnNmb3JtIHJldHVybnMgYSB2YWx1ZSwgdXNlIHRoYXQgaW5zdGVhZCBvZiB0aGUgb3JpZ2luYWwgY3NzLlxuXHQgICAgXHQvLyBUaGlzIGFsbG93cyBydW5uaW5nIHJ1bnRpbWUgdHJhbnNmb3JtYXRpb25zIG9uIHRoZSBjc3MuXG5cdCAgICBcdG9iai5jc3MgPSByZXN1bHQ7XG5cdCAgICB9IGVsc2Uge1xuXHQgICAgXHQvLyBJZiB0aGUgdHJhbnNmb3JtIGZ1bmN0aW9uIHJldHVybnMgYSBmYWxzeSB2YWx1ZSwgZG9uJ3QgYWRkIHRoaXMgY3NzLlxuXHQgICAgXHQvLyBUaGlzIGFsbG93cyBjb25kaXRpb25hbCBsb2FkaW5nIG9mIGNzc1xuXHQgICAgXHRyZXR1cm4gZnVuY3Rpb24oKSB7XG5cdCAgICBcdFx0Ly8gbm9vcFxuXHQgICAgXHR9O1xuXHQgICAgfVxuXHR9XG5cblx0aWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG5cdFx0dmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG5cblx0XHRzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcblxuXHRcdHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuXHRcdHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG5cblx0fSBlbHNlIGlmIChcblx0XHRvYmouc291cmNlTWFwICYmXG5cdFx0dHlwZW9mIFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgQmxvYiA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIlxuXHQpIHtcblx0XHRzdHlsZSA9IGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IHVwZGF0ZUxpbmsuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcblxuXHRcdFx0aWYoc3R5bGUuaHJlZikgVVJMLnJldm9rZU9iamVjdFVSTChzdHlsZS5ocmVmKTtcblx0XHR9O1xuXHR9IGVsc2Uge1xuXHRcdHN0eWxlID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcblx0XHR9O1xuXHR9XG5cblx0dXBkYXRlKG9iaik7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlIChuZXdPYmopIHtcblx0XHRpZiAobmV3T2JqKSB7XG5cdFx0XHRpZiAoXG5cdFx0XHRcdG5ld09iai5jc3MgPT09IG9iai5jc3MgJiZcblx0XHRcdFx0bmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiZcblx0XHRcdFx0bmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcFxuXHRcdFx0KSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dXBkYXRlKG9iaiA9IG5ld09iaik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlbW92ZSgpO1xuXHRcdH1cblx0fTtcbn1cblxudmFyIHJlcGxhY2VUZXh0ID0gKGZ1bmN0aW9uICgpIHtcblx0dmFyIHRleHRTdG9yZSA9IFtdO1xuXG5cdHJldHVybiBmdW5jdGlvbiAoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG5cdFx0dGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuXG5cdFx0cmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG5cdH07XG59KSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnIChzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG5cdHZhciBjc3MgPSByZW1vdmUgPyBcIlwiIDogb2JqLmNzcztcblxuXHRpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuXHR9IGVsc2Uge1xuXHRcdHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcblx0XHR2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cblx0XHRpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcblxuXHRcdGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuXHRcdFx0c3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcgKHN0eWxlLCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBtZWRpYSA9IG9iai5tZWRpYTtcblxuXHRpZihtZWRpYSkge1xuXHRcdHN0eWxlLnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIG1lZGlhKVxuXHR9XG5cblx0aWYoc3R5bGUuc3R5bGVTaGVldCkge1xuXHRcdHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcblx0fSBlbHNlIHtcblx0XHR3aGlsZShzdHlsZS5maXJzdENoaWxkKSB7XG5cdFx0XHRzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcblx0XHR9XG5cblx0XHRzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcblx0fVxufVxuXG5mdW5jdGlvbiB1cGRhdGVMaW5rIChsaW5rLCBvcHRpb25zLCBvYmopIHtcblx0dmFyIGNzcyA9IG9iai5jc3M7XG5cdHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG5cdC8qXG5cdFx0SWYgY29udmVydFRvQWJzb2x1dGVVcmxzIGlzbid0IGRlZmluZWQsIGJ1dCBzb3VyY2VtYXBzIGFyZSBlbmFibGVkXG5cdFx0YW5kIHRoZXJlIGlzIG5vIHB1YmxpY1BhdGggZGVmaW5lZCB0aGVuIGxldHMgdHVybiBjb252ZXJ0VG9BYnNvbHV0ZVVybHNcblx0XHRvbiBieSBkZWZhdWx0LiAgT3RoZXJ3aXNlIGRlZmF1bHQgdG8gdGhlIGNvbnZlcnRUb0Fic29sdXRlVXJscyBvcHRpb25cblx0XHRkaXJlY3RseVxuXHQqL1xuXHR2YXIgYXV0b0ZpeFVybHMgPSBvcHRpb25zLmNvbnZlcnRUb0Fic29sdXRlVXJscyA9PT0gdW5kZWZpbmVkICYmIHNvdXJjZU1hcDtcblxuXHRpZiAob3B0aW9ucy5jb252ZXJ0VG9BYnNvbHV0ZVVybHMgfHwgYXV0b0ZpeFVybHMpIHtcblx0XHRjc3MgPSBmaXhVcmxzKGNzcyk7XG5cdH1cblxuXHRpZiAoc291cmNlTWFwKSB7XG5cdFx0Ly8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjY2MDM4NzVcblx0XHRjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiICsgYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSArIFwiICovXCI7XG5cdH1cblxuXHR2YXIgYmxvYiA9IG5ldyBCbG9iKFtjc3NdLCB7IHR5cGU6IFwidGV4dC9jc3NcIiB9KTtcblxuXHR2YXIgb2xkU3JjID0gbGluay5ocmVmO1xuXG5cdGxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG5cblx0aWYob2xkU3JjKSBVUkwucmV2b2tlT2JqZWN0VVJMKG9sZFNyYyk7XG59XG4iLCIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odXNlU291cmNlTWFwKSB7XG5cdHZhciBsaXN0ID0gW107XG5cblx0Ly8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXHRsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG5cdFx0cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG5cdFx0XHR2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblx0XHRcdGlmKGl0ZW1bMl0pIHtcblx0XHRcdFx0cmV0dXJuIFwiQG1lZGlhIFwiICsgaXRlbVsyXSArIFwie1wiICsgY29udGVudCArIFwifVwiO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIGNvbnRlbnQ7XG5cdFx0XHR9XG5cdFx0fSkuam9pbihcIlwiKTtcblx0fTtcblxuXHQvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuXHRsaXN0LmkgPSBmdW5jdGlvbihtb2R1bGVzLCBtZWRpYVF1ZXJ5KSB7XG5cdFx0aWYodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpXG5cdFx0XHRtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCBcIlwiXV07XG5cdFx0dmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGlkID0gdGhpc1tpXVswXTtcblx0XHRcdGlmKHR5cGVvZiBpZCA9PT0gXCJudW1iZXJcIilcblx0XHRcdFx0YWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuXHRcdH1cblx0XHRmb3IoaSA9IDA7IGkgPCBtb2R1bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IG1vZHVsZXNbaV07XG5cdFx0XHQvLyBza2lwIGFscmVhZHkgaW1wb3J0ZWQgbW9kdWxlXG5cdFx0XHQvLyB0aGlzIGltcGxlbWVudGF0aW9uIGlzIG5vdCAxMDAlIHBlcmZlY3QgZm9yIHdlaXJkIG1lZGlhIHF1ZXJ5IGNvbWJpbmF0aW9uc1xuXHRcdFx0Ly8gIHdoZW4gYSBtb2R1bGUgaXMgaW1wb3J0ZWQgbXVsdGlwbGUgdGltZXMgd2l0aCBkaWZmZXJlbnQgbWVkaWEgcXVlcmllcy5cblx0XHRcdC8vICBJIGhvcGUgdGhpcyB3aWxsIG5ldmVyIG9jY3VyIChIZXkgdGhpcyB3YXkgd2UgaGF2ZSBzbWFsbGVyIGJ1bmRsZXMpXG5cdFx0XHRpZih0eXBlb2YgaXRlbVswXSAhPT0gXCJudW1iZXJcIiB8fCAhYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuXHRcdFx0XHRpZihtZWRpYVF1ZXJ5ICYmICFpdGVtWzJdKSB7XG5cdFx0XHRcdFx0aXRlbVsyXSA9IG1lZGlhUXVlcnk7XG5cdFx0XHRcdH0gZWxzZSBpZihtZWRpYVF1ZXJ5KSB7XG5cdFx0XHRcdFx0aXRlbVsyXSA9IFwiKFwiICsgaXRlbVsyXSArIFwiKSBhbmQgKFwiICsgbWVkaWFRdWVyeSArIFwiKVwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGxpc3QucHVzaChpdGVtKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cdHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcblx0dmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnO1xuXHR2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cdGlmICghY3NzTWFwcGluZykge1xuXHRcdHJldHVybiBjb250ZW50O1xuXHR9XG5cblx0aWYgKHVzZVNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdHZhciBzb3VyY2VNYXBwaW5nID0gdG9Db21tZW50KGNzc01hcHBpbmcpO1xuXHRcdHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG5cdFx0XHRyZXR1cm4gJy8qIyBzb3VyY2VVUkw9JyArIGNzc01hcHBpbmcuc291cmNlUm9vdCArIHNvdXJjZSArICcgKi8nXG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKCdcXG4nKTtcblx0fVxuXG5cdHJldHVybiBbY29udGVudF0uam9pbignXFxuJyk7XG59XG5cbi8vIEFkYXB0ZWQgZnJvbSBjb252ZXJ0LXNvdXJjZS1tYXAgKE1JVClcbmZ1bmN0aW9uIHRvQ29tbWVudChzb3VyY2VNYXApIHtcblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG5cdHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpO1xuXHR2YXIgZGF0YSA9ICdzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCwnICsgYmFzZTY0O1xuXG5cdHJldHVybiAnLyojICcgKyBkYXRhICsgJyAqLyc7XG59XG4iLCJhbmd1bGFyLm1vZHVsZSgncHViZ0FwcCcpXHJcbiAgICAuY29tcG9uZW50KCdhcHBQbGF5ZXJTZWN0aW9uJywge1xyXG4gICAgICAgIHRlbXBsYXRlOiByZXF1aXJlKCcuL3BsYXllci1zZWN0aW9uLmh0bWwnKSxcclxuICAgICAgICBjb250cm9sbGVyOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG4iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoZmFsc2UpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiKiwgKjo6YmVmb3JlLCAqOjphZnRlciB7XFxyXFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxyXFxuICAgIG1hcmdpbjogMDtcXHJcXG4gICAgcGFkZGluZzowO1xcclxcbn1cXHJcXG5cXHJcXG5odG1sIHtcXHJcXG4gICAgZm9udC1zaXplOiA2Mi41JTtcXHJcXG59XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi9tYWluLmNzc1wiKTtcblxuaWYodHlwZW9mIGNvbnRlbnQgPT09ICdzdHJpbmcnKSBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG5cbnZhciB0cmFuc2Zvcm07XG52YXIgaW5zZXJ0SW50bztcblxuXG5cbnZhciBvcHRpb25zID0ge1wiaG1yXCI6dHJ1ZX1cblxub3B0aW9ucy50cmFuc2Zvcm0gPSB0cmFuc2Zvcm1cbm9wdGlvbnMuaW5zZXJ0SW50byA9IHVuZGVmaW5lZDtcblxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vbWFpbi5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vbWFpbi5jc3NcIik7XG5cblx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblxuXHRcdHZhciBsb2NhbHMgPSAoZnVuY3Rpb24oYSwgYikge1xuXHRcdFx0dmFyIGtleSwgaWR4ID0gMDtcblxuXHRcdFx0Zm9yKGtleSBpbiBhKSB7XG5cdFx0XHRcdGlmKCFiIHx8IGFba2V5XSAhPT0gYltrZXldKSByZXR1cm4gZmFsc2U7XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3Ioa2V5IGluIGIpIGlkeC0tO1xuXG5cdFx0XHRyZXR1cm4gaWR4ID09PSAwO1xuXHRcdH0oY29udGVudC5sb2NhbHMsIG5ld0NvbnRlbnQubG9jYWxzKSk7XG5cblx0XHRpZighbG9jYWxzKSB0aHJvdyBuZXcgRXJyb3IoJ0Fib3J0aW5nIENTUyBITVIgZHVlIHRvIGNoYW5nZWQgY3NzLW1vZHVsZXMgbG9jYWxzLicpO1xuXG5cdFx0dXBkYXRlKG5ld0NvbnRlbnQpO1xuXHR9KTtcblxuXHRtb2R1bGUuaG90LmRpc3Bvc2UoZnVuY3Rpb24oKSB7IHVwZGF0ZSgpOyB9KTtcbn0iLCJleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXCIpKGZhbHNlKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIi8qIFN0eWxlIHRoZSB2aWRlbzogMTAwJSB3aWR0aCBhbmQgaGVpZ2h0IHRvIGNvdmVyIHRoZSBlbnRpcmUgd2luZG93ICovXFxyXFxuI215VmlkZW8ge1xcclxcbiAgICBwb3NpdGlvbjogZml4ZWQ7XFxyXFxuICAgIHJpZ2h0OiAwO1xcclxcbiAgICBib3R0b206IDA7XFxyXFxuICAgIG1pbi13aWR0aDogMTAwJTsgXFxyXFxuICAgIG1pbi1oZWlnaHQ6IDEwMCU7XFxyXFxufVxcclxcblxcclxcbi8qIEFkZCBzb21lIGNvbnRlbnQgYXQgdGhlIGJvdHRvbSBvZiB0aGUgdmlkZW8vcGFnZSAqL1xcclxcbi5jb250ZW50IHtcXHJcXG4gICAgcG9zaXRpb246IGZpeGVkO1xcclxcbiAgICBib3R0b206IDA7XFxyXFxuICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC41KTtcXHJcXG4gICAgY29sb3I6ICNmMWYxZjE7XFxyXFxuICAgIHdpZHRoOiAxMDAlO1xcclxcbiAgICBwYWRkaW5nOiAyMHB4O1xcclxcbn1cXHJcXG5cXHJcXG4vKiBTdHlsZSB0aGUgYnV0dG9uIHVzZWQgdG8gcGF1c2UvcGxheSB0aGUgdmlkZW8gKi9cXHJcXG4jbXlCdG4ge1xcclxcbiAgICB3aWR0aDogMjAwcHg7XFxyXFxuICAgIGZvbnQtc2l6ZTogMThweDtcXHJcXG4gICAgcGFkZGluZzogMTBweDtcXHJcXG4gICAgYm9yZGVyOiBub25lO1xcclxcbiAgICBiYWNrZ3JvdW5kOiAjMDAwO1xcclxcbiAgICBjb2xvcjogI2ZmZjtcXHJcXG4gICAgY3Vyc29yOiBwb2ludGVyO1xcclxcbn1cXHJcXG5cXHJcXG4jbXlCdG46aG92ZXIge1xcclxcbiAgICBiYWNrZ3JvdW5kOiAjZGRkO1xcclxcbiAgICBjb2xvcjogYmxhY2s7XFxyXFxufVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcbiIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL3dlbGNvbWUuY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL3dlbGNvbWUuY3NzXCIsIGZ1bmN0aW9uKCkge1xuXHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi93ZWxjb21lLmNzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsIm1vZHVsZS5leHBvcnRzID0gXCI8IS0tIFRoZSB2aWRlbyAtLT5cXHJcXG48dmlkZW8gYXV0b3BsYXkgbXV0ZWQgbG9vcCBpZD1cXFwibXlWaWRlb1xcXCI+XFxyXFxuICAgIDxzb3VyY2Ugc3JjPVxcXCJyYWluLm1wNFxcXCIgdHlwZT1cXFwidmlkZW8vbXA0XFxcIj5cXHJcXG48L3ZpZGVvPlxcclxcblxcclxcbjwhLS0gT3B0aW9uYWw6IHNvbWUgb3ZlcmxheSB0ZXh0IHRvIGRlc2NyaWJlIHRoZSB2aWRlbyAtLT5cXHJcXG48ZGl2IGNsYXNzPVxcXCJjb250ZW50XFxcIj5cXHJcXG4gICAgPGgxPkhlYWRpbmc8L2gxPlxcclxcbiAgICA8cD5Mb3JlbSBpcHN1bS4uLjwvcD4gXFxyXFxuPC9kaXY+XCI7IiwiYW5ndWxhci5tb2R1bGUoJ3B1YmdBcHAnKVxyXG4gICAgLmNvbXBvbmVudCgnYXBwV2VsY29tZScsIHtcclxuICAgICAgICB0ZW1wbGF0ZTogcmVxdWlyZSgnLi93ZWxjb21lLmh0bWwnKSxcclxuICAgICAgICBjb250cm9sbGVyOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcblxyXG5yZXF1aXJlKCcuL3dlbGNvbWUuY3NzJyk7IiwiZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2xpYi9jc3MtYmFzZS5qc1wiKShmYWxzZSk7XG4vLyBpbXBvcnRzXG5cblxuLy8gbW9kdWxlXG5leHBvcnRzLnB1c2goW21vZHVsZS5pZCwgXCIvKiAqIHsgYm94LXNpemluZzogYm9yZGVyLWJveDsgfVxcclxcbmJvZHkge1xcclxcbiAgZm9udDogMTZweCBBcmlhbDsgXFxyXFxufVxcclxcbi5hdXRvY29tcGxldGUge1xcclxcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcclxcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcclxcbn1cXHJcXG5pbnB1dCB7XFxyXFxuICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcXHJcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmMWYxZjE7XFxyXFxuICBwYWRkaW5nOiAxMHB4O1xcclxcbiAgZm9udC1zaXplOiAxNnB4O1xcclxcbn1cXHJcXG5pbnB1dFt0eXBlPXRleHRdIHtcXHJcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmMWYxZjE7XFxyXFxufVxcclxcbmlucHV0W3R5cGU9c3VibWl0XSB7XFxyXFxuICBiYWNrZ3JvdW5kLWNvbG9yOiBEb2RnZXJCbHVlO1xcclxcbiAgY29sb3I6ICNmZmY7XFxyXFxufVxcclxcbi5hdXRvY29tcGxldGUtaXRlbXMge1xcclxcbiAgcG9zaXRpb246IGFic29sdXRlO1xcclxcbiAgYm9yZGVyOiAxcHggc29saWQgI2Q0ZDRkNDtcXHJcXG4gIGJvcmRlci1ib3R0b206IG5vbmU7XFxyXFxuICBib3JkZXItdG9wOiBub25lO1xcclxcbiAgei1pbmRleDogOTk7XFxyXFxuICBcXHJcXG4gIHRvcDogMTAwJTtcXHJcXG4gIGxlZnQ6IDA7XFxyXFxuICByaWdodDogMDtcXHJcXG59XFxyXFxuLmF1dG9jb21wbGV0ZS1pdGVtcyBkaXYge1xcclxcbiAgcGFkZGluZzogMTBweDtcXHJcXG4gIGN1cnNvcjogcG9pbnRlcjtcXHJcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmY7IFxcclxcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNkNGQ0ZDQ7IFxcclxcbn1cXHJcXG4uYXV0b2NvbXBsZXRlLWl0ZW1zIGRpdjpob3ZlciB7XFxyXFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTllOWU5OyBcXHJcXG59XFxyXFxuLmF1dG9jb21wbGV0ZS1hY3RpdmUge1xcclxcbiAgYmFja2dyb3VuZC1jb2xvcjogRG9kZ2VyQmx1ZSAhaW1wb3J0YW50OyBcXHJcXG4gIGNvbG9yOiAjZmZmZmZmOyBcXHJcXG59ICovXCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vcGxheWVyLWZvcm0uY3NzXCIpO1xuXG5pZih0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIGNvbnRlbnQgPSBbW21vZHVsZS5pZCwgY29udGVudCwgJyddXTtcblxudmFyIHRyYW5zZm9ybTtcbnZhciBpbnNlcnRJbnRvO1xuXG5cblxudmFyIG9wdGlvbnMgPSB7XCJobXJcIjp0cnVlfVxuXG5vcHRpb25zLnRyYW5zZm9ybSA9IHRyYW5zZm9ybVxub3B0aW9ucy5pbnNlcnRJbnRvID0gdW5kZWZpbmVkO1xuXG52YXIgdXBkYXRlID0gcmVxdWlyZShcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2xpYi9hZGRTdHlsZXMuanNcIikoY29udGVudCwgb3B0aW9ucyk7XG5cbmlmKGNvbnRlbnQubG9jYWxzKSBtb2R1bGUuZXhwb3J0cyA9IGNvbnRlbnQubG9jYWxzO1xuXG5pZihtb2R1bGUuaG90KSB7XG5cdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL3BsYXllci1mb3JtLmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vcGxheWVyLWZvcm0uY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwibW9kdWxlLmV4cG9ydHMgPSBcIjwhLS1NYWtlIHN1cmUgdGhlIGZvcm0gaGFzIHRoZSBhdXRvY29tcGxldGUgZnVuY3Rpb24gc3dpdGNoZWQgb2ZmOi0tPlxcclxcbjxmb3JtIGF1dG9jb21wbGV0ZT1cXFwib2ZmXFxcIiBhY3Rpb249XFxcIi9hY3Rpb25fcGFnZS5waHBcXFwiPlxcclxcbiAgICA8ZGl2IHN0eWxlPVxcXCJ3aWR0aDozMDBweDtcXFwiPlxcclxcbiAgICAgIDxpbnB1dCBpZD1cXFwibXlJbnB1dFxcXCIgdHlwZT1cXFwidGV4dFxcXCIgbmFtZT1cXFwibXlDb3VudHJ5XFxcIiBwbGFjZWhvbGRlcj1cXFwiQ291bnRyeVxcXCI+XFxyXFxuICAgIDwvZGl2PlxcclxcbiAgICA8aW5wdXQgdHlwZT1cXFwic3VibWl0XFxcIj5cXHJcXG4gIDwvZm9ybT5cIjsiLCJhbmd1bGFyLm1vZHVsZSgncHViZ0FwcCcpXHJcbiAgICAuY29tcG9uZW50KCdhcHBQbGF5ZXJGb3JtJywge1xyXG4gICAgICAgIHRlbXBsYXRlOiByZXF1aXJlKCcuL3BsYXllci1mb3JtLmh0bWwnKSxcclxuICAgICAgICBjb250cm9sbGVyOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcblxyXG5yZXF1aXJlKCcuL3BsYXllci1mb3JtLmNzcycpOyIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoZmFsc2UpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLnBsYXllci1zZWN0aW9uIHtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2VlZTtcXHJcXG59XFxyXFxuXFxyXFxuLmNvbnRhaW5lciB7XFxyXFxuICAgIHdpZHRoOiA4MCU7XFxyXFxuICAgIG1hcmdpbjogYXV0bztcXHJcXG59XFxyXFxuXFxyXFxuLnBsYXllci1jb250YWluZXIge1xcclxcbiAgICBcXHJcXG59XFxyXFxuXFxyXFxuLnBsYXllci1mb3JtLWNvbnRhaW5lciB7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcXHJcXG4gICAgXFxyXFxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxyXFxufVxcclxcblxcclxcbi5wbGF5ZXItaW5wdXQtbmFtZS1zZWN0aW9uIHtcXHJcXG4gICAgd2lkdGg6IDUwJTtcXHJcXG4gICAgbWFyZ2luLWJvdHRvbTogMnJlbTtcXHJcXG59XFxyXFxuXFxyXFxuLnNlbGVjdC1sYWJlbCB7XFxyXFxuICAgIGZvbnQtc2l6ZTogMnJlbTtcXHJcXG4gICAgY29sb3I6ICMzMzMzMzM7XFxyXFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcclxcbn1cXHJcXG5cXHJcXG4ucGxheWVyLW5hbWUtaW5wdXQge1xcclxcbiAgICBmb250LXNpemU6IDJyZW07XFxyXFxuICAgIGhlaWdodDogM3JlbTtcXHJcXG4gICAgd2lkdGg6IDEwMCU7XFxyXFxufVxcclxcblxcclxcbi5wbGF5ZXItcmVnaW9uLXNlbGVjdCB7XFxyXFxuICAgIGhlaWdodDogM3JlbTtcXHJcXG4gICAgZGlzcGxheTogYmxvY2s7XFxyXFxuXFxyXFxuICAgIHdpZHRoOiAxMDAlO1xcclxcbiAgICBmb250LXNpemU6IDJyZW07XFxyXFxufVxcclxcblxcclxcbi5wbGF5ZXItcmVnaW9uLXNlbGVjdC1vcHRpb24ge1xcclxcbiAgICBmb250LXNpemU6IDJyZW07XFxyXFxufVxcclxcblxcclxcbi5wbGF5ZXItbWF0Y2gtc2VsZWN0IHtcXHJcXG4gICBoZWlnaHQ6IDNyZW07XFxyXFxuICAgd2lkdGg6IDEwMCU7XFxyXFxuICAgZGlzcGxheTogYmxvY2s7XFxyXFxuICAgZm9udC1zaXplOiAycmVtXFxyXFxufVxcclxcblxcclxcbi5wbGF5ZXItbWF0Y2gtc2VsZWN0LW9wdGlvbiB7XFxyXFxuIGZsZXgtYmFzaXM6IDUwJTtcXHJcXG59XFxyXFxuXFxyXFxuLnBsYXllci1zZWFyY2gtdXNlci1jb250YWluZXIge1xcclxcbiAgICBkaXNwbGF5OmZsZXg7XFxyXFxufVxcclxcblxcclxcblxcclxcblxcclxcblxcclxcblxcclxcblxcclxcblxcclxcblxcclxcbi5wbGF5ZXItc2VhcmNoLXVzZXItYnV0dG9uIHtcXHJcXG4gICAgZGlzcGxheTogYmxvY2s7XFxyXFxuICAgIGZvbnQtc2l6ZTogMnJlbTtcXHJcXG4gICAgcGFkZGluZzogLjVyZW07XFxyXFxuICAgIGZsZXgtYmFzaXM6IDUwJTtcXHJcXG59XFxyXFxuXFxyXFxuXFxyXFxuLnBsYXllci1zZWxlY3Qtc2VjdGlvbiB7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIHdpZHRoOiA1MCU7XFxyXFxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcXHJcXG4gICAgbWFyZ2luLWJvdHRvbTogMnJlbTtcXHJcXG59XFxyXFxuXFxyXFxuLnBsYXllci1yZWdpb24tY29udGFpbmVye1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICB3aWR0aDogNDUlO1xcclxcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcclxcbn0gXFxyXFxuXFxyXFxuLnBsYXllci1tYXRjaC1jb250YWluZXJ7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIHdpZHRoOiA1MCU7XFxyXFxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxyXFxufSBcXHJcXG5cXHJcXG4ubWF0Y2gtaW5mbyB7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIHdpZHRoOiA1MCU7XFxyXFxuICAgIG1hcmdpbjogYXV0bztcXHJcXG59XFxyXFxuXFxyXFxuLm1hdGNoLWluZm8tY29udGFpbmVyIHtcXHJcXG4gICAgd2lkdGg6IDEwMCU7XFxyXFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcclxcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjY2NjO1xcclxcbn1cXHJcXG5cXHJcXG4ubWF0Y2gtaW5mby1tb2RlIHtcXHJcXG4gICAgZm9udC1zaXplOiAyLjVyZW07XFxyXFxufVxcclxcblxcclxcbi5tYXRjaC1pbmZvLXR5cGV7XFxyXFxuICAgIGZvbnQtc2l6ZTogMi41cmVtO1xcclxcbn1cXHJcXG4ubWF0Y2gtaW5mby1tYXBOYW1le1xcclxcbiAgICBmb250LXNpemU6IDNyZW07XFxyXFxuICAgIGRpc3BsYXk6IGJsb2NrO1xcclxcbiAgICBhbGlnbi1jb250ZW50OiBjZW50ZXI7XFxyXFxufVxcclxcbi5tYXRjaC1pbmZvLXBsYXllckNvdW50e1xcclxcbiAgICBmb250LXNpemU6IDIuNXJlbTtcXHJcXG59XFxyXFxuLm1hdGNoLWluZm8tcGxheWVke1xcclxcbiAgICBmb250LXNpemU6IDIuNXJlbTtcXHJcXG59XFxyXFxuXFxyXFxuXFxyXFxuXFxyXFxuXFxyXFxuXFxyXFxuXFxyXFxuXFxyXFxuLnBsYXllci10YWJsZSB7XFxyXFxuICAgIHdpZHRoOiAxMDAlO1xcclxcbiAgICBmb250LXNpemU6IDJyZW07XFxyXFxufVxcclxcblxcclxcbi5wbGF5ZXItdGFibGUtcm93IHRoOm50aC1jaGlsZCgxKSB7XFxyXFxuICAgIHdpZHRoOiA1JTtcXHJcXG4gICAgXFxyXFxufVxcclxcblxcclxcbi5wbGF5ZXItdGFibGUtcm93IHRoOm50aC1jaGlsZCgyKSB7XFxyXFxuICAgIHdpZHRoOiAyMCU7XFxyXFxufVxcclxcbi5wbGF5ZXItdGFibGUtcm93IHRoOm50aC1jaGlsZCgzKSB7XFxyXFxuICAgIHdpZHRoOiA1JTtcXHJcXG59XFxyXFxuLnBsYXllci10YWJsZS1yb3cgdGg6bnRoLWNoaWxkKDQpIHtcXHJcXG4gICAgd2lkdGg6IDEwJTtcXHJcXG59XFxyXFxuLnBsYXllci10YWJsZS1yb3cgdGg6bnRoLWNoaWxkKDUpIHtcXHJcXG4gICAgd2lkdGg6IDEwJTtcXHJcXG59XFxyXFxuLnBsYXllci10YWJsZS1yb3cgdGg6bnRoLWNoaWxkKDYpIHtcXHJcXG4gICAgd2lkdGg6IDEwJTtcXHJcXG59XFxyXFxuLnBsYXllci10YWJsZS1yb3cgdGg6bnRoLWNoaWxkKDcpIHtcXHJcXG4gICAgd2lkdGg6IDglO1xcclxcbn1cXHJcXG4ucGxheWVyLXRhYmxlLXJvdyB0aDpudGgtY2hpbGQoOCkge1xcclxcbiAgICB3aWR0aDogMTAlO1xcclxcbn1cXHJcXG4ucGxheWVyLXRhYmxlLXJvdyB0aDpudGgtY2hpbGQoOSkge1xcclxcbiAgICB3aWR0aDogOCU7XFxyXFxufVxcclxcbi5wbGF5ZXItdGFibGUtcm93IHRoOm50aC1jaGlsZCgxMCkge1xcclxcbiAgICB3aWR0aDogMTQlO1xcclxcbn1cXHJcXG5cXHJcXG4ucGxheWVyLXRhYmxlIHRib2R5IHRyID4gdGQ6bm90KDpudGgtb2YtdHlwZSgyKSkge1xcclxcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxyXFxufVwiLCBcIlwiXSk7XG5cbi8vIGV4cG9ydHNcbiIsIlxudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL3BsYXllci1pbnB1dC5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vcGxheWVyLWlucHV0LmNzc1wiLCBmdW5jdGlvbigpIHtcblx0XHR2YXIgbmV3Q29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vcGxheWVyLWlucHV0LmNzc1wiKTtcblxuXHRcdGlmKHR5cGVvZiBuZXdDb250ZW50ID09PSAnc3RyaW5nJykgbmV3Q29udGVudCA9IFtbbW9kdWxlLmlkLCBuZXdDb250ZW50LCAnJ11dO1xuXG5cdFx0dmFyIGxvY2FscyA9IChmdW5jdGlvbihhLCBiKSB7XG5cdFx0XHR2YXIga2V5LCBpZHggPSAwO1xuXG5cdFx0XHRmb3Ioa2V5IGluIGEpIHtcblx0XHRcdFx0aWYoIWIgfHwgYVtrZXldICE9PSBiW2tleV0pIHJldHVybiBmYWxzZTtcblx0XHRcdFx0aWR4Kys7XG5cdFx0XHR9XG5cblx0XHRcdGZvcihrZXkgaW4gYikgaWR4LS07XG5cblx0XHRcdHJldHVybiBpZHggPT09IDA7XG5cdFx0fShjb250ZW50LmxvY2FscywgbmV3Q29udGVudC5sb2NhbHMpKTtcblxuXHRcdGlmKCFsb2NhbHMpIHRocm93IG5ldyBFcnJvcignQWJvcnRpbmcgQ1NTIEhNUiBkdWUgdG8gY2hhbmdlZCBjc3MtbW9kdWxlcyBsb2NhbHMuJyk7XG5cblx0XHR1cGRhdGUobmV3Q29udGVudCk7XG5cdH0pO1xuXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufSIsIm1vZHVsZS5leHBvcnRzID0gXCI8c2VjdGlvbiBjbGFzcz1cXFwicGxheWVyLXNlY3Rpb25cXFwiPlxcclxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb250YWluZXJcXFwiPlxcclxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwicGxheWVyLWNvbnRhaW5lclxcXCI+XFxyXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicGxheWVyLWZvcm0tY29udGFpbmVyXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicGxheWVyLWlucHV0LW5hbWUtc2VjdGlvblxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XFxcInNlbGVjdC1sYWJlbFxcXCIgZm9yPVxcXCJwbGF5ZXItbmFtZS1pbnB1dFxcXCI+UGxheWVyIG5hbWU6PC9sYWJlbD5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dCBpZD1cXFwicGxheWVyLW5hbWUtaW5wdXRcXFwiIGNsYXNzPVxcXCJwbGF5ZXItbmFtZS1pbnB1dFxcXCIgbmctbW9kZWw9XFxcIiRjdHJsLnNlYXJjaFBsYXllclxcXCIgdHlwZT1cXFwidGV4dFxcXCIgcGxhY2Vob2xkZXI9XFxcIkVudGVyIHBsYXllciBuYW1lIGhlcmUgLi4uXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxyXFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInBsYXllci1zZWxlY3Qtc2VjdGlvblxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJwbGF5ZXItcmVnaW9uLWNvbnRhaW5lclxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPGgyIGNsYXNzPVxcXCJzZWxlY3QtbGFiZWxcXFwiPlJlZ2lvbjogPC9oMj5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0IGNsYXNzPVxcXCJwbGF5ZXItcmVnaW9uLXNlbGVjdFxcXCIgbmctbW9kZWw9XFxcIiRjdHJsLnJlZ2lvblxcXCIgcGxhY2Vob2xkZXI9XFxcInJlZ2lvblxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gY2xhc3M9XFxcInBsYXllci1yZWdpb24tc2VsZWN0LW9wdGlvblxcXCIgbmctcmVwZWF0PVxcXCJyZWdpb24gaW4gJGN0cmwucmVnaW9uc1xcXCIgdmFsdWU9e3tyZWdpb259fT57e3JlZ2lvbn19PC9vcHRpb24+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXHJcXG5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInBsYXllci1tYXRjaC1jb250YWluZXJcXFwiIG5nLWlmPVxcXCIkY3RybC5tYXRjaGVzXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8aDIgY2xhc3M9XFxcInNlbGVjdC1sYWJlbFxcXCI+TWF0Y2g6IDwvaDI+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdCBjbGFzcz1cXFwicGxheWVyLW1hdGNoLXNlbGVjdFxcXCIgbmctbW9kZWw9XFxcIiRjdHJsLm1hdGNoXFxcIiBuZy1jaGFuZ2U9XFxcIiRjdHJsLmdldE1hdGNoKCRjdHJsLm1hdGNoKVxcXCI+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxvcHRpb24gY2xhc3M9XFxcInBsYXllci1tYXRjaC1zZWxlY3Qtb3B0aW9uXFxcIiBuZy1yZXBlYXQ9XFxcIm1hdGNoIGluICRjdHJsLm1hdGNoZXNcXFwiIHZhbHVlPXt7bWF0Y2guaWR9fT57e21hdGNoLmlkfX08L29wdGlvbj5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NlbGVjdD5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcclxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJwbGF5ZXItc2VhcmNoLXVzZXItY29udGFpbmVyXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cXFwicGxheWVyLXNlYXJjaC11c2VyLWJ1dHRvblxcXCIgbmctY2xpY2s9XFxcIiRjdHJsLnNlYXJjaCgpXFxcIj5TZWFyY2g8L2J1dHRvbj5cXHJcXG5cXHJcXG4gICAgICAgICAgICA8L2Rpdj5cXHJcXG5cXHJcXG5cXHJcXG4gICAgICAgICAgICA8ZGl2IG5nLWlmPVxcXCIkY3RybC5tYXRjaC5kYXRhLmRhdGEuYXR0cmlidXRlc1xcXCIgY2xhc3M9XFxcIm1hdGNoLWluZm8tY29udGFpbmVyXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgPHVsIGNsYXNzPVxcXCJtYXRjaC1pbmZvXFxcIj5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cXFwibWF0Y2gtaW5mby1tYXBOYW1lXFxcIj48ZGl2Pnt7JGN0cmwubWF0Y2guZGF0YS5kYXRhLmF0dHJpYnV0ZXMubWFwTmFtZSB8IG1hcEZpbHRlcn19PC9kaXY+PC9saT5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cXFwibWF0Y2gtaW5mby1tb2RlXFxcIj48ZGl2Pk1vZGU6IHt7JGN0cmwubWF0Y2guZGF0YS5kYXRhLmF0dHJpYnV0ZXMuZ2FtZU1vZGUgfCBtb2RlRmlsdGVyfX08L2Rpdj48L2xpPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVxcXCJtYXRjaC1pbmZvLXR5cGVcXFwiPjxkaXY+TWF0Y2ggdHlwZToge3skY3RybC5tYXRjaC5kYXRhLmRhdGEuYXR0cmlidXRlcy5nYW1lTW9kZSB8IG1hdGNoVHlwZUZpbHRlcn19PC9kaXY+PC9saT5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cXFwibWF0Y2gtaW5mby1wbGF5ZXJDb3VudFxcXCI+PGRpdj5QbGF5ZXIgY291bnQ6IHt7dmlld0RhdGEuZmlsdGVyZWRBcnJheS5sZW5ndGh9fTwvZGl2PjwvbGk+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XFxcIm1hdGNoLWluZm8tcGxheWVkXFxcIj48ZGl2PlBsYXllZCBhdCA6IHt7JGN0cmwubWF0Y2guZGF0YS5kYXRhLmF0dHJpYnV0ZXMuY3JlYXRlZEF0IHwgZGF0ZTonbWVkaXVtJyB9fTwvZGl2PiA8L2xpPlxcclxcbiAgICAgICAgICAgICAgICA8L3VsPlxcclxcbiAgICAgICAgICAgIDwvZGl2PlxcclxcblxcclxcbiAgICAgICAgICAgIDx0YWJsZSBib3JkZXI9XFxcIjFcXFwiIGNsYXNzPVxcXCJwbGF5ZXItdGFibGVcXFwiIG5nLWlmPVxcXCIkY3RybC5tYXRjaFxcXCI+XFxyXFxuICAgICAgICAgICAgICAgIDx0aGVhZD5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDx0ciBjbGFzcz1cXFwicGxheWVyLXRhYmxlLXJvd1xcXCI+XFxyXFxuXFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoPiM8L3RoPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5uYW1lPC90aD5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGg+d2lucGxhY2U8L3RoPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5raWxsczwvdGg+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoPktub2NrZWQgdGltZXM8L3RoPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5kYW1hZ2Vkb25lPC90aD5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGg+YXNzaXN0czwvdGg+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoPkhlYWxlZDwvdGg+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPHRoPnJldml2ZXM8L3RoPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0aD5sb25nZXN0IGtpbGw8L3RoPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPC90cj5cXHJcXG4gICAgICAgICAgICAgICAgPC90aGVhZD5cXHJcXG4gICAgICAgICAgICAgICAgPHRib2R5PlxcclxcbiAgICAgICAgICAgICAgICAgICAgPHRyIG5nLXJlcGVhdD0ncGxheWVyIGluICh2aWV3RGF0YS5maWx0ZXJlZEFycmF5ID0gKCRjdHJsLm1hdGNoLmRhdGEuaW5jbHVkZWQgfCBwbGF5ZXJGaWx0ZXIgKSknPlxcclxcblxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD57eyRpbmRleCArIDF9fTwvdGQ+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkPnt7cGxheWVyLmF0dHJpYnV0ZXMuc3RhdHMubmFtZX19PC90ZD5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQ+e3twbGF5ZXIuYXR0cmlidXRlcy5zdGF0cy53aW5QbGFjZX19PC90ZD5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQ+e3twbGF5ZXIuYXR0cmlidXRlcy5zdGF0cy5raWxsc319KHt7cGxheWVyLmF0dHJpYnV0ZXMuc3RhdHMuaGVhZHNob3RLaWxsc319aGVhZCk8L3RkPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD57e3BsYXllci5hdHRyaWJ1dGVzLnN0YXRzLkRCTk9zfX08L3RkPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD57e3BsYXllci5hdHRyaWJ1dGVzLnN0YXRzLmRhbWFnZURlYWx0IHwgcGFyc2VUb0ludEZpbHRlcn19IGRhbWFnZTwvdGQ+XFxyXFxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkPnt7cGxheWVyLmF0dHJpYnV0ZXMuc3RhdHMuYXNzaXN0c319PC90ZD5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQ+e3twbGF5ZXIuYXR0cmlidXRlcy5zdGF0cy5ib29zdHN9fWJvb3N0IHt7cGxheWVyLmF0dHJpYnV0ZXMuc3RhdHMuaGVhbHN9fWhlYWw8L3RkPlxcclxcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZD57e3BsYXllci5hdHRyaWJ1dGVzLnN0YXRzLnJldml2ZXN9fSByZXZpdmVzPC90ZD5cXHJcXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQ+e3twbGF5ZXIuYXR0cmlidXRlcy5zdGF0cy5sb25nZXN0S2lsbH19bTwvdGQ+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8L3RyPlxcclxcbiAgICAgICAgICAgICAgICA8L3Rib2R5PlxcclxcbiAgICAgICAgICAgIDwvdGFibGU+XFxyXFxuXFxyXFxuXFxyXFxuICAgICAgICAgICAgPCEtLSA8dWwgPlxcclxcbiAgICAgICAgICAgICAgICA8bGkgbmctcmVwZWF0PSdwbGF5ZXIgaW4gJGN0cmwubWF0Y2guZGF0YS5pbmNsdWRlZCB8IHBsYXllckZpbHRlciAnPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+e3twbGF5ZXIuYXR0cmlidXRlcy5zdGF0cy53aW5QbGFjZX19PC9zcGFuPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+e3twbGF5ZXIuYXR0cmlidXRlcy5zdGF0cy5uYW1lfX08L3NwYW4+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj57eycgS2lsbHMgJyArIHBsYXllci5hdHRyaWJ1dGVzLnN0YXRzLmtpbGxzfX08L3NwYW4+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj57eycgUmV2aXZlZDogJyArIHBsYXllci5hdHRyaWJ1dGVzLnN0YXRzLkRCTk9zfX08L3NwYW4+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj57eycgRGFtYWdlIGRlYWx0OiAnICsgcGxheWVyLmF0dHJpYnV0ZXMuc3RhdHMuZGFtYWdlRGVhbHR9fTwvc3Bhbj5cXHJcXG5cXHJcXG4gICAgICAgICAgICAgICAgPC9saT5cXHJcXG4gICAgICAgICAgICA8L3VsPiAtLT5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICA8L2Rpdj5cXHJcXG48L3NlY3Rpb24+XCI7IiwiYW5ndWxhci5tb2R1bGUoJ3B1YmdBcHAnKVxyXG4gICAgLmNvbXBvbmVudCgnYXBwUGxheWVySW5wdXQnLCB7XHJcbiAgICAgICAgdGVtcGxhdGU6IHJlcXVpcmUoJy4vcGxheWVyLWlucHV0Lmh0bWwnKSxcclxuICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsJyRsb2cnLCAnUGxheWVyRGF0YVNlcnZpY2UnLCAnTWF0Y2hEYXRhU2VydmljZScsICdSZWdpb25zU2VydmljZScgLCBmdW5jdGlvbigkc2NvcGUsICRsb2csIFBsYXllckRhdGFTZXJ2aWNlLCBNYXRjaERhdGFTZXJ2aWNlLCBSZWdpb25zU2VydmljZSl7XHJcbiAgICAgICAgICAgIGxldCBjdHJsID0gdGhpcztcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMuJG9uSW5pdCA9IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICBjdHJsLnJlZ2lvbiA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICBSZWdpb25zU2VydmljZS5hbGxSZWdpb25zKCkudGhlbihkYXRhID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjdHJsLnJlZ2lvbnMgPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudmlld0RhdGEgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY3RybC5zZWFyY2ggPSBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgUGxheWVyRGF0YVNlcnZpY2UuZ2V0UGxheWVyKGN0cmwuc2VhcmNoUGxheWVyLCBjdHJsLnJlZ2lvbikudGhlbihkYXRhID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhLmRhdGEuZGF0YVswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3RybC5tYXRjaGVzID0gZGF0YS5kYXRhLmRhdGFbMF0ucmVsYXRpb25zaGlwcy5tYXRjaGVzLmRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coY3RybC5tYXRjaGVzKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBNYXRjaERhdGFTZXJ2aWNlLmdldE1hdGNoRGF0YShjdHJsLm1hdGNoZXNbMF0uaWQpLnRoZW4oZGF0YSA9PiBjb25zb2xlLmxvZyhkYXRhLmRhdGEpKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjdHJsLm1hdGNoZXMuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgTWF0Y2hEYXRhU2VydmljZS5nZXRNYXRjaERhdGEoaXRlbS5pZCkudGhlbihkYXRhID0+IGNvbnNvbGUubG9nKGRhdGEpKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB9KVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGN0cmwuZ2V0TWF0Y2ggPSBmdW5jdGlvbihpZCl7XHJcbiAgICAgICAgICAgICAgICBkZWJ1Z2dlcjtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGlkKTtcclxuICAgICAgICAgICAgICAgIE1hdGNoRGF0YVNlcnZpY2UuZ2V0TWF0Y2hEYXRhKGlkLCBjdHJsLnJlZ2lvbikudGhlbihkYXRhID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjdHJsLm1hdGNoID0gZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnaGVsbGFzZGRzYWRzYWRzYWFzZG8nLCAkc2NvcGUudmlld0RhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdoZWxsYWFhYWFhc2RvJywgY3RybC52aWV3RGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2hlbGxvJywgJHNjb3BlLmZpbHRlcmVkQXJyYXkpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfV1cclxuICAgIH0pXHJcblxyXG5yZXF1aXJlKCcuL3BsYXllci1pbnB1dC5jc3MnKTsiLCJcbi8qKlxuICogV2hlbiBzb3VyY2UgbWFwcyBhcmUgZW5hYmxlZCwgYHN0eWxlLWxvYWRlcmAgdXNlcyBhIGxpbmsgZWxlbWVudCB3aXRoIGEgZGF0YS11cmkgdG9cbiAqIGVtYmVkIHRoZSBjc3Mgb24gdGhlIHBhZ2UuIFRoaXMgYnJlYWtzIGFsbCByZWxhdGl2ZSB1cmxzIGJlY2F1c2Ugbm93IHRoZXkgYXJlIHJlbGF0aXZlIHRvIGFcbiAqIGJ1bmRsZSBpbnN0ZWFkIG9mIHRoZSBjdXJyZW50IHBhZ2UuXG4gKlxuICogT25lIHNvbHV0aW9uIGlzIHRvIG9ubHkgdXNlIGZ1bGwgdXJscywgYnV0IHRoYXQgbWF5IGJlIGltcG9zc2libGUuXG4gKlxuICogSW5zdGVhZCwgdGhpcyBmdW5jdGlvbiBcImZpeGVzXCIgdGhlIHJlbGF0aXZlIHVybHMgdG8gYmUgYWJzb2x1dGUgYWNjb3JkaW5nIHRvIHRoZSBjdXJyZW50IHBhZ2UgbG9jYXRpb24uXG4gKlxuICogQSBydWRpbWVudGFyeSB0ZXN0IHN1aXRlIGlzIGxvY2F0ZWQgYXQgYHRlc3QvZml4VXJscy5qc2AgYW5kIGNhbiBiZSBydW4gdmlhIHRoZSBgbnBtIHRlc3RgIGNvbW1hbmQuXG4gKlxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzcykge1xuICAvLyBnZXQgY3VycmVudCBsb2NhdGlvblxuICB2YXIgbG9jYXRpb24gPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHdpbmRvdy5sb2NhdGlvbjtcblxuICBpZiAoIWxvY2F0aW9uKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiZml4VXJscyByZXF1aXJlcyB3aW5kb3cubG9jYXRpb25cIik7XG4gIH1cblxuXHQvLyBibGFuayBvciBudWxsP1xuXHRpZiAoIWNzcyB8fCB0eXBlb2YgY3NzICE9PSBcInN0cmluZ1wiKSB7XG5cdCAgcmV0dXJuIGNzcztcbiAgfVxuXG4gIHZhciBiYXNlVXJsID0gbG9jYXRpb24ucHJvdG9jb2wgKyBcIi8vXCIgKyBsb2NhdGlvbi5ob3N0O1xuICB2YXIgY3VycmVudERpciA9IGJhc2VVcmwgKyBsb2NhdGlvbi5wYXRobmFtZS5yZXBsYWNlKC9cXC9bXlxcL10qJC8sIFwiL1wiKTtcblxuXHQvLyBjb252ZXJ0IGVhY2ggdXJsKC4uLilcblx0Lypcblx0VGhpcyByZWd1bGFyIGV4cHJlc3Npb24gaXMganVzdCBhIHdheSB0byByZWN1cnNpdmVseSBtYXRjaCBicmFja2V0cyB3aXRoaW5cblx0YSBzdHJpbmcuXG5cblx0IC91cmxcXHMqXFwoICA9IE1hdGNoIG9uIHRoZSB3b3JkIFwidXJsXCIgd2l0aCBhbnkgd2hpdGVzcGFjZSBhZnRlciBpdCBhbmQgdGhlbiBhIHBhcmVuc1xuXHQgICAoICA9IFN0YXJ0IGEgY2FwdHVyaW5nIGdyb3VwXG5cdCAgICAgKD86ICA9IFN0YXJ0IGEgbm9uLWNhcHR1cmluZyBncm91cFxuXHQgICAgICAgICBbXikoXSAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgfCAgPSBPUlxuXHQgICAgICAgICBcXCggID0gTWF0Y2ggYSBzdGFydCBwYXJlbnRoZXNlc1xuXHQgICAgICAgICAgICAgKD86ICA9IFN0YXJ0IGFub3RoZXIgbm9uLWNhcHR1cmluZyBncm91cHNcblx0ICAgICAgICAgICAgICAgICBbXikoXSsgID0gTWF0Y2ggYW55dGhpbmcgdGhhdCBpc24ndCBhIHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgfCAgPSBPUlxuXHQgICAgICAgICAgICAgICAgIFxcKCAgPSBNYXRjaCBhIHN0YXJ0IHBhcmVudGhlc2VzXG5cdCAgICAgICAgICAgICAgICAgICAgIFteKShdKiAgPSBNYXRjaCBhbnl0aGluZyB0aGF0IGlzbid0IGEgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICAgICBcXCkgID0gTWF0Y2ggYSBlbmQgcGFyZW50aGVzZXNcblx0ICAgICAgICAgICAgICkgID0gRW5kIEdyb3VwXG4gICAgICAgICAgICAgICpcXCkgPSBNYXRjaCBhbnl0aGluZyBhbmQgdGhlbiBhIGNsb3NlIHBhcmVuc1xuICAgICAgICAgICkgID0gQ2xvc2Ugbm9uLWNhcHR1cmluZyBncm91cFxuICAgICAgICAgICogID0gTWF0Y2ggYW55dGhpbmdcbiAgICAgICApICA9IENsb3NlIGNhcHR1cmluZyBncm91cFxuXHQgXFwpICA9IE1hdGNoIGEgY2xvc2UgcGFyZW5zXG5cblx0IC9naSAgPSBHZXQgYWxsIG1hdGNoZXMsIG5vdCB0aGUgZmlyc3QuICBCZSBjYXNlIGluc2Vuc2l0aXZlLlxuXHQgKi9cblx0dmFyIGZpeGVkQ3NzID0gY3NzLnJlcGxhY2UoL3VybFxccypcXCgoKD86W14pKF18XFwoKD86W14pKF0rfFxcKFteKShdKlxcKSkqXFwpKSopXFwpL2dpLCBmdW5jdGlvbihmdWxsTWF0Y2gsIG9yaWdVcmwpIHtcblx0XHQvLyBzdHJpcCBxdW90ZXMgKGlmIHRoZXkgZXhpc3QpXG5cdFx0dmFyIHVucXVvdGVkT3JpZ1VybCA9IG9yaWdVcmxcblx0XHRcdC50cmltKClcblx0XHRcdC5yZXBsYWNlKC9eXCIoLiopXCIkLywgZnVuY3Rpb24obywgJDEpeyByZXR1cm4gJDE7IH0pXG5cdFx0XHQucmVwbGFjZSgvXicoLiopJyQvLCBmdW5jdGlvbihvLCAkMSl7IHJldHVybiAkMTsgfSk7XG5cblx0XHQvLyBhbHJlYWR5IGEgZnVsbCB1cmw/IG5vIGNoYW5nZVxuXHRcdGlmICgvXigjfGRhdGE6fGh0dHA6XFwvXFwvfGh0dHBzOlxcL1xcL3xmaWxlOlxcL1xcL1xcL3xcXHMqJCkvaS50ZXN0KHVucXVvdGVkT3JpZ1VybCkpIHtcblx0XHQgIHJldHVybiBmdWxsTWF0Y2g7XG5cdFx0fVxuXG5cdFx0Ly8gY29udmVydCB0aGUgdXJsIHRvIGEgZnVsbCB1cmxcblx0XHR2YXIgbmV3VXJsO1xuXG5cdFx0aWYgKHVucXVvdGVkT3JpZ1VybC5pbmRleE9mKFwiLy9cIikgPT09IDApIHtcblx0XHQgIFx0Ly9UT0RPOiBzaG91bGQgd2UgYWRkIHByb3RvY29sP1xuXHRcdFx0bmV3VXJsID0gdW5xdW90ZWRPcmlnVXJsO1xuXHRcdH0gZWxzZSBpZiAodW5xdW90ZWRPcmlnVXJsLmluZGV4T2YoXCIvXCIpID09PSAwKSB7XG5cdFx0XHQvLyBwYXRoIHNob3VsZCBiZSByZWxhdGl2ZSB0byB0aGUgYmFzZSB1cmxcblx0XHRcdG5ld1VybCA9IGJhc2VVcmwgKyB1bnF1b3RlZE9yaWdVcmw7IC8vIGFscmVhZHkgc3RhcnRzIHdpdGggJy8nXG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIHBhdGggc2hvdWxkIGJlIHJlbGF0aXZlIHRvIGN1cnJlbnQgZGlyZWN0b3J5XG5cdFx0XHRuZXdVcmwgPSBjdXJyZW50RGlyICsgdW5xdW90ZWRPcmlnVXJsLnJlcGxhY2UoL15cXC5cXC8vLCBcIlwiKTsgLy8gU3RyaXAgbGVhZGluZyAnLi8nXG5cdFx0fVxuXG5cdFx0Ly8gc2VuZCBiYWNrIHRoZSBmaXhlZCB1cmwoLi4uKVxuXHRcdHJldHVybiBcInVybChcIiArIEpTT04uc3RyaW5naWZ5KG5ld1VybCkgKyBcIilcIjtcblx0fSk7XG5cblx0Ly8gc2VuZCBiYWNrIHRoZSBmaXhlZCBjc3Ncblx0cmV0dXJuIGZpeGVkQ3NzO1xufTtcbiIsImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoZmFsc2UpO1xuLy8gaW1wb3J0c1xuXG5cbi8vIG1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLnRvcG5hdiB7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6ICMzMzM7XFxyXFxuICAgIG92ZXJmbG93OiBoaWRkZW47XFxyXFxufVxcclxcblxcclxcbi8qIFN0eWxlIHRoZSBsaW5rcyBpbnNpZGUgdGhlIG5hdmlnYXRpb24gYmFyICovXFxyXFxuLnRvcG5hdiBhIHtcXHJcXG4gICAgZmxvYXQ6IGxlZnQ7XFxyXFxuICAgIGNvbG9yOiAjZjJmMmYyO1xcclxcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxyXFxuICAgIHBhZGRpbmc6IDE0cHggMTZweDtcXHJcXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcclxcbiAgICBmb250LXNpemU6IDE3cHg7XFxyXFxufVxcclxcblxcclxcbi8qIENoYW5nZSB0aGUgY29sb3Igb2YgbGlua3Mgb24gaG92ZXIgKi9cXHJcXG4udG9wbmF2IGE6aG92ZXIge1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGRkO1xcclxcbiAgICBjb2xvcjogYmxhY2s7XFxyXFxufVxcclxcblxcclxcbi8qIEFkZCBhIGNvbG9yIHRvIHRoZSBhY3RpdmUvY3VycmVudCBsaW5rICovXFxyXFxuLnRvcG5hdiBhLmFjdGl2ZSB7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6ICM0Q0FGNTA7XFxyXFxuICAgIGNvbG9yOiB3aGl0ZTtcXHJcXG59XFxyXFxuXCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuIiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vbmF2LWJhci5jc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2luZGV4LmpzIS4vbmF2LWJhci5jc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuL25hdi1iYXIuY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59IiwibW9kdWxlLmV4cG9ydHMgPSBcIjxkaXYgY2xhc3M9XFxcInRvcG5hdlxcXCI+XFxyXFxuICAgIDxhIGNsYXNzPVxcXCJhY3RpdmVcXFwiIGhyZWY9XFxcIiNob21lXFxcIj5Ib21lPC9hPlxcclxcbiAgICA8YSBocmVmPVxcXCIjbmV3c1xcXCI+TmV3czwvYT5cXHJcXG4gICAgPGEgaHJlZj1cXFwiI2NvbnRhY3RcXFwiPkNvbnRhY3Q8L2E+XFxyXFxuICAgIDxhIGhyZWY9XFxcIiNhYm91dFxcXCI+QWJvdXQ8L2E+XFxyXFxuPC9kaXY+XFxyXFxuPCEtLSA8aGVhZGVyIGNsYXNzPVxcXCJuYXZpZ2F0aW9uXFxcIj5cXHJcXG4gICAgPGRpdiBjbGFzcz1cXFwiY29udGFpbmVyXFxcIj5cXHJcXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImhlYWRlclxcXCI+XFxyXFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwibG9nb1xcXCI+XFxyXFxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVxcXCJcXFwiIGFsdD1cXFwiXFxcIj5cXHJcXG4gICAgICAgICAgICA8L2Rpdj5cXHJcXG4gICAgICAgICAgICA8bmF2IGNsYXNzPVxcXCJuYXZcXFwiPlxcclxcbiAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XFxcIm5hdmxpc3RcXFwiPlxcclxcbiAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVxcXCJuYXZpdGVtXFxcIj5QbGF5ZXJzPC9saT5cXHJcXG4gICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cXFwibmF2aXRlbVxcXCI+TWF0Y2hlczwvbGk+XFxyXFxuICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XFxcIm5hdml0ZW1cXFwiPkFib3V0PC9saT5cXHJcXG4gICAgICAgICAgICAgICAgPC91bD5cXHJcXG4gICAgICAgICAgICA8L25hdj5cXHJcXG4gICAgICAgIDwvZGl2PlxcclxcbiAgICA8L2Rpdj5cXHJcXG48L2hlYWRlcj4gLS0+XCI7IiwiYW5ndWxhci5tb2R1bGUoJ3B1YmdBcHAnKVxyXG4gICAgLmNvbXBvbmVudCgnYXBwTmF2QmFyJywge1xyXG4gICAgICAgIHRlbXBsYXRlOiByZXF1aXJlKCcuL25hdi1iYXIuaHRtbCcpLFxyXG4gICAgICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IFwiV2lsbGlhbVwiO1xyXG4gICAgICAgIH1cclxuICAgIH0pXHJcblxyXG5yZXF1aXJlKCcuL25hdi1iYXIuY3NzJyk7IiwibW9kdWxlLmV4cG9ydHMgPSBcIjxwPkhlbGxvIHBsYXllciE8L3A+XFxyXFxuPGFwcC1wbGF5ZXItaW5wdXQ+PC9hcHAtcGxheWVyLWlucHV0PlxcclxcblwiOyIsImFuZ3VsYXIubW9kdWxlKCdwdWJnQXBwJylcclxuICAgIC5maWx0ZXIoJ21hcEZpbHRlcicsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGl0ZW0pe1xyXG4gICAgICAgICAgICBpZighaXRlbSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IHNwbGl0dGVkID0gaXRlbS5zcGxpdCgnXycpO1xyXG4gICAgICAgICAgICBzcGxpdHRlZC5wb3AoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHNwbGl0dGVkLmpvaW4oJycpO1xyXG4gICAgICAgIH1cclxuICAgIH0pOyIsImFuZ3VsYXIubW9kdWxlKCdwdWJnQXBwJylcclxuICAgIC5maWx0ZXIoJ21hdGNoVHlwZUZpbHRlcicsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGl0ZW0pe1xyXG4gICAgICAgICAgICBpZighaXRlbSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IHNwbGl0dGVkID0gaXRlbS5zcGxpdCgnLScpO1xyXG4gICAgICAgICAgICBzcGxpdHRlZC5zaGlmdCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gc3BsaXR0ZWQuam9pbignJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7IiwiYW5ndWxhci5tb2R1bGUoJ3B1YmdBcHAnKVxyXG4gICAgLmZpbHRlcignbW9kZUZpbHRlcicsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGl0ZW0pe1xyXG4gICAgICAgICAgICBpZighaXRlbSl7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IHNwbGl0dGVkID0gaXRlbS5zcGxpdCgnLScpO1xyXG4gICAgICAgICAgICBzcGxpdHRlZC5wb3AoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHNwbGl0dGVkLmpvaW4oJycpO1xyXG5cclxuICAgICAgICB9XHJcbiAgICB9KTsiLCJhbmd1bGFyLm1vZHVsZSgncHViZ0FwcCcpXHJcbiAgICAuZmlsdGVyKCdwYXJzZVRvSW50RmlsdGVyJywgZnVuY3Rpb24oKXtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oaXRlbSl7XHJcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludChpdGVtKS50b0ZpeGVkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7IiwiYW5ndWxhci5tb2R1bGUoJ3B1YmdBcHAnKVxyXG4gICAgLmZpbHRlcigncGxheWVyRmlsdGVyJywgZnVuY3Rpb24oKXtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oaXRlbXMpe1xyXG4gICAgICAgICAgICBsZXQgaXRlbXNBcnJheSA9ICBpdGVtcy5maWx0ZXIoaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS50eXBlID09ICdwYXJ0aWNpcGFudCc7XHJcbiAgICAgICAgICAgIH0pLnNvcnQoKGEsYik9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYVBvcyA9IHBhcnNlSW50KGEuYXR0cmlidXRlcy5zdGF0cy53aW5QbGFjZSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgYlBvcyA9IHBhcnNlSW50KGIuYXR0cmlidXRlcy5zdGF0cy53aW5QbGFjZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBEbyBvdXIgY3VzdG9tIHRlc3RcclxuICAgICAgICAgICAgICAgIGlmIChhUG9zICA+IGJQb3MgKSByZXR1cm4gMTtcclxuICAgICAgICAgICAgICAgIGlmIChhUG9zIDwgYlBvcykgcmV0dXJuIC0xOyAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7IFxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH0pIFxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhpdGVtc0FycmF5KTtcclxuICAgICAgICAgICAgcmV0dXJuICBpdGVtc0FycmF5O1xyXG4gICAgICAgIH1cclxuICAgIH0pOyIsImNsYXNzIFJlZ2lvbnNTZXJ2aWNlIHtcclxuICAgIGNvbnN0cnVjdG9yKCRxKXtcclxuICAgICAgICB0aGlzLnEgPSAkcTtcclxuICAgIH1cclxuXHJcbiAgICBhbGxSZWdpb25zKCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucSgocmVzb2x2ZSwgcmVqZWN0KT0+IHtcclxuICAgICAgICAgICAgcmVzb2x2ZShbJ3hib3gtYXMnLCAneGJveC1ldScsICd4Ym94LW5hJywgJ3hib3gtb2MnLCAncGMta3JqcCcsICdwYy1qcCcsICdwYy1uYScsICdwYy1ldScsICdwYy1vYycsICdwYy1rYWthbycsICdwYy1zZWEnLCAncGMtc2EnLCAncGMtYXMnXSlcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgXHJcbn1cclxuXHJcbmFuZ3VsYXIubW9kdWxlKCdwdWJnQXBwJylcclxuICAgIC5zZXJ2aWNlKCdSZWdpb25zU2VydmljZScsIFsnJHEnLCBSZWdpb25zU2VydmljZV0pOyIsImNsYXNzIFBsYXllckRhdGFTZXJ2aWNlIHtcclxuICAgIGNvbnN0cnVjdG9yKCRodHRwKXtcclxuICAgICAgICB0aGlzLmh0dHAgPSAkaHR0cDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRQbGF5ZXIobmFtZSwgcmVnaW9uKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5odHRwKHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgICAgICAgdXJsOiBgaHR0cHM6Ly9hcGkucGxheWJhdHRsZWdyb3VuZHMuY29tL3NoYXJkcy8ke3JlZ2lvbn0vcGxheWVycz9maWx0ZXJbcGxheWVyTmFtZXNdPSR7bmFtZX1gLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICBcIkFjY2VwdFwiOiBcImFwcGxpY2F0aW9uL3ZuZC5hcGkranNvblwiLFxyXG4gICAgICAgICAgICAgICAgXCJBdXRob3JpemF0aW9uXCI6IFwiQmVhcmVyIGV5SjBlWEFpT2lKS1YxUWlMQ0poYkdjaU9pSklVekkxTmlKOS5leUpxZEdraU9pSmxaVFU0TkRkak1DMHhZVGN6TFRBeE16WXRPV0UwTlMwMk1XRmpPVEUzTURKaU1tRWlMQ0pwYzNNaU9pSm5ZVzFsYkc5amEyVnlJaXdpYVdGMElqb3hOVEl5T0Rjek16azJMQ0p3ZFdJaU9pSmliSFZsYUc5c1pTSXNJblJwZEd4bElqb2ljSFZpWnlJc0ltRndjQ0k2SW1GemRHOXVNREFpTENKelkyOXdaU0k2SW1OdmJXMTFibWwwZVNJc0lteHBiV2wwSWpveE1IMC5FaGoySG1jdHhxQm82dFhLSmdGZ2F4YUNpak42UU8zYWNxYmRidWRqeTUwXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn1cclxuXHJcbmFuZ3VsYXIubW9kdWxlKCdwdWJnQXBwJylcclxuICAgIC5zZXJ2aWNlKCdQbGF5ZXJEYXRhU2VydmljZScsIFsnJGh0dHAnLCBQbGF5ZXJEYXRhU2VydmljZV0pOyIsImNsYXNzIE1hdGNoRGF0YVNlcnZpY2Uge1xyXG4gICAgY29uc3RydWN0b3IoJGh0dHApe1xyXG4gICAgICAgIHRoaXMuaHR0cCA9ICRodHRwO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBnZXRNYXRjaERhdGEobWF0Y2hJZCwgcmVnaW9uKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5odHRwKHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgICAgICAgdXJsOiBgaHR0cHM6Ly9hcGkucGxheWJhdHRsZWdyb3VuZHMuY29tL3NoYXJkcy8ke3JlZ2lvbn0vbWF0Y2hlcy8ke21hdGNoSWR9YCwgXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgIFwiQWNjZXB0XCI6IFwiYXBwbGljYXRpb24vdm5kLmFwaStqc29uXCIsXHJcbiAgICAgICAgICAgICAgICBcIkF1dGhvcml6YXRpb25cIjogXCJCZWFyZXIgZXlKMGVYQWlPaUpLVjFRaUxDSmhiR2NpT2lKSVV6STFOaUo5LmV5SnFkR2tpT2lKbFpUVTRORGRqTUMweFlUY3pMVEF4TXpZdE9XRTBOUzAyTVdGak9URTNNREppTW1FaUxDSnBjM01pT2lKbllXMWxiRzlqYTJWeUlpd2lhV0YwSWpveE5USXlPRGN6TXprMkxDSndkV0lpT2lKaWJIVmxhRzlzWlNJc0luUnBkR3hsSWpvaWNIVmlaeUlzSW1Gd2NDSTZJbUZ6ZEc5dU1EQWlMQ0p6WTI5d1pTSTZJbU52YlcxMWJtbDBlU0lzSW14cGJXbDBJam94TUgwLkVoajJIbWN0eHFCbzZ0WEtKZ0ZnYXhhQ2lqTjZRTzNhY3FiZGJ1ZGp5NTBcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufVxyXG5cclxuYW5ndWxhci5tb2R1bGUoJ3B1YmdBcHAnKVxyXG4gICAgLnNlcnZpY2UoJ01hdGNoRGF0YVNlcnZpY2UnLCBbJyRodHRwJywgTWF0Y2hEYXRhU2VydmljZV0pOyIsInZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgncHViZ0FwcCcsIFtdKTtcclxuXHJcblxyXG4vLyByZXF1aXJlKCdib290c3RyYXAnKTtcclxuLy8gcmVxdWlyZSgnLi9ub2RlX21vZHVsZXMvYm9vdHN0cmFwL2Rpc3QvanMvYm9vdHN0cmFwJyk7XHJcbi8vIHJlcXVpcmUoJy4vbm9kZV9tb2R1bGVzL2Jvb3RzdHJhcC9kaXN0L2pzL2Jvb3RzdHJhcC5idW5kbGUnKVxyXG5cclxuLy8gYXBwLmNvbmZpZyhbJyRxUHJvdmlkZXInLCBmdW5jdGlvbiAoJHFQcm92aWRlcikge1xyXG4vLyAgICAgJHFQcm92aWRlci5lcnJvck9uVW5oYW5kbGVkUmVqZWN0aW9ucyhmYWxzZSk7XHJcbi8vIH1dKTtcclxucmVxdWlyZSgnLi9zZXJ2aWNlcy9tYXRjaC1kYXRhLXNlcnZpY2UnKTtcclxucmVxdWlyZSgnLi9zZXJ2aWNlcy9wbGF5ZXItZGF0YS1zZXJ2aWNlJyk7XHJcbnJlcXVpcmUoJy4vc2VydmljZXMvcmVnaW9ucy1zZXJ2aWNlJyk7XHJcblxyXG5yZXF1aXJlKCcuL2ZpbHRlcnMvcGxheWVycy5maWx0ZXInKTtcclxucmVxdWlyZSgnLi9maWx0ZXJzL3BhcnNlVG9JbnQuZmlsdGVyJyk7XHJcbnJlcXVpcmUoJy4vZmlsdGVycy9tb2RlLmZpbHRlcicpO1xyXG5yZXF1aXJlKCcuL2ZpbHRlcnMvbWF0Y2hUeXBlLmZpbHRlcicpO1xyXG5yZXF1aXJlKCcuL2ZpbHRlcnMvbWFwLmZpbHRlcicpO1xyXG5cclxucmVxdWlyZSgnLi9jb21wb25lbnRzL3BsYXllci1zZWN0aW9uL3BsYXllci1zZWN0aW9uLmNvbXBvbmVudCcpO1xyXG5yZXF1aXJlKCcuL2NvbXBvbmVudHMvbmF2LWJhci9uYXYtYmFyLmNvbXBvbmVudCcpO1xyXG5yZXF1aXJlKCcuL2NvbXBvbmVudHMvcGxheWVyLXNlY3Rpb24vcGxheWVyLXNlY3Rpb24uY29tcG9uZW50Jyk7XHJcbnJlcXVpcmUoJy4vY29tcG9uZW50cy9wbGF5ZXItc2VjdGlvbi9wbGF5ZXItaW5wdXQvcGxheWVyLWlucHV0LmNvbXBvbmVudCcpO1xyXG5yZXF1aXJlKCcuL2NvbXBvbmVudHMvcGxheWVyLWZvcm0vcGxheWVyLWZvcm0uY29tcG9uZW50Jyk7XHJcbnJlcXVpcmUoJy4vY29tcG9uZW50cy9sb2dpbi9sb2dpbicpO1xyXG5yZXF1aXJlKCcuL2NvbXBvbmVudHMvd2VsY29tZS93ZWxjb21lLmNvbXBvbmVudCcpO1xyXG5cclxucmVxdWlyZSgnLi9tYWluLmNzcycpOyJdLCJzb3VyY2VSb290IjoiIn0=